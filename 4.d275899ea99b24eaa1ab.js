(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",function(){return P});var r=n("ofXK"),a=n("tyNb"),s=n("fXoL");let i=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-login"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Pb(0,"p"),s.oc(1,"login works!"),s.Ob())},styles:[""]}),t})();var o=n("3Pt+");function c(t,e,n,r){return new(n||(n=Promise))(function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,o)}c((r=r.apply(t,e||[])).next())})}var u=n("I/3d"),l=n("UbJi"),p=n("dNgK");let d=(()=>{class t{constructor(t,e,n,r,a){this.db=t,this.afAuth=e,this.router=n,this.snackBar=r,this.ngZone=a,this.afAuth.authState.subscribe(t=>{t?(this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}signUp(t,e){return this.afAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.sendVerificationMail(),this.setUserData(t.user)}).catch(t=>{this.snackBar.open(t.message,"Ok",{duration:5e3})})}sendVerificationMail(){return c(this,void 0,void 0,function*(){return(yield this.afAuth.currentUser).sendEmailVerification().then(()=>{this.router.navigateByUrl("verify-email-address")})})}signIn(t,e){return this.afAuth.signInWithEmailAndPassword(t,e).then(t=>{this.ngZone.run(()=>{this.router.navigateByUrl("admin-panel")}),this.setUserData(t.user)}).catch(t=>{this.snackBar.open(t.message,"Ok",{duration:5e3})})}setUserData(t){return this.db.doc("users/"+t.uid).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}forgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{this.snackBar.open("Please check your mail inbox.","Ok",{duration:5e3})}).catch(t=>{this.snackBar.open(t.message,"Ok",{duration:5e3})})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}googleAuth(){return c(this,void 0,void 0,function*(){return yield this.authLogin(this.googleAuth())})}authLogin(t){return this.afAuth.signInWithPopup(t).then(t=>{this.ngZone.run(()=>{this.router.navigateByUrl("admin-panel")}),this.setUserData(t.user)}).catch(t=>{this.snackBar.open(t.message,"Ok",{duration:5e3})})}signOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigateByUrl("sign-in")})}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(u.a),s.Tb(l.a),s.Tb(a.a),s.Tb(p.a),s.Tb(s.A))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n("Wp6s"),m=n("gA0Q"),b=n("Qu3c"),f=n("bTqV");let g=(()=>{class t{constructor(t,e,n){this.authService=t,this.builder=e,this.snackBar=n}ngOnInit(){this.FormData=this.builder.group({email:new o.c("",[o.k.required,o.k.pattern("^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$")]),password:new o.c("",[o.k.required,o.k.pattern("^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).{4,8}$")])})}register(t){this.authService.signIn(t.email,t.password).then(()=>{this.snackBar.open("You have successfully registared","Ok",{duration:5e3}),this.FormData.reset()}).catch(t=>{this.snackBar.open(t.message,"Ok",{duration:5e3}),this.FormData.reset()})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(d),s.Mb(o.b),s.Mb(p.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-register"]],decls:12,vars:7,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-center","mt-5"],[1,"example-card"],[1,"text-center","fw-bold","fs-3"],[1,"mt-5",3,"formGroup","ngSubmit"],["formControlName","email",3,"label","type"],["matTooltip","Password must be one lower case letter, one upper case letter, one digit, 6-13 length, and no spaces.","formControlName","password",3,"matTooltipPosition","label","type"],[1,"row","g-0"],["mat-raised-button","","color","accent",1,"g-0",3,"disabled"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"mat-card",2),s.Pb(3,"p",3),s.oc(4,"Sign Up"),s.Ob(),s.Pb(5,"mat-card-content"),s.Pb(6,"form",4),s.Wb("ngSubmit",function(){return e.register(e.FormData.value)}),s.Nb(7,"app-text-input",5),s.Nb(8,"app-text-input",6),s.Pb(9,"div",7),s.Pb(10,"button",8),s.oc(11," Sign Up "),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.Cb(6),s.dc("formGroup",e.FormData),s.Cb(1),s.dc("label","Email Address")("type","email"),s.Cb(1),s.dc("matTooltipPosition","above")("label","Password")("type","password"),s.Cb(2),s.dc("disabled",!e.FormData.valid))},directives:[h.a,h.b,o.l,o.i,o.e,m.a,o.h,o.d,b.a,f.a],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px}"]}),t})(),w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-forgot-password"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Pb(0,"p"),s.oc(1,"forgot-password works!"),s.Ob())},styles:[""]}),t})(),v=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-verify-email"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Pb(0,"p"),s.oc(1,"verify-email works!"),s.Ob())},styles:[""]}),t})();const y=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:i},{path:"sign-up",component:g},{path:"admin-panel",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-admin"]],decls:2,vars:0,template:function(t,e){1&t&&(s.Pb(0,"p"),s.oc(1,"admin works!"),s.Ob())},styles:[""]}),t})()},{path:"forgot-password",component:w},{path:"verify-email-address",component:v}];let O=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[r.c,a.b.forChild(y)],a.b]}),t})();var k=n("PCNd");let P=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[r.c,O,k.a]]}),t})()}}]);