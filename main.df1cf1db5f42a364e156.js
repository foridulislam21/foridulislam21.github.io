(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return fs}),n.d(e,"b",function(){return la}),n.d(e,"c",function(){return sa}),n.d(e,"d",function(){return ra}),n.d(e,"e",function(){return ia}),n.d(e,"f",function(){return tu}),n.d(e,"g",function(){return Ba}),n.d(e,"h",function(){return Wi}),n.d(e,"i",function(){return _a}),n.d(e,"j",function(){return Vs}),n.d(e,"k",function(){return da}),n.d(e,"l",function(){return qs}),n.d(e,"m",function(){return wn}),n.d(e,"n",function(){return Vo}),n.d(e,"o",function(){return Y}),n.d(e,"p",function(){return v}),n.d(e,"q",function(){return Z}),n.d(e,"r",function(){return hs}),n.d(e,"s",function(){return oo}),n.d(e,"t",function(){return ao}),n.d(e,"u",function(){return fa}),n.d(e,"v",function(){return dt}),n.d(e,"w",function(){return $a}),n.d(e,"x",function(){return ft}),n.d(e,"y",function(){return Ua}),n.d(e,"z",function(){return Oa}),n.d(e,"A",function(){return b}),n.d(e,"B",function(){return ca}),n.d(e,"C",function(){return ua}),n.d(e,"D",function(){return Gs}),n.d(e,"E",function(){return zs}),n.d(e,"F",function(){return Bs}),n.d(e,"G",function(){return Ks}),n.d(e,"H",function(){return ur}),n.d(e,"I",function(){return _}),n.d(e,"J",function(){return Wa}),n.d(e,"K",function(){return ho}),n.d(e,"L",function(){return ka}),n.d(e,"M",function(){return Zi}),n.d(e,"N",function(){return Ws}),n.d(e,"O",function(){return Js}),n.d(e,"P",function(){return po}),n.d(e,"Q",function(){return bt}),n.d(e,"R",function(){return Va}),n.d(e,"S",function(){return Mn}),n.d(e,"T",function(){return Fn}),n.d(e,"U",function(){return Ya}),n.d(e,"V",function(){return Ra}),n.d(e,"W",function(){return ha}),n.d(e,"X",function(){return Yi}),n.d(e,"Y",function(){return Ao}),n.d(e,"Z",function(){return or}),n.d(e,"ab",function(){return zn}),n.d(e,"bb",function(){return Cn}),n.d(e,"cb",function(){return An}),n.d(e,"db",function(){return Dn}),n.d(e,"eb",function(){return kn}),n.d(e,"fb",function(){return Nn}),n.d(e,"gb",function(){return Pn}),n.d(e,"hb",function(){return Io}),n.d(e,"ib",function(){return Za}),n.d(e,"jb",function(){return xo}),n.d(e,"kb",function(){return Co}),n.d(e,"lb",function(){return jn}),n.d(e,"mb",function(){return z}),n.d(e,"nb",function(){return gs}),n.d(e,"ob",function(){return As}),n.d(e,"pb",function(){return js}),n.d(e,"qb",function(){return To}),n.d(e,"rb",function(){return Zt}),n.d(e,"sb",function(){return D}),n.d(e,"tb",function(){return xn}),n.d(e,"ub",function(){return Gt}),n.d(e,"vb",function(){return jr}),n.d(e,"wb",function(){return ws}),n.d(e,"xb",function(){return Xo}),n.d(e,"yb",function(){return St}),n.d(e,"zb",function(){return At}),n.d(e,"Ab",function(){return O}),n.d(e,"Bb",function(){return T}),n.d(e,"Cb",function(){return xt}),n.d(e,"Db",function(){return Nt}),n.d(e,"Eb",function(){return Es}),n.d(e,"Fb",function(){return Cs}),n.d(e,"Gb",function(){return xs}),n.d(e,"Hb",function(){return Is}),n.d(e,"Ib",function(){return Ls}),n.d(e,"Jb",function(){return ut}),n.d(e,"Kb",function(){return Ss}),n.d(e,"Lb",function(){return na}),n.d(e,"Mb",function(){return Ns}),n.d(e,"Nb",function(){return ta}),n.d(e,"Ob",function(){return Mo}),n.d(e,"Pb",function(){return Uo}),n.d(e,"Qb",function(){return Os}),n.d(e,"Rb",function(){return Yo}),n.d(e,"Sb",function(){return cr}),n.d(e,"Tb",function(){return Ct}),n.d(e,"Ub",function(){return _s}),n.d(e,"Vb",function(){return Ds}),n.d(e,"Wb",function(){return Rs});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function y(t){return{toString:t}.toString()}const m="__parameters__";function g(t,e,n){return y(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(m)?t[m]:Object.defineProperty(t,m,{value:[]})[m];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const v=g("Inject",t=>({token:t})),b=g("Optional"),w=g("Self"),_=g("SkipSelf");var E=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function S(t){for(let e in t)if(t[e]===S)return e;throw Error("Could not find renamed property on target object.")}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return x(t,t[j])||x(t,t[k])}function x(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(P))?t[A]:null}const j=S({"\u0275prov":S}),A=S({"\u0275inj":S}),N=S({"\u0275provFallback":S}),k=S({ngInjectableDef:S}),P=S({ngInjectorDef:S});function D(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(D).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function R(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=S({__forward_ref__:S});function F(t){return t.__forward_ref__=F,t.toString=function(){return D(this())},t}function M(t){return"function"==typeof(e=t)&&e.hasOwnProperty(L)&&e.__forward_ref__===F?t():t;var e}const U="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=U||H||V||q,B=S({"\u0275cmp":S}),G=S({"\u0275dir":S}),$=S({"\u0275pipe":S}),K=S({"\u0275mod":S}),J=S({"\u0275loc":S}),W=S({"\u0275fac":S}),Q=S({__NG_ELEMENT_ID__:S});class Z{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Y=new Z("INJECTOR",-1),X={},tt=/\n/gm,et="__source",nt=S({provide:String,useValue:S});let rt,it=void 0;function st(t){const e=it;return it=t,e}function ot(t){const e=rt;return rt=t,e}function at(t,e=E.Default){if(void 0===it)throw new Error("inject() must be called from an injection context");return null===it?ct(t,void 0,e):it.get(t,e&E.Optional?null:void 0,e)}function ut(t,e=E.Default){return(rt||at)(M(t),e)}function ct(t,e,n){const r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&E.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${D(t)}]`)}function lt(t){const e=[];for(let n=0;n<t.length;n++){const r=M(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=E.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=E.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=E.SkipSelf:i instanceof w||"Self"===i.ngMetadataName||i===w?n|=E.Self:t=i instanceof v||i===v?i.token:i}e.push(ut(t,n))}else e.push(ut(r))}return e}class ht{get(t,e=X){if(e===X){const e=new Error(`NullInjectorError: No provider for ${D(t)}!`);throw e.name="NullInjectorError",e}return e}}class ft{}class dt{}function pt(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),pt(r,e)):e!==t&&e.push(r)}return e}function yt(t,e){t.forEach(t=>Array.isArray(t)?yt(t,e):e(t))}function mt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var vt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),bt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const wt={},_t=[];let Et=0;function St(t){return y(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||bt.Emulated,id:"c",styles:t.styles||_t,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Et++,n.inputs=jt(t.inputs,e),n.outputs=jt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ot):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Tt):null,n})}function Ot(t){return kt(t)||function(t){return t[G]||null}(t)}function Tt(t){return function(t){return t[$]||null}(t)}const It={};function xt(t){const e={type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&y(()=>{It[t.id]=t.type}),e}function Ct(t,e){return y(()=>{const n=Dt(t,!0);n.declarations=e.declarations||_t,n.imports=e.imports||_t,n.exports=e.exports||_t})}function jt(t,e){if(null==t)return wt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const At=St;function Nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function kt(t){return t[B]||null}function Pt(t,e){return t.hasOwnProperty(W)?t[W]:null}function Dt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${D(t)} does not have '\u0275mod' property.`);return n}const Rt=20,Lt=10;function Ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function Mt(t){return Array.isArray(t)&&!0===t[1]}function Ut(t){return 0!=(8&t.flags)}function Vt(t){return 2==(2&t.flags)}function qt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function zt(t){return 0!=(512&t[2])}class Bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Gt(){return $t}function $t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Jt),Kt}function Kt(){const t=Wt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===wt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Jt(t,e,n,r){const i=Wt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:wt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Bt(u&&u.currentValue,e,o===wt),t[r]=e}function Wt(t){return t.__ngSimpleChanges__||null}Gt.ngInherit=!0;let Qt=void 0;function Zt(t){Qt=t}function Yt(t){return!!t.listen}const Xt={createRenderer:(t,e)=>void 0!==Qt?Qt:"undefined"!=typeof document?document:void 0};function te(t){for(;Array.isArray(t);)t=t[0];return t}function ee(t,e){return te(e[t.index])}function ne(t,e){return t.data[e+Rt]}function re(t,e){const n=e[t];return Ft(n)?n:n[0]}function ie(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function se(t){return 4==(4&t[2])}function oe(t){return 128==(128&t[2])}function ae(t,e){return null===t||null==e?null:t[e]}function ue(t){t[18]=0}function ce(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const le={lFrame:xe(null),bindingsEnabled:!0,checkNoChangesMode:!1};function he(){return le.bindingsEnabled}function fe(){return le.lFrame.lView}function de(){return le.lFrame.tView}function pe(){return le.lFrame.previousOrParentTNode}function ye(t,e){le.lFrame.previousOrParentTNode=t,le.lFrame.isParent=e}function me(){return le.lFrame.isParent}function ge(){return le.checkNoChangesMode}function ve(t){le.checkNoChangesMode=t}function be(){return le.lFrame.bindingIndex++}function we(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,_e(e)}function _e(t){le.lFrame.currentDirectiveIndex=t}function Ee(){return le.lFrame.currentQueryIndex}function Se(t){le.lFrame.currentQueryIndex=t}function Oe(t,e){const n=Ie();le.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Te(t,e){const n=Ie(),r=t[1];le.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ie(){const t=le.lFrame,e=null===t?null:t.child;return null===e?xe(t):e}function xe(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ce(){const t=le.lFrame;return le.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const je=Ce;function Ae(){const t=Ce();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ne(){return le.lFrame.selectedIndex}function ke(t){le.lFrame.selectedIndex=t}function Pe(){const t=le.lFrame;return ne(t.tView,t.selectedIndex)}function De(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Re(t,e,n){Me(t,e,3,n)}function Le(t,e,n,r){(3&t[2])===n&&Me(t,e,n,r)}function Fe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Me(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ue(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Ue(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function qe(t,e,n){const r=Yt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];ze(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function He(t){return 3===t||4===t||6===t}function ze(t){return 64===t.charCodeAt(0)}function Be(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ge(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ge(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function $e(t){return-1!==t}function Ke(t){return 32767&t}function Je(t){return t>>16}function We(t,e){let n=Je(t),r=e;for(;n>0;)r=r[15],n--;return r}function Qe(t){return"string"==typeof t?t:null==t?"":""+t}function Ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Qe(t)}const Ye=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Xe(t){return t instanceof Function?t():t}let tn=!0;function en(t){const e=tn;return tn=t,e}let nn=0;function rn(t,e){const n=on(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,sn(r.data,t),sn(e,null),sn(r.blueprint,null));const i=an(t,e),s=t.injectorIndex;if($e(i)){const t=Ke(i),n=We(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function sn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function on(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function an(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function un(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=nn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function cn(t,e,n,r=E.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Oe(e,t);try{const t=i();if(null!=t||r&E.Optional)return t;throw new Error(`No provider for ${Ze(n)}!`)}finally{je()}}else if("number"==typeof i){if(-1===i)return new mn(t,e);let s=null,o=on(t,e),a=-1,u=r&E.Host?e[16][6]:null;for((-1===o||r&E.SkipSelf)&&(a=-1===o?an(t,e):e[o+8],yn(r,!1)?(s=e[1],o=Ke(a),e=We(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(pn(i,o,t.data)){const t=hn(o,e,n,s,r,u);if(t!==ln)return t}yn(r,e[1].data[o+8]===u)&&pn(i,o,e)?(s=t,o=Ke(a),e=We(a,e)):o=-1}}}if(r&E.Optional&&void 0===i&&(i=null),0==(r&(E.Self|E.Host))){const t=e[9],s=ot(void 0);try{return t?t.get(n,i,r&E.Optional):ct(n,i,r&E.Optional)}finally{ot(s)}}if(r&E.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Ze(n)}]`)}const ln={};function hn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=fn(a,o,n,null==r?Vt(a)&&tn:r!=o&&3===a.type,i&E.Host&&s===a);return null!==u?dn(e,o,u,a):ln}function fn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Ht(t)&&t.type===n)return u}return null}function dn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ve){const o=i;if(o.resolving)throw new Error("Circular dep for "+Ze(s[n]));const a=en(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=ot(o.injectImpl)),Oe(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=$t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&ot(u),en(a),o.resolving=!1,je()}}return i}function pn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function yn(t,e){return!(t&E.Self||t&E.Host&&e)}class mn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return cn(this._tNode,this._lView,t,void 0,e)}}function gn(t){return t.ngDebugContext}function vn(t){return t.ngOriginalError}function bn(t,...e){t.error(...e)}class wn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||bn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?gn(t)?gn(t):this._findContext(vn(t)):null}_findOriginalError(t){let e=vn(t);for(;e&&vn(e);)e=vn(e);return e}}class _n{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class En extends _n{getTypeName(){return"HTML"}}class Sn extends _n{getTypeName(){return"Style"}}class On extends _n{getTypeName(){return"Script"}}class Tn extends _n{getTypeName(){return"URL"}}class In extends _n{getTypeName(){return"ResourceURL"}}function xn(t){return t instanceof _n?t.changingThisBreaksApplicationSecurity:t}function Cn(t,e){const n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function jn(t){return t instanceof _n&&t.getTypeName()||null}function An(t){return new En(t)}function Nn(t){return new Sn(t)}function kn(t){return new On(t)}function Pn(t){return new Tn(t)}function Dn(t){return new In(t)}let Rn=!0,Ln=!1;function Fn(){return Ln=!0,Rn}function Mn(){if(Ln)throw new Error("Cannot enable prod mode after platform setup.");Rn=!1}class Un{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Vn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(t){return(t=String(t)).match(qn)||t.match(Hn)?t:(Fn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Bn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const $n=Bn("area,br,col,hr,img,wbr"),Kn=Bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Bn("rp,rt"),Wn=Gn(Jn,Kn),Qn=Gn($n,Gn(Kn,Bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Jn,Bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wn),Zn=Bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yn=Bn("srcset"),Xn=Gn(Zn,Yn,Bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tr=Bn("script,style,template");class er{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Qn.hasOwnProperty(e))return this.sanitizedSomething=!0,!tr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!Xn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Zn[s]&&(o=zn(o)),Yn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>zn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ir(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Qn.hasOwnProperty(e)&&!$n.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ir(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const nr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rr=/([^\#-~ |!])/g;function ir(t){return t.replace(/&/g,"&amp;").replace(nr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(rr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sr;function or(t,e){let n=null;try{sr=sr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Un:new Vn(t)}(t);let r=e?String(e):"";n=sr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=sr.getInertBodyElement(r)}while(r!==s);const o=new er,a=o.sanitizeChildren(ar(n)||n);return Fn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=ar(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ar(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ur=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function cr(t){const e=function(){const t=fe();return t&&t[12]}();return e?e.sanitize(ur.URL,t)||"":Cn(t,"URL")?xn(t):zn(Qe(t))}function lr(t,e){t.__ngContext__=e}function hr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function fr(){throw new Error("Cannot mix multi providers and regular providers")}function dr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const pr="ng-template";function yr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==dr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mr(t){return 0===t.type&&t.tagName!==pr}function gr(t,e,n){return e===(0!==t.type||n?t.tagName:pr)}function vr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(He(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!gr(t,u,n)||""===u&&1===e.length){if(br(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!yr(t.attrs,c,n)){if(br(r))return!1;o=!0}continue}const l=wr(8&r?"class":u,i,mr(t),n);if(-1===l){if(br(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==dr(e,c,0)||2&r&&c!==t){if(br(r))return!1;o=!0}}}}else{if(!o&&!br(r)&&!br(u))return!1;if(o&&br(u))continue;o=!1,r=u|1&r}}return br(r)||o}function br(t){return 0==(1&t)}function wr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function _r(t,e,n=!1){for(let r=0;r<e.length;r++)if(vr(t,e[r],n))return!0;return!1}function Er(t,e){return t?":not("+e.trim()+")":e}function Sr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||br(o)||(e+=Er(s,i),i=""),r=o,s=s||!br(r);n++}return""!==i&&(e+=Er(s,i)),e}const Or={};function Tr(t){const e=t[3];return Mt(e)?e[3]:e}function Ir(t){return Cr(t[13])}function xr(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!Mt(t);)t=t[4];return t}function jr(t){Ar(de(),fe(),Ne()+t,ge())}function Ar(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Re(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Le(e,r,0,n)}ke(n)}function Nr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Se(i),n.contentQueries(2,e[s],s)}}}function kr(t,e,n){return Yt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Pr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ue(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Dr(t,e,n,r,i,s){const o=n+Rt,a=t.data[o]||function(t,e,n,r,i,s){const o=pe(),a=me(),u=a?o:o&&o.parent,c=t.data[n]=Br(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return ye(a,!0),a}function Rr(t,e,n){Te(e,e[6]);try{const r=t.viewQuery;null!==r&&di(1,r,n);const i=t.template;null!==i&&Mr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Nr(t,e),t.staticViewQueries&&di(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ui(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ae()}}function Lr(t,e,n,r){const i=e[2];if(256==(256&i))return;Te(e,e[6]);const s=ge();try{ue(e),le.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Mr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Re(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Le(e,n,0,null),Fe(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=xr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ce(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=xr(e))for(let t=Lt;t<e.length;t++){const n=e[t],r=n[1];oe(n)&&Lr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Nr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Re(e,n)}else{const n=t.contentHooks;null!==n&&Le(e,n,1),Fe(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,ke(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(we(r,i),o(2,e[i])),i++)}}}finally{ke(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)oi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&di(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Re(e,n)}else{const n=t.viewHooks;null!==n&&Le(e,n,2),Fe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ce(e[3],-1))}finally{Ae()}}function Fr(t,e,n,r){const i=e[10],s=!ge(),o=se(e);try{s&&!o&&i.begin&&i.begin(),o&&Rr(t,e,r),Lr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Mr(t,e,n,r,i){const s=Ne();try{ke(-1),2&r&&e.length>Rt&&Ar(t,e,0,ge()),n(r,i)}finally{ke(s)}}function Ur(t,e,n){he()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||rn(n,e),lr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Ht(r);s&&ni(e,n,r);const u=dn(e,t,a,n);lr(u,e),null!==o&&ri(0,a-i,u,r,0,o),s&&(re(n.index,e)[8]=u)}}(t,e,n,ee(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-Rt,u=le.lFrame.currentDirectiveIndex;try{ke(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];_e(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Qr(r,i):o&&s.push(null)}}finally{ke(-1),_e(u)}}(t,e,n))}function Vr(t,e,n=ee){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function qr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Hr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Hr(t,e,n,r,i,s,o,a,u,c){const l=Rt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Or);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function zr(t,e,n,r){const i=yi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Br(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Gr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function $r(t,e,n,r,i,s,o,a){const u=ee(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(gi(t,n,c,r,i),Vt(e)&&function(t,e){const n=re(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Yt(s)?s.setProperty(u,r,i):ze(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Kr(t,e,n,r){let i=!1;if(he()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];_r(n,o.selectors,!1)&&(i||(i=[]),un(rn(n,e),t,o.type),Ht(o)?(2&n.flags&&hr(n),Yr(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,ti(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}Zr(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Be(n.mergedAttrs,c.hostAttrs),ei(t,e,c),Xr(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Rt),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Rt),u=!0),Jr(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||mr(e)?null:ii(n,i);s.push(c),o=Gr(n,u,o),a=Gr(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),Wr(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Be(n.mergedAttrs,n.attrs),i}function Jr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Wr(t,e,n){for(let r=0;r<n;r++)e.push(Or),t.blueprint.push(Or),t.data.push(null)}function Qr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Zr(t,e,n){const r=Rt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Yr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Xr(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function ti(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ei(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Pt(n.type)),i=new Ve(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function ni(t,e,n){const r=ee(e,t),i=qr(n),s=t[10],o=ci(t,Pr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function ri(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function ii(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function si(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function oi(t,e){const n=re(e,t);if(oe(n)){const t=n[1];80&n[2]?Lr(t,n,t.template,n[8]):n[5]>0&&ai(n)}}function ai(t){for(let n=Ir(t);null!==n;n=xr(n))for(let t=Lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Lr(t,e,t.template,e[8])}else e[5]>0&&ai(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=re(e[n],t);oe(r)&&r[5]>0&&ai(r)}}function ui(t,e){const n=re(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Rr(r,n,n[8])}function ci(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function li(t){for(;t;){t[2]|=64;const e=Tr(t);if(zt(t)&&!e)return t;t=e}return null}function hi(t,e,n){const r=e[10];r.begin&&r.begin();try{Lr(t,e,t.template,n)}catch(i){throw mi(e,i),i}finally{r.end&&r.end()}}function fi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ie(n),i=r[1];Fr(i,r,i.template,n)}}(t[8])}function di(t,e,n){Se(0),e(t,n)}const pi=(()=>Promise.resolve(null))();function yi(t){return t[7]||(t[7]=[])}function mi(t,e){const n=t[9],r=n?n.get(wn,null):null;r&&r.handleError(e)}function gi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function vi(t,e){const n=e[3];return-1===t.index?Mt(n)?n:null:n}function bi(t,e){const n=vi(t,e);return n?Ai(e[11],n[7]):null}function wi(t,e,n,r,i){if(null!=r){let s,o=!1;Mt(r)?s=r:Ft(r)&&(o=!0,r=r[0]);const a=te(r);0===t&&null!==n?null==i?Ci(e,n,a):xi(e,n,a,i||null):1===t&&null!==n?xi(e,n,a,i||null):2===t?function(t,e,n){const r=Ai(t,e);r&&function(t,e,n,r){Yt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==te(n)&&wi(e,t,r,s,i);for(let o=Lt;o<n.length;o++){const i=n[o];Ri(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function _i(t,e,n,r){const i=bi(t.node,e);i&&Ri(t,e,e[11],n?1:2,i,r)}function Ei(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ce(e[3],-1),n.splice(r,1)}function Si(t,e){if(t.length<=Lt)return;const n=Lt+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ei(i,r),e>0&&(t[n-1][4]=r[4]);const s=gt(t,Lt+e);_i(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Oi(t,e){if(!(256&e[2])){const n=e[11];Yt(n)&&n.destroyNode&&Ri(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ii(t[1],t);for(;e;){let n=null;if(Ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ft(e)&&Ii(e[1],e),e=Ti(e,t);null===e&&(e=t),Ft(e)&&Ii(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ti(t,e){let n;return Ft(t)&&(n=t[6])&&2===n.type?vi(n,t):t[3]===e?null:t[3]}function Ii(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ve)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):te(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Yt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Mt(e[3])){r!==e[3]&&Ei(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function xi(t,e,n,r){Yt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ci(t,e,n){Yt(t)?t.appendChild(e,n):e.appendChild(n)}function ji(t,e,n,r){null!==r?xi(t,e,n,r):Ci(t,e,n)}function Ai(t,e){return Yt(t)?t.parentNode(e):e.parentNode}function Ni(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?bi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return ee(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==bt.ShadowDom&&n!==bt.Native)return null}return ee(r,n)}(t,r,e);if(null!=i){const t=e[11],s=function(t,e){if(2===t.type){const n=vi(t,e);return null===n?null:Pi(n.indexOf(e,Lt)-Lt,n)}return 4===t.type||5===t.type?ee(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)ji(t,i,n[e],s);else ji(t,i,n,s)}}function ki(t,e){if(null!==e){const n=e.type;if(3===n)return ee(e,t);if(0===n)return Pi(-1,t[e.index]);if(4===n||5===n){const n=e.child;if(null!==n)return ki(t,n);{const n=t[e.index];return Mt(n)?Pi(-1,n):te(n)}}{const n=t[16],r=n[6],i=Tr(n),s=r.projection[e.projection];return null!=s?ki(i,s):ki(t,e.next)}}return null}function Pi(t,e){const n=Lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ki(t,r)}return e[7]}function Di(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&lr(te(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Di(t,e,n.child,r,i,s,!1),wi(e,t,i,a,s)):1===u?Li(t,e,r,n,i,s):wi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Ri(t,e,n,r,i,s){Di(n,r,t.node.child,e,i,s,!1)}function Li(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)wi(e,t,i,a[u],s);else Di(t,e,a,o[3],i,s,!0)}function Fi(t,e,n){Yt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Mi(t,e,n){Yt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ui{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?qi(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Oi(this._lView[1],this._lView)}onDestroy(t){zr(this._lView[1],this._lView,null,t)}markForCheck(){li(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){hi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ve(!0);try{hi(t,e,n)}finally{ve(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ri(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Vi extends Ui{constructor(t){super(t),this._view=t}detectChanges(){fi(this._view)}checkNoChanges(){!function(t){ve(!0);try{fi(t)}finally{ve(!1)}}(this._view)}get context(){return null}}function qi(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(te(s)),Mt(s))for(let t=Lt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&qi(e[1],e,n,r)}const o=n.type;if(4===o||5===o)qi(t,e,n.child,r);else if(1===o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Tr(t);qi(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}let Hi,zi,Bi;function Gi(t,e,n){return Hi||(Hi=class extends t{}),new Hi(ee(e,n))}function $i(t,e,n,r){return zi||(zi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Pr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Rr(e,n,t),new Ui(n)}}),0===n.type?new zi(r,n,Gi(e,n,r)):null}function Ki(t,e,n,r){let i;Bi||(Bi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Gi(e,this._hostTNode,this._hostView)}get injector(){return new mn(this._hostTNode,this._hostView)}get parentInjector(){const t=an(this._hostTNode,this._hostView),e=We(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Je(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return $e(t)&&null!=n?new mn(n,e):new mn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ft,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Mt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Bi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=Lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Lt?(e[4]=n[i],mt(n,Lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),_i(r,n,!0,Pi(i,this._lContainer)),t.attachToViewContainerRef(this),mt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Si(this._lContainer,e);n&&(gt(this._lContainer[8],e),Oi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Si(this._lContainer,e);return n&&null!=gt(this._lContainer[8],e)?new Ui(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Mt(s))i=s;else{let t;if(4===n.type)t=te(s);else if(t=r[11].createComment(""),zt(r)){const e=r[11],i=ee(n,r);xi(e,Ai(e,i),t,function(t,e){return Yt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ni(r[1],r,t,n);r[n.index]=i=si(s,r,t,n),ci(r,i)}return new Bi(i,n,r)}function Ji(t=!1){return function(t,e,n){if(!n&&Vt(t)){const n=re(t.index,e);return new Ui(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ui(e[16],e):null}(pe(),fe(),t)}let Wi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Qi(),t})();const Qi=Ji,Zi=Function,Yi=new Z("Set Injector scope."),Xi={},ts={},es=[];let ns=void 0;function rs(){return void 0===ns&&(ns=new ht),ns}function is(t,e=null,n=null,r){return new ss(t,n,e||rs(),r)}class ss{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&yt(e,n=>this.processProvider(n,t,e)),yt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Y,as(void 0,this));const s=this.records.get(Yi);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:D(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=X,n=E.Default){this.assertNotDestroyed();const r=st(this);try{if(!(n&E.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Z)&&I(t);e=n&&this.injectableDefInScope(n)?as(os(t),Xi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&E.Self?rs():this.parent).get(t,e=n&E.Optional&&e===X?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(D(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[et]&&i.unshift(e[et]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=D(e);if(Array.isArray(e))i=e.map(D).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):D(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{st(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(D(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=M(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{yt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];yt(r,t=>this.processProvider(t,n,r||es))}}this.injectorDefTypes.add(s),this.records.set(s,as(r.factory,Xi));const a=r.providers;if(null!=a&&!o){const e=t;yt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=cs(t=M(t))?t:M(t&&t.provide);const i=function(t,e,n){return us(t)?as(void 0,t.useValue):as(function(t,e,n){let r=void 0;if(cs(t)){const e=M(t);return Pt(e)||os(e)}if(us(t))r=()=>M(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...lt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ut(M(t.useExisting));else{const i=M(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${D(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Pt(i)||os(i);r=()=>new i(...lt(t.deps))}var i;return r}(t,e,n),Xi)}(t,e,n);if(cs(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&fr()}else{let e=this.records.get(r);e?void 0===e.multi&&fr():(e=as(void 0,Xi,!0),e.factory=()=>lt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ts?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(D(t)):e.value===Xi&&(e.value=ts,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function os(t){const e=I(t),n=null!==e?e.factory:Pt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof Z)throw new Error(`Token ${D(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${D(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[j]||t[k]||t[N]&&t[N]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function as(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function us(t){return null!==t&&"object"==typeof t&&nt in t}function cs(t){return"function"==typeof t}const ls=function(t,e,n){return function(t,e=null,n=null,r){const i=is(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let hs=(()=>{class t{static create(t,e){return Array.isArray(t)?ls(t,e,""):ls(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=X,t.NULL=new ht,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>ut(Y)}),t.__NG_ELEMENT_ID__=-1,t})();const fs=new Z("AnalyzeForEntryComponents");function ds(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=R(i,t):2==s&&(r=R(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let ps=null;function ys(){if(!ps){const t=z.Symbol;if(t&&t.iterator)ps=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ps=n)}}}return ps}class ms{constructor(t){this.wrapped=t}static wrap(t){return new ms(t)}static unwrap(t){return ms.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ms}}function gs(t){return!!vs(t)&&(Array.isArray(t)||!(t instanceof Map)&&ys()in t)}function vs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function bs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ws(t,e,n,r){const i=fe();return bs(i,be(),e)&&(de(),function(t,e,n,r,i,s){const o=ee(t,e),a=e[11];if(null==r)Yt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Qe(r):i(r,t.tagName||"",n);Yt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Pe(),i,t,e,n,r)),ws}function _s(t,e,n,r,i,s,o,a){const u=fe(),c=de(),l=t+Rt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Dr(e,n[6],t,0,o||null,ae(c,a));Kr(e,n,l,ae(c,u)),De(e,l);const h=l.tViews=Hr(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Br(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];ye(h,!1);const f=u[11].createComment("");Ni(c,u,f,h),lr(f,u),ci(u,u[l]=si(f,u,f,h)),qt(h)&&Ur(c,u,h),null!=o&&Vr(u,h,a)}function Es(t,e=E.Default){const n=fe();return null==n?ut(t,e):cn(pe(),n,M(t),e)}function Ss(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(He(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(pe(),t)}function Os(t,e,n){const r=fe();return bs(r,be(),e)&&$r(de(),Pe(),r,t,e,r[11],n,!1),Os}function Ts(t,e,n,r,i){const s=i?"class":"style";gi(t,n,e.inputs[s],s,r)}function Is(t,e,n,r){const i=fe(),s=de(),o=Rt+t,a=i[11],u=i[o]=kr(e,a,le.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=ae(a,s),c=Dr(e,n[6],t,3,i,u);return Kr(e,n,c,ae(a,o)),null!==c.attrs&&ds(c,c.attrs,!1),null!==c.mergedAttrs&&ds(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];ye(c,!0);const l=c.mergedAttrs;null!==l&&qe(a,u,l);const h=c.classes;null!==h&&Mi(a,u,h);const f=c.styles;null!==f&&Fi(a,u,f),Ni(s,i,u,c),0===le.lFrame.elementDepthCount&&lr(u,i),le.lFrame.elementDepthCount++,qt(c)&&(Ur(s,i,c),function(t,e,n){if(Ut(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&Vr(i,c)}function xs(){let t=pe();me()?le.lFrame.isParent=!1:(t=t.parent,ye(t,!1));const e=t;le.lFrame.elementDepthCount--;const n=de();n.firstCreatePass&&(De(n,t),Ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ts(n,e,fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ts(n,e,fe(),e.stylesWithoutHost,!1)}function Cs(t,e,n,r){Is(t,e,n,r),xs()}function js(t){return!!t&&"function"==typeof t.then}function As(t){return!!t&&"function"==typeof t.subscribe}function Ns(t,e,n=!1,r){const i=fe(),s=de(),o=pe();return function(t,e,n,r,i,s,o=!1,a){const u=qt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=yi(e);let h=!0;if(3===r.type){const f=ee(r,e),d=a?a(f):wt,p=d.target||f,y=l.length,m=a?t=>a(te(t[r.index])).target:r.index;if(Yt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ps(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,y,y+1)}}else s=Ps(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,y,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Ns}function ks(t,e,n){try{return!1!==e(n)}catch(r){return mi(t,r),!1}}function Ps(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?re(t.index,e):e;0==(32&e[2])&&li(o);let a=ks(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=ks(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ds(t,e=""){const n=fe(),r=de(),i=t+Rt,s=r.firstCreatePass?Dr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Yt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ni(r,n,o,s),ye(s,!1)}function Rs(t,e,n){const r=fe(),i=function(t,e,n,r){return bs(t,be(),n)?e+Qe(n)+r:Or}(r,t,e,n);return i!==Or&&function(t,e,n){const r=function(t,e){return te(e[t+Rt])}(e,t),i=t[11];Yt(i)?i.setValue(r,n):r.textContent=n}(r,Ne(),i),Rs}function Ls(t,e,n){const r=fe();return bs(r,be(),e)&&$r(de(),Pe(),r,t,e,r[11],n,!0),Ls}function Fs(t,e){const n=ie(t)[1],r=n.data.length-1;De(n,{directiveStart:r,directiveEnd:r+1})}class Ms{}class Us{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${D(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Vs=(()=>{class t{}return t.NULL=new Us,t})(),qs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Hs(t),t})();const Hs=function(t){return Gi(t,pe(),fe())};class zs{}var Bs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Gs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>$s(),t})();const $s=function(){const t=fe(),e=re(pe().index,t);return function(t){const e=t[11];if(Yt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ft(e)?e:t)};let Ks=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class Js{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ws=new Js("10.0.14");class Qs{constructor(){}supports(t){return gs(t)}create(t){return new Ys(t)}}const Zs=(t,e)=>e;class Ys{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Zs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<no(n,r,i)?e:n,o=no(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!gs(t))throw new Error(`Error trying to diff '${D(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ys()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Xs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new eo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class to{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class eo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new to,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function no(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ro{constructor(){}supports(t){return t instanceof Map||vs(t)}create(){return new io}}class io{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||vs(t)))throw new Error(`Error trying to diff '${D(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new so(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class so{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let oo=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new Qs])}),t})(),ao=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>new t([new ro])}),t})();const uo=[new ro],co=new oo([new Qs]),lo=new ao(uo);let ho=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fo(t,qs),t})();const fo=function(t,e){return $i(t,e,pe(),fe())};let po=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>yo(t,qs),t})();const yo=function(t,e){return Ki(t,e,pe(),fe())},mo={};class go extends Vs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=kt(t);return new wo(e,this.ngModule)}}function vo(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const bo=new Z("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ye});class wo extends Ms{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Sr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return vo(this.componentDef.inputs)}get outputs(){return vo(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,mo,i);return s!==mo||r===mo?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(zs,Xt),o=i.get(Ks,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Yt(t))return t.selectRootElement(e,n===bt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):kr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ye,clean:pi,playerHandler:null,flags:0},f=Hr(0,-1,null,1,0,null,null,null,null,null),d=Pr(null,f,h,l,null,null,s,a,o,i);let p,y;Te(d,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Dr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ds(a,u,!0),null!==t&&(qe(i,t,u),null!==a.classes&&Mi(i,t,a.classes),null!==a.styles&&Fi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Pr(n,qr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(un(rn(a,n),o,e.type),Yr(o,a),ti(a,n.length,1)),ci(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)qe(a,c,["ng-version",Ws.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!br(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&qe(a,c,t),e&&e.length>0&&Mi(a,c,e.join(" "))}if(y=ne(f,0),void 0!==e){const t=y.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=pe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Zr(t,r,1),ei(t,e,n));const i=dn(e,t,e.length-1,r);lr(i,e);const s=ee(r,e);return s&&lr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=pe();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){ke(a.index-Rt);const t=n[1];Jr(t,e),Wr(t,n,e.hostVars),Qr(e,o)}return o}(t,this.componentDef,d,h,[Fs]),Rr(f,d,null)}finally{Ae()}const m=new _o(this.componentType,p,Gi(qs,y,d),d,y);return f.node.child=y,m}}class _o extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Vi(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Br(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new mn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Eo=void 0;var So=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Oo={};function To(t,e,n){"string"!=typeof e&&(n=e,e=t[Ao.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Oo[e]=t,n&&(Oo[e][Ao.ExtraData]=n)}function Io(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=jo(e);if(n)return n;const r=e.split("-")[0];if(n=jo(r),n)return n;if("en"===r)return So;throw new Error(`Missing locale data for the locale "${t}".`)}function xo(t){return Io(t)[Ao.CurrencyCode]||null}function Co(t){return Io(t)[Ao.PluralCase]}function jo(t){return t in Oo||(Oo[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Oo[t]}var Ao=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const No="en-US";let ko=No;function Po(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ko=t.toLowerCase().replace(/_/g,"-"))}const Do=new Map;function Ro(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${D(e)} vs ${D(e.name)}`)})(e,Do.get(e),t),Do.set(e,t)}let e=t.\u0275mod.imports;e instanceof Function&&(e=e()),e&&e.forEach(t=>Ro(t))}class Lo extends ft{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new go(this);const n=Dt(t),r=t[J]||null;r&&Po(r),this._bootstrapComponents=Xe(n.bootstrap),this._r3Injector=is(t,e,[{provide:ft,useValue:this},{provide:Vs,useValue:this.componentFactoryResolver}],D(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=hs.THROW_IF_NOT_FOUND,n=E.Default){return t===hs||t===ft||t===Y?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fo extends dt{constructor(t){super(),this.moduleType=t,null!==Dt(t)&&Ro(t)}create(t){return new Lo(this.moduleType,t)}}function Mo(t,e){const n=de();let r;const i=t+Rt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Pt(r.type)),o=ot(Es),a=en(!1),u=s();return en(a),ot(o),function(t,e,n,r){const i=n+Rt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,fe(),t,u),u}function Uo(t,e,n){const r=fe(),i=function(t,e){return t[e+Rt]}(r,t);return function(t,e){return ms.isWrapped(e)&&(e=ms.unwrap(e),t[le.lFrame.bindingIndex]=Or),e}(r,function(t,e){return t[1].data[e+Rt].pure}(r,t)?function(t,e,n,r,i,s){const o=e+n;return bs(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===Or?void 0:n}(t,o+1)}(r,function(){const t=le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,i.transform,n,i):i.transform(n))}const Vo=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function qo(){return this._results[ys()]()}class Ho{constructor(){this.dirty=!0,this._results=[],this.changes=new Vo,this.length=0;const t=ys(),e=Ho.prototype;e[t]||(e[t]=qo)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=pt(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class zo{constructor(t){this.queryList=t,this.matches=null}clone(){return new zo(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bo{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Bo(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ea(t,e).matches&&this.queries[e].setDirty()}}class Go{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class $o{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new $o(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ko{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ko(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Jo(e,i)),this.matchTNodeWithReadOption(t,e,fn(e,t,i,!1,!1))}else n===ho?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,fn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===qs||r===po||r===ho&&0===e.type)this.addMatch(e.index,-2);else{const n=fn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Jo(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Wo(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Gi(qs,t,e):0===t.type?$i(ho,qs,t,e):null}(e,t):-2===n?function(t,e,n){return n===qs?Gi(qs,e,t):n===ho?$i(ho,qs,e,t):n===po?Ki(po,qs,e,t):void 0}(t,e,r):dn(t,t[1],n,e)}function Qo(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Wo(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Zo(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Qo(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=Lt;t<o.length;t++){const e=o[t];e[17]===e[3]&&Zo(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Zo(n[1],n,i,r)}}}}}return r}function Yo(t){const e=fe(),n=de(),r=Ee();Se(r+1);const i=ea(n,r);if(t.dirty&&se(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Zo(n,e,r,[]):Qo(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Xo(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new $o),t.queries.track(new Ko(e,n))}(t,new Go(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Ho;zr(t,e,n,n.destroy),null===e[19]&&(e[19]=new Bo),e[19].queries.push(new zo(n))}(t,e)}(de(),fe(),e,n,r,0,pe(),t)}function ta(){return t=fe(),e=Ee(),t[19].queries[e].queryList;var t,e}function ea(t,e){return t.queries.getByIndex(e)}function na(t=E.Default){const e=Ji(!0);if(null!=e||t&E.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const ra=new Z("Application Initializer");let ia=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();js(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ut(ra,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const sa=new Z("AppId"),oa={provide:sa,useFactory:function(){return`${aa()}${aa()}${aa()}`},deps:[]};function aa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ua=new Z("Platform Initializer"),ca=new Z("Platform ID"),la=new Z("appBootstrapListener");let ha=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const fa=new Z("LocaleId"),da=new Z("DefaultCurrencyCode");class pa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ya=function(t){return new Fo(t)},ma=ya,ga=function(t){return Promise.resolve(ya(t))},va=function(t){const e=ya(t),n=Xe(Dt(t).declarations).reduce((t,e)=>{const n=kt(e);return n&&t.push(new wo(n)),t},[]);return new pa(e,n)},ba=va,wa=function(t){return Promise.resolve(va(t))};let _a=(()=>{class t{constructor(){this.compileModuleSync=ma,this.compileModuleAsync=ga,this.compileModuleAndAllComponentsSync=ba,this.compileModuleAndAllComponentsAsync=wa}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Ea=(()=>Promise.resolve(0))();function Sa(t){"undefined"==typeof Zone?Ea.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Oa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vo(!1),this.onMicrotaskEmpty=new Vo(!1),this.onStable=new Vo(!1),this.onError=new Vo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ca(t),xa(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ca(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return ja(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Aa(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return ja(t),e.invoke(r,i,s,o,a)}finally{Aa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ca(t),xa(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Oa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ia,Ta,Ta);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ta(){}const Ia={};function xa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ca(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ja(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Aa(t){t._nesting--,xa(t)}class Na{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vo,this.onMicrotaskEmpty=new Vo,this.onStable=new Vo,this.onError=new Vo}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ka=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oa.assertNotInAngularZone(),Sa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ut(Oa))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),Pa=(()=>{class t{constructor(){this._applications=new Map,Fa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Fa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Da{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ra(t){Fa=t}let La,Fa=new Da;const Ma=new Z("AllowMultipleToken");class Ua{constructor(t,e){this.name=t,this.token=e}}function Va(t,e,n=[]){const r="Platform: "+e,i=new Z(r);return(e=[])=>{let s=qa();if(!s||s.injector.get(Ma,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Yi,useValue:"platform"});!function(t){if(La&&!La.destroyed&&!La.injector.get(Ma,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");La=t.get(Ha);const e=t.get(ua,null);e&&e.forEach(t=>t())}(hs.create({providers:t,name:r}))}return function(t){const e=qa();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function qa(){return La&&!La.destroyed?La:null}let Ha=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Na:("zone.js"===t?void 0:t)||new Oa({enableLongStackTrace:Fn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Oa,useValue:n}];return n.run(()=>{const e=hs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(wn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Ga(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return js(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(ia);return t.runInitializers(),t.donePromise.then(()=>(Po(i.injector.get(fa,No)||No),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=za({},e);return function(t,e,n){const r=new Fo(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ba);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${D(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ut(hs))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function za(t,e){return Array.isArray(e)?e.reduce(za,t):Object.assign(Object.assign({},t),e)}let Ba=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Fn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Oa.assertNotInAngularZone(),Sa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Oa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ms?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ft),i=n.create(hs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(ka,null);return s&&i.injector.get(Pa).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Fn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ga(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(la,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Ga(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ut(Oa),ut(ha),ut(hs),ut(wn),ut(Vs),ut(ia))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Ga(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class $a{}class Ka{}const Ja={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Wa=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ja}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Qa(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Qa(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ut(_a),ut(Ka,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Qa(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Za=function(t){return null},Ya=Va(null,"core",[{provide:ca,useValue:"unknown"},{provide:Ha,deps:[hs]},{provide:Pa,deps:[]},{provide:ha,deps:[]}]),Xa=[{provide:Ba,useClass:Ba,deps:[Oa,ha,hs,wn,Vs,ia]},{provide:bo,deps:[Oa],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ia,useClass:ia,deps:[[new b,ra]]},{provide:_a,useClass:_a,deps:[]},oa,{provide:oo,useFactory:function(){return co},deps:[]},{provide:ao,useFactory:function(){return lo},deps:[]},{provide:fa,useFactory:function(t){return Po(t=t||"undefined"!=typeof $localize&&$localize.locale||No),t},deps:[[new v(fa),new b,new _]]},{provide:da,useValue:"USD"}];let tu=(()=>{class t{constructor(t){}}return t.\u0275mod=xt({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(ut(Ba))},providers:Xa}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return y});var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,g.prototype.create),s}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return I}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return g}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const y=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(y.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),g=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.T)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Cb({type:t}),t.\u0275inj=u.Bb({factory:function(e){return new(e||t)(u.Jb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class y extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new y(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(y.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new y(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),y=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();y.prototype.name&&y.prototype.options||y.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),y=d.next();!y.done;y=d.next())e[y.value]._addComponent(a)}catch(m){u={error:m}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(y);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBLUV4jbhi3GcVhN0Ptl-BPteBAC0k29mA",authDomain:"my-portfolio-page-89d9f.firebaseapp.com",projectId:"my-portfolio-page-89d9f",storageBucket:"my-portfolio-page-89d9f.appspot.com",messagingSenderId:"186114294189",appId:"1:186114294189:web:f523fa4ca259c1569da124",measurementId:"G-R6R9BPD6BT"};var s=n("LRne"),o=n("HDdC"),a=n("5+tZ");function u(t,e){return Object(a.a)(t,e,1)}var c=n("7o/Q");function l(t,e){return function(n){return n.lift(new h(t,e))}}class h{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new f(t,this.predicate,this.thisArg))}}class f extends c.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var d=n("lJxs");let p=null;function y(){return p}const m=new r.q("DocumentToken");let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:v,token:t,providedIn:"platform"}),t})();function v(){return Object(r.Jb)(w)}const b=new r.q("Location Initialized");let w=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=y().getLocation(),this._history=y().getHistory()}getBaseHrefFromDOM(){return y().getBaseHref(this._doc)}onPopState(t){y().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){y().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){_()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){_()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m))},t.\u0275prov=Object(r.Ab)({factory:E,token:t,providedIn:"platform"}),t})();function _(){return!!window.history.pushState}function E(){return new w(Object(r.Jb)(m))}function S(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function O(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function T(t){return t&&"?"!==t[0]?"?"+t:t}let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ab)({factory:x,token:t,providedIn:"root"}),t})();function x(t){const e=Object(r.Jb)(m).location;return new j(Object(r.Jb)(g),e&&e.origin||"")}const C=new r.q("appBaseHref");let j=(()=>{class t extends I{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return S(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+T(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+T(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+T(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(g),r.Jb(C,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),A=(()=>{class t extends I{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=S(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+T(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+T(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(g),r.Jb(C,8))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),N=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=O(P(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+T(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,P(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(I),r.Jb(g))},t.normalizeQueryParams=T,t.joinWithSlash=S,t.stripTrailingSlash=O,t.\u0275prov=Object(r.Ab)({factory:k,token:t,providedIn:"root"}),t})();function k(){return new N(Object(r.Jb)(I),Object(r.Jb)(g))}function P(t){return t.replace(/\/index.html$/,"")}var D=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const R=r.kb;class L{}let F=(()=>{class t extends L{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(R(e||this.locale)(t)){case D.Zero:return"zero";case D.One:return"one";case D.Two:return"two";case D.Few:return"few";case D.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();function M(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class U{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new U(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new q(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new q(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.P),r.Eb(r.K),r.Eb(r.s))},t.\u0275dir=r.zb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class q{constructor(t,e){this.record=t,this.view=e}}class H{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class z{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const B=new z,G=new H;let $=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.pb)(e))return B;if(Object(r.ob)(e))return G;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.sb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb())},t.\u0275pipe=r.Db({name:"async",type:t,pure:!1}),t})(),K=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[{provide:L,useClass:F}]}),t})();function J(t){return"server"===t}let W=(()=>{class t{}return t.\u0275prov=Object(r.Ab)({token:t,providedIn:"root",factory:()=>new Q(Object(r.Jb)(m),window,Object(r.Jb)(r.m))}),t})();class Q{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Z(this.window.history)||Z(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Z(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Y{}class X{}class tt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof tt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new tt;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof tt?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class et{encodeKey(t){return nt(t)}encodeValue(t){return nt(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function nt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class rt{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new et,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new rt({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function it(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function st(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ot(t){return"undefined"!=typeof FormData&&t instanceof FormData}class at{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new tt),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new rt,this.urlWithParams=e}serializeBody(){return null===this.body?null:it(this.body)||st(this.body)||ot(this.body)||"string"==typeof this.body?this.body:this.body instanceof rt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ot(this.body)?null:st(this.body)?this.body.type||null:it(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new at(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var ut=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class ct{constructor(t,e=200,n="OK"){this.headers=t.headers||new tt,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class lt extends ct{constructor(t={}){super(t),this.type=ut.ResponseHeader}clone(t={}){return new lt({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ht extends ct{constructor(t={}){super(t),this.type=ut.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ht({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ft extends ct{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function dt(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let pt=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof at)r=t;else{let i=void 0;i=n.headers instanceof tt?n.headers:new tt(n.headers);let s=void 0;n.params&&(s=n.params instanceof rt?n.params:new rt({fromObject:n.params})),r=new at(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(s.a)(r).pipe(u(t=>this.handler.handle(t)));if(t instanceof at||"events"===n.observe)return i;const o=i.pipe(l(t=>t instanceof ht));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(d.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(d.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(d.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(d.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new rt).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,dt(n,e))}post(t,e,n={}){return this.request("POST",t,dt(n,e))}put(t,e,n={}){return this.request("PUT",t,dt(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Y))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class yt{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const mt=new r.q("HTTP_INTERCEPTORS");let gt=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const vt=/^\)\]\}',?\n/;class bt{}let wt=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),_t=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new o.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new tt(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new lt({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(vt,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new ht({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new ft({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new ft({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:ut.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:ut.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:ut.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(bt))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Et=new r.q("XSRF_COOKIE_NAME"),St=new r.q("XSRF_HEADER_NAME");class Ot{}let Tt=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=M(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m),r.Jb(r.B),r.Jb(Et))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),It=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ot),r.Jb(St))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),xt=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(mt,[]);this.chain=t.reduceRight((t,e)=>new yt(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(X),r.Jb(r.r))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Ct=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:It,useClass:gt}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Et,useValue:e.cookieName}:[],e.headerName?{provide:St,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[It,{provide:mt,useExisting:It,multi:!0},{provide:Ot,useClass:Tt},{provide:Et,useValue:"XSRF-TOKEN"},{provide:St,useValue:"X-XSRF-TOKEN"}]}),t})(),jt=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[pt,{provide:Y,useClass:xt},_t,{provide:X,useExisting:_t},wt,{provide:bt,useExisting:wt}],imports:[[Ct.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var At=n("spgP"),Nt=n("D0XW"),kt=n("Cfvw"),Pt=n("bHdf");function Dt(){return Object(Pt.a)(1)}function Rt(...t){return Dt()(Object(s.a)(...t))}var Lt=n("z+Ro");function Ft(...t){const e=t[t.length-1];return Object(Lt.a)(e)?(t.pop(),n=>Rt(t,n,e)):e=>Rt(t,e)}function Mt(){return t=>t.lift(new Ut)}class Ut{call(t,e){return e.subscribe(new Vt(t))}}class Vt extends c.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function qt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ht(t,e,n))}}class Ht{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new zt(t,this.accumulator,this.seed,this.hasSeed))}}class zt extends c.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Bt{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Gt(t,this.compare,this.keySelector))}}class Gt extends c.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var $t=n("pxpQ"),Kt=n("Jgta"),Jt=n("zIRd"),Wt=n("q/0M"),Qt=n("qOnz"),Zt=function(t,e){return(Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Yt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Xt,te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ee=ee||{},ne=te||self;function re(){}function ie(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function se(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var oe="closure_uid_"+(1e9*Math.random()>>>0),ae=0;function ue(t,e,n){return t.call.apply(t.bind,arguments)}function ce(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function le(t,e,n){return(le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:ce).apply(null,arguments)}function he(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function fe(){return Date.now()}function de(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function pe(){this.j=this.j,this.i=this.i}pe.prototype.j=!1,pe.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,oe)&&t[oe]||(t[oe]=++ae)}(this)},pe.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ye=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},me=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ge(t){return Array.prototype.concat.apply([],arguments)}function ve(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function be(t){return/^[\s\xa0]*$/.test(t)}var we,_e=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ee(t,e){return-1!=t.indexOf(e)}function Se(t,e){return t<e?-1:t>e?1:0}t:{var Oe=ne.navigator;if(Oe){var Te=Oe.userAgent;if(Te){we=Te;break t}}we=""}function Ie(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function xe(t){var e={};for(var n in t)e[n]=t[n];return e}var Ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Ce.length;s++)n=Ce[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ae(t){return Ae[" "](t),t}Ae[" "]=re;var Ne,ke,Pe=Ee(we,"Opera"),De=Ee(we,"Trident")||Ee(we,"MSIE"),Re=Ee(we,"Edge"),Le=Re||De,Fe=Ee(we,"Gecko")&&!(Ee(we.toLowerCase(),"webkit")&&!Ee(we,"Edge"))&&!(Ee(we,"Trident")||Ee(we,"MSIE"))&&!Ee(we,"Edge"),Me=Ee(we.toLowerCase(),"webkit")&&!Ee(we,"Edge");function Ue(){var t=ne.document;return t?t.documentMode:void 0}t:{var Ve="",qe=(ke=we,Fe?/rv:([^\);]+)(\)|;)/.exec(ke):Re?/Edge\/([\d\.]+)/.exec(ke):De?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ke):Me?/WebKit\/(\S+)/.exec(ke):Pe?/(?:Version)[ \/]?(\S+)/.exec(ke):void 0);if(qe&&(Ve=qe?qe[1]:""),De){var He=Ue();if(null!=He&&He>parseFloat(Ve)){Ne=String(He);break t}}Ne=Ve}var ze={};function Be(t){return function(t,e){var n=ze;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=_e(String(Ne)).split("."),r=_e(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Se(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Se(0==o[2].length,0==a[2].length)||Se(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Ge=ne.document&&De&&(Ue()||parseInt(Ne,10))||void 0,$e=!De||9<=Number(Ge),Ke=De&&!Be("9"),Je=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",re,e),ne.removeEventListener("test",re,e)}catch(n){}return t}();function We(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Fe){t:{try{Ae(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}We.prototype.b=function(){this.defaultPrevented=!0},de(Qe,We);var Ze={2:"touch",3:"pen",4:"mouse"};Qe.prototype.b=function(){Qe.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Ye="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Xe,this.Y=this.Z=!1}function en(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=ye(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=sn(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new tn(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),an={};function un(t,e,n,r,i){if(r&&r.once)return ln(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)un(t,e[s],n,r,i);return null}return n=vn(n),t&&t[Ye]?t.va(e,n,se(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=se(i)?!!i.capture:!!i;if(o&&!$e)return null;var a=mn(t);if(a||(t[on]=a=new nn(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=yn,e=$e?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Je||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ln(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ln(t,e[s],n,r,i);return null}return n=vn(n),t&&t[Ye]?t.wa(e,n,se(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)hn(t,e[s],n,r,i);else r=se(r)?!!r.capture:!!r,n=vn(n),t&&t[Ye]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=sn(s=t.a[e],n,r,i))&&(en(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Ye])rn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(rn(n,t),0==n.b&&(n.src=null,e[on]=null)):en(t)}}}function dn(t){return t in an?an[t]:an[t]="on"+t}function pn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&fn(t),n.call(r,e)}function yn(t,e){if(t.Y)return!0;if(!$e){if(!e)t:{e=["window","event"];for(var n=ne,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return pn(t,e=new Qe(e,this))}return pn(t,new Qe(e,this))}function mn(t){return(t=t[on])instanceof nn?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(t){return"function"==typeof t?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function bn(){pe.call(this),this.c=new nn(this),this.J=this,this.C=null}function wn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new We(e,t);else if(e instanceof We)e.target=e.target||t;else{var i=e;je(e=new We(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=_n(o,r,!0,e)&&i}if(i=_n(o=e.a=t,r,!0,e)&&i,i=_n(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=_n(o=e.a=n[s],r,!1,e)&&i}function _n(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&rn(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}de(bn,pe),bn.prototype[Ye]=!0,(Xt=bn.prototype).addEventListener=function(t,e,n,r){un(this,t,e,n,r)},Xt.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},Xt.G=function(){if(bn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.C=null},Xt.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Xt.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var En=ne.JSON.stringify;function Sn(){this.b=this.a=null}var On,Tn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new xn},function(t){t.reset()});function In(){var t=Nn,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function xn(){this.next=this.b=this.a=null}function Cn(t){ne.setTimeout(function(){throw t},0)}function jn(t,e){On||function(){var t=ne.Promise.resolve(void 0);On=function(){t.then(kn)}}(),An||(On(),An=!0),Nn.add(t,e)}Sn.prototype.add=function(t,e){var n=Tn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},xn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xn.prototype.reset=function(){this.next=this.b=this.a=null};var An=!1,Nn=new Sn;function kn(){for(var t;t=In();){try{t.a.call(t.b)}catch(n){Cn(n)}var e=Tn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}An=!1}function Pn(t,e){bn.call(this),this.b=t||1,this.a=e||ne,this.f=le(this.Za,this),this.g=fe()}function Dn(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Rn(t,e,n){if("function"==typeof t)n&&(t=le(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=le(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function Ln(t){t.a=Rn(function(){t.a=null,t.c&&(t.c=!1,Ln(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}de(Pn,bn),(Xt=Pn.prototype).aa=!1,Xt.M=null,Xt.Za=function(){if(this.aa){var t=fe()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),wn(this,"tick"),this.aa&&(Dn(this),this.start()))}},Xt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=fe())},Xt.G=function(){Pn.X.G.call(this),Dn(this),delete this.a};var Fn=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ln(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ne.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(pe);function Mn(t){pe.call(this),this.b=t,this.a={}}de(Mn,pe);var Un=[];function Vn(t,e,n,r){Array.isArray(n)||(n&&(Un[0]=n.toString()),n=Un);for(var i=0;i<n.length;i++){var s=un(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function qn(t){Ie(t.a,function(t,e){this.a.hasOwnProperty(e)&&fn(t)},t),t.a={}}function Hn(){this.a=!0}function zn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return En(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Mn.prototype.G=function(){Mn.X.G.call(this),qn(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hn.prototype.info=function(){};var Bn={},Gn=null;function $n(){return Gn=Gn||new bn}function Kn(t){We.call(this,Bn.Fa,t)}function Jn(t){var e=$n();wn(e,new Kn(e,t))}function Wn(t,e){We.call(this,Bn.STAT_EVENT,t),this.stat=e}function Qn(t){var e=$n();wn(e,new Wn(e,t))}function Zn(t){We.call(this,Bn.Ga,t)}function Yn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}Bn.Fa="serverreachability",de(Kn,We),Bn.STAT_EVENT="statevent",de(Wn,We),Bn.Ga="timingevent",de(Zn,We);var Xn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},tr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function er(){}function nr(){}er.prototype.a=null;var rr,ir={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function sr(){We.call(this,"d")}function or(){We.call(this,"c")}function ar(){}function ur(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Mn(this),this.P=cr,this.R=new Pn(t=Le?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}de(sr,We),de(or,We),de(ar,er),rr=new ar;var cr=45e3,lr={},hr={};function fr(t,e,n){t.H=1,t.i=Dr(Cr(e)),t.j=n,t.I=!0,dr(t,null)}function dr(t,e){t.u=fe(),mr(t),t.l=Cr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Kr(n.b,"t",r),t.D=0,t.a=qi(t.g,t.g.C?e:null),0<t.O&&(t.F=new Fn(le(t.Ca,t,t.a),t.O)),Vn(t.J,t.a,"readystatechange",t.Xa),e=t.B?xe(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Jn(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function pr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=yr(t,n);if(i==hr){4==e&&(t.h=4,Qn(14),r=!1),zn(t.c,t.f,null,"[Incomplete Response]");break}if(i==lr){t.h=4,Qn(15),zn(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}zn(t.c,t.f,i,null),_r(t,i)}4==e&&0==n.length&&(t.h=1,Qn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pi(e),e.F=!0,Qn(11))):(zn(t.c,t.f,n,"[Invalid Chunked Response]"),wr(t),br(t))}function yr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?hr:(n=Number(e.substring(n,r)),isNaN(n)?lr:(r+=1)+n>e.length?hr:(e=e.substr(r,n),t.D=r+n,e))}function mr(t){t.T=fe()+t.P,gr(t,t.P)}function gr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Yn(le(t.Va,t),e)}function vr(t){t.o&&(ne.clearTimeout(t.o),t.o=null)}function br(t){0==t.g.v||t.A||Li(t.g,t)}function wr(t){vr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Dn(t.R),qn(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function _r(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ti(n.b,t)))if(n.I=t.N,!t.C&&ti(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(xp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ri(n),Oi(n)}ki(n),Qn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Yn(le(n.Sa,n),6e3));if(1>=Xr(n.b)&&n.ea){try{n.ea()}catch(xp){}n.ea=void 0}}else Mi(n,11)}else if((t.C||n.a==t)&&Ri(n),!be(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ee(l,"spdy")||Ee(l,"quic")||Ee(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ei(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Pr(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=fe()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Vi(u,u.C?u.ga:null,u.fa),d.C){ni(u.b,d);var p=d,y=u.D;y&&p.setTimeout(y),p.o&&(vr(p),mr(p)),u.a=d}else Ni(u);0<n.g.length&&xi(n)}else"stop"!=i[0]&&"close"!=i[0]||Mi(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Mi(n,7):Si(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Jn(4)}catch(xp){}}function Er(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ie(t)||"string"==typeof t)me(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ie(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ie(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Sr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Sr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Or(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Tr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Tr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Xt=ur.prototype).setTimeout=function(t){this.P=t},Xt.Xa=function(t){t=t.target;var e=this.F;e&&3==bi(t)?e.f():this.Ca(t)},Xt.Ca=function(t){try{if(t==this.a)t:{var e=bi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Le&&!this.a.$())){this.A||4!=e||7==n||Jn(8==n||0>=r?3:2),vr(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!be(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Qn(12),wr(this),br(this);break t}zn(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,_r(this,u)}this.I?(pr(this,e,s),Le&&this.b&&3==e&&(Vn(this.J,this.R,"tick",this.Wa),this.R.start())):(zn(this.c,this.f,s,null),_r(this,s)),4==e&&wr(this),this.b&&!this.A&&(4==e?Li(this.g,this):(this.b=!1,mr(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Qn(12)):(this.h=0,Qn(13)),wr(this),br(this)}}}catch(c){}},Xt.Wa=function(){if(this.a){var t=bi(this.a),e=this.a.$();this.D<e.length&&(vr(this),pr(this,t,e),this.b&&4!=t&&mr(this))}},Xt.cancel=function(){this.A=!0,wr(this)},Xt.Va=function(){this.o=null;var t=fe();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Jn(3),Qn(17)),wr(this),this.h=2,br(this)):gr(this,this.T-t)},(Xt=Sr.prototype).K=function(){Or(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Xt.L=function(){return Or(this),this.a.concat()},Xt.get=function(t,e){return Tr(this.b,t)?this.b[t]:e},Xt.set=function(t,e){Tr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Xt.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ir=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xr){this.a=void 0!==e?e:t.a,jr(this,t.f),this.j=t.j,Ar(this,t.c),Nr(this,t.h),this.g=t.g,e=t.b;var n=new zr;n.c=e.c,e.a&&(n.a=new Sr(e.a),n.b=e.b),kr(this,n),this.i=t.i}else t&&(n=String(t).match(Ir))?(this.a=!!e,jr(this,n[1]||"",!0),this.j=Rr(n[2]||""),Ar(this,n[3]||"",!0),Nr(this,n[4]),this.g=Rr(n[5]||"",!0),kr(this,n[6]||"",!0),this.i=Rr(n[7]||"")):(this.a=!!e,this.b=new zr(null,this.a))}function Cr(t){return new xr(t)}function jr(t,e,n){t.f=n?Rr(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ar(t,e,n){t.c=n?Rr(e,!0):e}function Nr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function kr(t,e,n){e instanceof zr?(t.b=e,function(t,e){e&&!t.f&&(Br(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Gr(this,e),Kr(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Lr(e,qr)),t.b=new zr(e,t.a))}function Pr(t,e,n){t.b.set(e,n)}function Dr(t){return Pr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^fe()).toString(36)),t}function Rr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Lr(e,Mr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Lr(e,Mr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Lr(n,"/"==n.charAt(0)?Vr:Ur,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Lr(n,Hr)),t.join("")};var Mr=/[#\/\?@]/g,Ur=/[#\?:]/g,Vr=/[#\?]/g,qr=/[#\?@]/g,Hr=/#/g;function zr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Br(t){t.a||(t.a=new Sr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Gr(t,e){Br(t),e=Jr(t,e),Tr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Or(t)))}function $r(t,e){return Br(t),e=Jr(t,e),Tr(t.a.b,e)}function Kr(t,e,n){Gr(t,e),0<n.length&&(t.c=null,t.a.set(Jr(t,e),ve(n)),t.b+=n.length)}function Jr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Xt=zr.prototype).add=function(t,e){Br(this),this.c=null,t=Jr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Xt.forEach=function(t,e){Br(this),this.a.forEach(function(n,r){me(n,function(n){t.call(e,n,r,this)},this)},this)},Xt.L=function(){Br(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Xt.K=function(t){Br(this);var e=[];if("string"==typeof t)$r(this,t)&&(e=ge(e,this.a.get(Jr(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ge(e,t[n])}return e},Xt.set=function(t,e){return Br(this),this.c=null,$r(this,t=Jr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Xt.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Xt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Wr=function(){return function(t,e){this.b=t,this.a=e}}();function Qr(t){this.g=t||Zr,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.ia&&ne.ia.ya&&ne.ia.ya()&&ne.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Zr=10;function Yr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Xr(t){return t.b?1:t.a?t.a.size:0}function ti(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ei(t,e){t.a?t.a.add(e):t.b=e}function ni(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ri(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Yt(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ve(t.c)}function ii(){}function si(){this.a=new ii}function oi(t,e,n){var r=n||"";try{Er(t,function(t,n){var i=t;se(t)&&(i=En(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(py){throw e.push(r+"type="+encodeURIComponent("_badmap")),py}}function ai(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Qr.prototype.cancel=function(){var t,e;if(this.c=ri(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Yt(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ii.prototype.stringify=function(t){return ne.JSON.stringify(t,void 0)},ii.prototype.parse=function(t){return ne.JSON.parse(t,void 0)};var ui=ne.JSON.parse;function ci(t){bn.call(this),this.headers=new Sr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=li,this.D=this.F=!1}de(ci,bn);var li="",hi=/^https?$/i,fi=["POST","PUT"];function di(t){return"content-type"==t.toLowerCase()}function pi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,yi(t),gi(t)}function yi(t){t.u||(t.u=!0,wn(t,"complete"),wn(t,"error"))}function mi(t){if(t.b&&void 0!==ee&&(!t.s[1]||4!=bi(t)||2!=t.W()))if(t.l&&4==bi(t))Rn(t.za,0,t);else if(wn(t,"readystatechange"),4==bi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Ir)[1]||null;if(!s&&ne.self&&ne.self.location){var o=ne.self.location.protocol;s=o.substr(0,o.length-1)}i=!hi.test(s?s.toLowerCase():"")}e=i}if(e)wn(t,"complete"),wn(t,"success");else{t.h=6;try{var a=2<bi(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",yi(t)}}finally{gi(t)}}}function gi(t,e){if(t.a){vi(t);var n=t.a,r=t.s[0]?re:null;t.a=null,t.s=null,e||wn(t,"ready");try{n.onreadystatechange=r}catch(py){}}}function vi(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ne.clearTimeout(t.m),t.m=null)}function bi(t){return t.a?t.a.readyState:0}function wi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ie(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Pr(t,e,n))}function _i(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ei(t){this.pa=0,this.g=[],this.c=new Hn,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=_i("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=_i("baseRetryDelayMs",5e3,t),this.Ra=_i("retryDelaySeedMs",1e4,t),this.Ma=_i("forwardChannelMaxRetries",2,t),this.ma=_i("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Qr(t&&t.concurrentRequestLimit),this.ka=new si,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Si(t){if(Ti(t),3==t.v){var e=t.R++,n=Cr(t.B);Pr(n,"SID",t.J),Pr(n,"RID",e),Pr(n,"TYPE","terminate"),ji(t,n),(e=new ur(t,t.c,e,void 0)).H=2,e.i=Dr(Cr(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon&&(n=ne.navigator.sendBeacon(e.i.toString(),"")),!n&&ne.Image&&((new Image).src=e.i,n=!0),n||(e.a=qi(e.g,null),e.a.ba(e.i)),e.u=fe(),mr(e)}Ui(t)}function Oi(t){t.a&&(Pi(t),t.a.cancel(),t.a=null)}function Ti(t){Oi(t),t.j&&(ne.clearTimeout(t.j),t.j=null),Ri(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ne.clearTimeout(t.h),t.h=null)}function Ii(t,e){t.g.push(new Wr(t.Oa++,e)),3==t.v&&xi(t)}function xi(t){Yr(t.b)||t.h||(t.h=!0,jn(t.Ba,t),t.u=0)}function Ci(t,e){var n;n=e?e.f:t.R++;var r=Cr(t.B);Pr(r,"SID",t.J),Pr(r,"RID",n),Pr(r,"AID",t.P),ji(t,r),t.i&&t.l&&wi(r,t.i,t.l),n=new ur(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ai(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ei(t.b,n),fr(n,r,e)}function ji(t,e){t.f&&Er({},function(t,n){Pr(e,n,t)})}function Ai(t,e,n){n=Math.min(t.g.length,n);var r=t.f?le(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{oi(l,o,"req"+c+"_")}catch(Ss){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ni(t){t.a||t.j||(t.T=1,jn(t.Aa,t),t.o=0)}function ki(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Yn(le(t.Aa,t),Fi(t,t.o)),t.o++,0))}function Pi(t){null!=t.s&&(ne.clearTimeout(t.s),t.s=null)}function Di(t){t.a=new ur(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Cr(t.la);Pr(e,"RID","rpc"),Pr(e,"SID",t.J),Pr(e,"CI",t.H?"0":"1"),Pr(e,"AID",t.P),ji(t,e),Pr(e,"TYPE","xmlhttp"),t.i&&t.l&&wi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Dr(Cr(e)),n.j=null,n.I=!0,dr(n,t)}function Ri(t){null!=t.m&&(ne.clearTimeout(t.m),t.m=null)}function Li(t,e){var n=null;if(t.a==e){Ri(t),Pi(t),t.a=null;var r=2}else{if(!ti(t.b,e))return;n=e.s,ni(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=fe()-e.u;var i=t.u;wn(r=$n(),new Zn(r,n,e,i)),xi(t)}else Ni(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Xr(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Yn(le(t.Ba,t,e),Fi(t,t.u)),t.u++,0)))}(t,e)||2==r&&ki(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Mi(t,5);break;case 4:Mi(t,10);break;case 3:Mi(t,6);break;default:Mi(t,2)}}function Fi(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Mi(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=le(t.Ya,t);n||(n=new xr("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||jr(n,"https"),Dr(n)),function(t,e){var n=new Hn;if(ne.Image){var r=new Image;r.onload=he(ai,n,r,"TestLoadImage: loaded",!0,e),r.onerror=he(ai,n,r,"TestLoadImage: error",!1,e),r.onabort=he(ai,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=he(ai,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qn(2);t.v=0,t.f&&t.f.ra(e),Ui(t),Ti(t)}function Ui(t){t.v=0,t.I=-1,t.f&&(0==ri(t.b).length&&0==t.g.length||(t.b.c.length=0,ve(t.g),t.g.length=0),t.f.qa())}function Vi(t,e,n){var r=function(t){return t instanceof xr?Cr(t):new xr(t,void 0)}(n);if(""!=r.c)e&&Ar(r,e+"."+r.c),Nr(r,r.h);else{var i=ne.location;r=function(t,e,n,r){var i=new xr(null,void 0);return t&&jr(i,t),e&&Ar(i,e),n&&Nr(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ie(t.V,function(t,e){Pr(r,e,t)}),n=t.na,(e=t.A)&&n&&Pr(r,e,n),Pr(r,"VER",t.ha),ji(t,r),r}function qi(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ci(t.Na)).F=t.C,e}function Hi(){}function zi(){if(De&&!(10<=Number(Ge)))throw Error("Environmental error: no available transport.")}function Bi(t,e){bn.call(this),this.a=new Ei(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!be(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!be(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ki(this)}function Gi(t){sr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function $i(){or.call(this),this.status=1}function Ki(t){this.a=t}(Xt=ci.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:rr),this.a.onreadystatechange=le(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void pi(this,s)}t=n||"";var i=new Sr(this.headers);r&&Er(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=di,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ne.FormData&&t instanceof ne.FormData,!(0<=ye(fi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{vi(this),0<this.o&&((this.D=function(t){return De&&Be(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=le(this.xa,this)):this.m=Rn(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){pi(this,s)}},Xt.xa=function(){void 0!==ee&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,wn(this,"timeout"),this.abort(8))},Xt.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,wn(this,"complete"),wn(this,"abort"),gi(this))},Xt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),gi(this,!0)),ci.X.G.call(this)},Xt.za=function(){this.j||(this.A||this.l||this.g?mi(this):this.Ua())},Xt.Ua=function(){mi(this)},Xt.W=function(){try{return 2<bi(this)?this.a.status:-1}catch(ke){return-1}},Xt.$=function(){try{return this.a?this.a.responseText:""}catch(ke){return""}},Xt.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ui(e)}},Xt.ua=function(){return this.h},Xt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Xt=Ei.prototype).ha=8,Xt.v=1,Xt.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ur(this,this.c,t,void 0),r=this.l;if(this.O&&(r?je(r=xe(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ai(this,n,e),Pr(i=Cr(this.B),"RID",t),Pr(i,"CVER",22),this.A&&Pr(i,"X-HTTP-Session-Id",this.A),ji(this,i),this.i&&r&&wi(i,this.i,r),ei(this.b,n),this.Ia&&Pr(i,"TYPE","init"),this.da?(Pr(i,"$req",e),Pr(i,"SID","null"),n.U=!0,fr(n,i,null)):fr(n,i,e),this.v=2}}else 3==this.v&&(t?Ci(this,t):0==this.g.length||Yr(this.b)||Ci(this))},Xt.Aa=function(){if(this.j=null,Di(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Yn(le(this.Ta,this),t)}},Xt.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Qn(10),Oi(this),Di(this))},Xt.Sa=function(){null!=this.m&&(this.m=null,Oi(this),ki(this),Qn(19))},Xt.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Qn(2)):(this.c.info("Failed to ping google.com"),Qn(1))},(Xt=Hi.prototype).ta=function(){},Xt.sa=function(){},Xt.ra=function(){},Xt.qa=function(){},Xt.Ja=function(){},zi.prototype.a=function(t,e){return new Bi(t,e)},de(Bi,bn),Bi.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Qn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Vi(t,null,t.fa),xi(t)},Bi.prototype.close=function(){Si(this.a)},Bi.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ii(this.a,e)}else this.l?((e={}).__data__=En(t),Ii(this.a,e)):Ii(this.a,t)},Bi.prototype.G=function(){this.a.f=null,delete this.f,Si(this.a),delete this.a,Bi.X.G.call(this)},de(Gi,sr),de($i,or),de(Ki,Hi),Ki.prototype.ta=function(){wn(this.a,"a")},Ki.prototype.sa=function(t){wn(this.a,new Gi(t))},Ki.prototype.ra=function(t){wn(this.a,new $i(t))},Ki.prototype.qa=function(){wn(this.a,"b")},zi.prototype.createWebChannel=zi.prototype.a,Bi.prototype.send=Bi.prototype.h,Bi.prototype.open=Bi.prototype.g,Bi.prototype.close=Bi.prototype.close,Xn.NO_ERROR=0,Xn.TIMEOUT=8,Xn.HTTP_ERROR=6,tr.COMPLETE="complete",nr.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",bn.prototype.listen=bn.prototype.va,ci.prototype.listenOnce=ci.prototype.wa,ci.prototype.getLastError=ci.prototype.Qa,ci.prototype.getLastErrorCode=ci.prototype.ua,ci.prototype.getStatus=ci.prototype.W,ci.prototype.getResponseJson=ci.prototype.Pa,ci.prototype.getResponseText=ci.prototype.$,ci.prototype.send=ci.prototype.ba;var Ji=Xn,Wi=tr,Qi=Bn,Zi=nr,Yi=ci,Xi=n("os0x"),ts=new Wt.b("@firebase/firestore");function es(){return ts.logLevel}function ns(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ts.logLevel<=Wt.a.DEBUG){var r=e.map(ss);ts.debug.apply(ts,Object(Xi.g)(["Firestore (8.2.2): "+t],r))}}function rs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ts.logLevel<=Wt.a.ERROR){var r=e.map(ss);ts.error.apply(ts,Object(Xi.g)(["Firestore (8.2.2): "+t],r))}}function is(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ts.logLevel<=Wt.a.WARN){var r=e.map(ss);ts.warn.apply(ts,Object(Xi.g)(["Firestore (8.2.2): "+t],r))}}function ss(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(py){return t}}function os(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw rs(e),new Error(e)}function as(t,e){t||os()}function us(t,e){return t}function cs(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ls=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=cs(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function hs(t,e){return t<e?-1:t>e?1:0}function fs(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ds(t){return t+"\0"}var ps=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return hs(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();ps.h=new ps("");var ys={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ms=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Xi.c)(e,t),e}(Error),gs=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(ps.fromBase64String(e))}catch(e){throw new ms(ys.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ps.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),vs=function(t){this._=t};function bs(){if("undefined"==typeof Uint8Array)throw new ms(ys.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ws(){if("undefined"==typeof atob)throw new ms(ys.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.fromBase64String=function(t){return ws(),new e(gs.fromBase64String(t))},e.fromUint8Array=function(t){return bs(),new e(gs.fromUint8Array(t))},e.prototype.toBase64=function(){return ws(),this._.toBase64()},e.prototype.toUint8Array=function(){return bs(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(vs),Es=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},Ss=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Os=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Os.UNAUTHENTICATED=new Os(null),Os.P=new Os("google-credentials-uid"),Os.g=new Os("first-party-uid");var Ts=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Is=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Os.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),xs=function(){function t(t){var e=this;this.C=null,this.currentUser=Os.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.O!==e?(ns("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(as("string"==typeof n.accessToken),new Ts(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return as(null===t||"string"==typeof t),new Os(t)},t}(),Cs=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Os.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),js=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Cs(this.k,this.M))},t.prototype.S=function(t){t(Os.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),As=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();As.U=-1;var Ns=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ms(ys.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ms(ys.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ms(ys.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ms(ys.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?hs(this.nanoseconds,t.nanoseconds):hs(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ks=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new Ns(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),Ps=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&os(),void 0===n?n=t.length-e:n>t.length-e&&os(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ds=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new ms(ys.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(Ps),Rs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ls=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Rs.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new ms(ys.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ms(ys.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ms(ys.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ms(ys.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(Ps),Fs=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Ds.ct(e))},t.dt=function(e){return new t(Ds.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ds.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Ds.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Ds(e.slice()))},t}();function Ms(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Us(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vs(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qs=function(){function t(t){this.fields=t,t.sort(Ls.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return fs(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Hs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(as(!!t),"string"==typeof t){var e=0,n=Hs.exec(t);if(as(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bs(t.seconds),nanos:Bs(t.nanos)}}function Bs(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gs(t){return"string"==typeof t?ps.fromBase64String(t):ps.fromUint8Array(t)}function $s(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ks(t){var e=t.mapValue.fields.__previous_value__;return $s(e)?Ks(e):e}function Js(t){var e=zs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ns(e.seconds,e.nanos)}function Ws(t){return null==t}function Qs(t){return 0===t&&1/t==-1/0}function Zs(t){return"number"==typeof t&&Number.isInteger(t)&&!Qs(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$s(t)?4:10:os()}function Xs(t,e){var n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Js(t).isEqual(Js(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=zs(t.timestampValue),r=zs(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Gs(t.bytesValue).isEqual(Gs(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Bs(t.geoPointValue.latitude)===Bs(e.geoPointValue.latitude)&&Bs(t.geoPointValue.longitude)===Bs(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Bs(t.integerValue)===Bs(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Bs(t.doubleValue),r=Bs(e.doubleValue);return n===r?Qs(n)===Qs(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return fs(t.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ms(n)!==Ms(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xs(n[i],r[i])))return!1;return!0}(t,e);default:return os()}}function to(t,e){return void 0!==(t.values||[]).find(function(t){return Xs(t,e)})}function eo(t,e){var n=Ys(t),r=Ys(e);if(n!==r)return hs(n,r);switch(n){case 0:return 0;case 1:return hs(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Bs(t.integerValue||t.doubleValue),r=Bs(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return no(t.timestampValue,e.timestampValue);case 4:return no(Js(t),Js(e));case 5:return hs(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Gs(t),r=Gs(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=hs(n[i],r[i]);if(0!==s)return s}return hs(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=hs(Bs(t.latitude),Bs(e.latitude));return 0!==n?n:hs(Bs(t.longitude),Bs(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=eo(n[i],r[i]);if(s)return s}return hs(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=hs(r[o],s[o]);if(0!==a)return a;var u=eo(n[r[o]],i[s[o]]);if(0!==u)return u}return hs(r.length,s.length)}(t.mapValue,e.mapValue);default:throw os()}}function no(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return hs(t,e);var n=zs(t),r=zs(e),i=hs(n.seconds,r.seconds);return 0!==i?i:hs(n.nanos,r.nanos)}function ro(t){return io(t)}function io(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=zs(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gs(t.bytesValue).toBase64():"referenceValue"in t?Fs.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=io(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+io(t.fields[s])}return e+"}"}(t.mapValue):os();var e}function so(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function oo(t){return!!t&&"integerValue"in t}function ao(t){return!!t&&"arrayValue"in t}function uo(t){return!!t&&"nullValue"in t}function co(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lo(t){return!!t&&"mapValue"in t}var ho=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!lo(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Xs(this.proto,t.proto)},t}(),fo=function(){function t(t){void 0===t&&(t=ho.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Ys(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Ls.at(),this.Rt);return null!=t?new ho(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=lo(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function po(t){var e=[];return Us(t.fields||{},function(t,n){var r=new Ls([t]);if(lo(n)){var i=po(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new qs(e)}var yo=function(t,e){this.key=t,this.version=e},mo=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Xi.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(yo),go=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Xi.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yo),vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yo),bo=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function wo(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new bo(t,e,n,r,i,s,o)}function _o(t){var e=us(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+ro(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),Ws(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Do(e.startAt)),e.endAt&&(n+="|ub:",n+=Do(e.endAt)),e.St=n}return e.St}function Eo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Lo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Xs(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mo(t.startAt,e.startAt)&&Mo(t.endAt,e.endAt)}function So(t){return Fs.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Oo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Xi.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new To(t,n,r):"array-contains"===n?new jo(t,r):"in"===n?new Ao(t,r):"not-in"===n?new No(t,r):"array-contains-any"===n?new ko(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Io(t,n):new xo(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(eo(e,this.value)):null!==e&&Ys(this.value)===Ys(e)&&this.Ct(eo(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return os()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),To=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Fs.dt(r.referenceValue),i}return Object(Xi.c)(e,t),e.prototype.matches=function(t){var e=Fs.J(t.key,this.key);return this.Ct(e)},e}(Oo),Io=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Co(0,n),r}return Object(Xi.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Oo),xo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Co(0,n),r}return Object(Xi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Oo);function Co(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Fs.dt(t.referenceValue)})}var jo=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Xi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ao(e)&&to(e.arrayValue,this.value)},e}(Oo),Ao=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Xi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&to(this.value.arrayValue,e)},e}(Oo),No=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Xi.c)(e,t),e.prototype.matches=function(t){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!to(this.value.arrayValue,e)},e}(Oo),ko=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Xi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ao(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return to(e.value.arrayValue,t)})},e}(Oo),Po=function(t,e){this.position=t,this.before=e};function Do(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ro(t)}).join(",")}var Ro=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Lo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Fo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?Fs.J(Fs.dt(o.referenceValue),n.key):eo(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Mo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Xs(t.position[n],e.position[n]))return!1;return!0}var Uo=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ot=null,this.Ft=null};function Vo(t,e,n,r,i,s,o,a){return new Uo(t,e,n,r,i,s,o,a)}function qo(t){return new Uo(t)}function Ho(t){return!Ws(t.limit)&&"F"===t.limitType}function zo(t){return!Ws(t.limit)&&"L"===t.limitType}function Bo(t){return t.Nt.length>0?t.Nt[0].field:null}function Go(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function $o(t){return null!==t.collectionGroup}function Ko(t){var e=us(t);if(null===e.Ot){e.Ot=[];var n=Go(e),r=Bo(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new Ro(n)),e.Ot.push(new Ro(Ls.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ot.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new Ro(Ls.lt(),u))}}}return e.Ot}function Jo(t){var e=us(t);if(!e.Ft)if("F"===e.limitType)e.Ft=wo(e.path,e.collectionGroup,Ko(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ko(e);r<i.length;r++){var s=i[r];n.push(new Ro(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Po(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Po(e.startAt.position,!e.startAt.before):null;e.Ft=wo(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ft}function Wo(t,e,n){return new Uo(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qo(t,e){return Eo(Jo(t),Jo(e))&&t.limitType===e.limitType}function Zo(t){return _o(Jo(t))+"|lt:"+t.limitType}function Yo(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+ro(e.value);var e}).join(", ")+"]"),Ws(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Do(t.startAt)),t.endAt&&(e+=", endAt: "+Do(t.endAt)),"Target("+e+")"}(Jo(t))+"; limitType="+t.limitType+")"}function Xo(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Fs.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Fo(t.startAt,Ko(t),e)||t.endAt&&Fo(t.endAt,Ko(t),e))}(t,e)}function ta(t){return function(e,n){for(var r=!1,i=0,s=Ko(t);i<s.length;i++){var o=s[i],a=ea(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function ea(t,e,n){var r=t.field.ht()?Fs.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?eo(r,i):os()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return os()}}var na=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=ks.min()),void 0===s&&(s=ks.min()),void 0===o&&(o=ps.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function ra(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qs(e)?"-0":e}}function ia(t){return{integerValue:""+t}}function sa(t,e){return Zs(e)?ia(e):ra(t,e)}var oa=function(){this.Ut=void 0};function aa(t,e,n){return t instanceof la?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ha?fa(t,e):t instanceof da?pa(t,e):function(t,e){var n=ca(t,e),r=ma(n)+ma(t.Qt);return oo(n)&&oo(t.Qt)?ia(r):ra(t.Kt,r)}(t,e)}function ua(t,e,n){return t instanceof ha?fa(t,e):t instanceof da?pa(t,e):n}function ca(t,e){return t instanceof ya?oo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var la=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e}(oa),ha=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Xi.c)(e,t),e}(oa);function fa(t,e){for(var n=ga(e),r=function(t){n.some(function(e){return Xs(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var da=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Xi.c)(e,t),e}(oa);function pa(t,e){for(var n=ga(e),r=function(t){n=n.filter(function(e){return!Xs(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ya=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Xi.c)(e,t),e}(oa);function ma(t){return Bs(t.integerValue||t.doubleValue)}function ga(t){return ao(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var va=function(t,e){this.field=t,this.transform=e},ba=function(t,e){this.version=t,this.transformResults=e},wa=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function _a(t,e){return void 0!==t.updateTime?e instanceof mo&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof mo}var Ea=function(){};function Sa(t,e,n){return t instanceof Ca?function(t,e,n){var r=t.value;if(n.transformResults){var i=Na(t.fieldTransforms,e,n.transformResults);r=Pa(t.fieldTransforms,r,i)}return new mo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ja?function(t,e,n){if(!_a(t.Gt,e))return new vo(t.key,n.version);var r=Aa(t,e,n.transformResults?Na(t.fieldTransforms,e,n.transformResults):[]);return new mo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new go(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Oa(t,e,n,r){return t instanceof Ca?function(t,e,n,r){if(!_a(t.Gt,e))return e;var i=t.value,s=ka(t.fieldTransforms,n,e);i=Pa(t.fieldTransforms,i,s);var o=xa(e);return new mo(t.key,o,i,{bt:!0})}(t,e,r):t instanceof ja?function(t,e,n,r){if(!_a(t.Gt,e))return e;var i=xa(e),s=Aa(t,e,ka(t.fieldTransforms,n,e));return new mo(t.key,i,s,{bt:!0})}(t,e,r):function(t,e){return _a(t.Gt,e)?new go(t.key,ks.min()):e}(t,e)}function Ta(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof mo?e.field(s.field):void 0,a=ca(s.transform,o||null);null!=a&&(n=null==n?(new fo).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function Ia(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&fs(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ha&&e instanceof ha||t instanceof da&&e instanceof da?fs(t.elements,e.elements,Xs):t instanceof ya&&e instanceof ya?Xs(t.Qt,e.Qt):t instanceof la&&e instanceof la}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function xa(t){return t instanceof mo?t.version:ks.min()}var Ca=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(Xi.c)(e,t),e}(Ea),ja=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(Xi.c)(e,t),e}(Ea);function Aa(t,e,n){var r;return r=function(t,e){var n=new fo(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof mo?e.data():ho.empty()),Pa(t.fieldTransforms,r,n)}function Na(t,e,n){var r=[];as(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof mo&&(a=e.field(s.field)),r.push(ua(o,a,n[i]))}return r}function ka(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof mo&&(c=n.field(a.field)),i.push(aa(u,c,e))}return i}function Pa(t,e,n){for(var r=new fo(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var Da,Ra,La=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Xi.c)(e,t),e}(Ea),Fa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Xi.c)(e,t),e}(Ea),Ma=function(t){this.count=t};function Ua(t){switch(t){case ys.OK:return os();case ys.CANCELLED:case ys.UNKNOWN:case ys.DEADLINE_EXCEEDED:case ys.RESOURCE_EXHAUSTED:case ys.INTERNAL:case ys.UNAVAILABLE:case ys.UNAUTHENTICATED:return!1;case ys.INVALID_ARGUMENT:case ys.NOT_FOUND:case ys.ALREADY_EXISTS:case ys.PERMISSION_DENIED:case ys.FAILED_PRECONDITION:case ys.ABORTED:case ys.OUT_OF_RANGE:case ys.UNIMPLEMENTED:case ys.DATA_LOSS:return!0;default:return os()}}function Va(t){if(void 0===t)return rs("GRPC error has no .code"),ys.UNKNOWN;switch(t){case Da.OK:return ys.OK;case Da.CANCELLED:return ys.CANCELLED;case Da.UNKNOWN:return ys.UNKNOWN;case Da.DEADLINE_EXCEEDED:return ys.DEADLINE_EXCEEDED;case Da.RESOURCE_EXHAUSTED:return ys.RESOURCE_EXHAUSTED;case Da.INTERNAL:return ys.INTERNAL;case Da.UNAVAILABLE:return ys.UNAVAILABLE;case Da.UNAUTHENTICATED:return ys.UNAUTHENTICATED;case Da.INVALID_ARGUMENT:return ys.INVALID_ARGUMENT;case Da.NOT_FOUND:return ys.NOT_FOUND;case Da.ALREADY_EXISTS:return ys.ALREADY_EXISTS;case Da.PERMISSION_DENIED:return ys.PERMISSION_DENIED;case Da.FAILED_PRECONDITION:return ys.FAILED_PRECONDITION;case Da.ABORTED:return ys.ABORTED;case Da.OUT_OF_RANGE:return ys.OUT_OF_RANGE;case Da.UNIMPLEMENTED:return ys.UNIMPLEMENTED;case Da.DATA_LOSS:return ys.DATA_LOSS;default:return os()}}(Ra=Da||(Da={}))[Ra.OK=0]="OK",Ra[Ra.CANCELLED=1]="CANCELLED",Ra[Ra.UNKNOWN=2]="UNKNOWN",Ra[Ra.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ra[Ra.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ra[Ra.NOT_FOUND=5]="NOT_FOUND",Ra[Ra.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ra[Ra.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ra[Ra.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ra[Ra.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ra[Ra.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ra[Ra.ABORTED=10]="ABORTED",Ra[Ra.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ra[Ra.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ra[Ra.INTERNAL=13]="INTERNAL",Ra[Ra.UNAVAILABLE=14]="UNAVAILABLE",Ra[Ra.DATA_LOSS=15]="DATA_LOSS";var qa=function(){function t(t,e){this.J=t,this.root=e||za.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,za.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,za.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Ha(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Ha(this.root,t,this.J,!1)},t.prototype.se=function(){return new Ha(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Ha(this.root,t,this.J,!0)},t}(),Ha=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),za=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw os();if(this.right._e())throw os();var t=this.left.me();if(t!==this.right.me())throw os();return t+(this._e()?0:1)},t}();za.EMPTY=null,za.RED=!0,za.Jt=!1,za.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw os()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw os()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw os()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw os()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw os()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new za(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Ba=function(){function t(t){this.J=t,this.data=new qa(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Ga(this.data.ee())},t.prototype.ne=function(t){return new Ga(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Ga=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),$a=new qa(Fs.J);function Ka(){return $a}function Ja(){return Ka()}var Wa=new qa(Fs.J);function Qa(){return Wa}var Za=new qa(Fs.J);function Ya(){return Za}var Xa=new Ba(Fs.J);function tu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Xa,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var eu=new Ba(hs);function nu(){return eu}var ru=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Fs.J(e.key,n.key)}:function(t,e){return Fs.J(t.key,e.key)},this.Ve=Qa(),this.pe=new qa(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),iu=function(){function t(){this.ve=new qa(Fs.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):os():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),su=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Oe=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,ru.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Qo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ou=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,au.Be(e,n)),new t(ks.min(),r,nu(),Ka(),tu())},t}(),au=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(ps.h,n,tu(),tu(),tu())},t}(),uu=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},cu=function(t,e){this.targetId=t,this.Ge=e},lu=function(t,e,n,r){void 0===n&&(n=ps.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},hu=function(){function t(){this.ze=0,this.He=pu(),this.Je=ps.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=tu(),e=tu(),n=tu();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:os()}}),new au(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=pu()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),fu=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Ka(),this.fn=du(),this.dn=new Ba(hs)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof mo?this.En(r,t.We):t.We instanceof go&&this.Tn(r,t.key,t.We)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:os()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(So(i))if(0===n){var s=new Fs(i.path);this.Tn(e,s,new go(s,ks.min()))}else as(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var s=e.gn(i);if(s){if(r.qe&&So(s.target)){var o=new Fs(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new go(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=tu();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new ou(t,n,this.dn,this._n,r);return this._n=Ka(),this.fn=du(),this.dn=new Ba(hs),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new hu,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Ba(hs),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||ns("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new hu),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function du(){return new qa(Fs.J)}function pu(){return new qa(Fs.J)}var yu={asc:"ASCENDING",desc:"DESCENDING"},mu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gu=function(t,e){this.T=t,this.qt=e};function vu(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function bu(t,e){return t.qt?e.toBase64():e.toUint8Array()}function wu(t,e){return vu(t,e.G())}function _u(t){return as(!!t),ks.j(function(t){var e=zs(t);return new Ns(e.seconds,e.nanos)}(t))}function Eu(t,e){return function(t){return new Ds(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Su(t){var e=Ds.ct(t);return as(Ku(e)),e}function Ou(t,e){return Eu(t.T,e.path)}function Tu(t,e){var n=Su(e);if(n.get(1)!==t.T.projectId)throw new ms(ys.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new ms(ys.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Fs(ju(n))}function Iu(t,e){return Eu(t.T,e)}function xu(t){var e=Su(t);return 4===e.length?Ds.at():ju(e)}function Cu(t){return new Ds(["projects",t.T.projectId,"databases",t.T.database]).ot()}function ju(t){return as(t.length>4&&"documents"===t.get(4)),t.X(5)}function Au(t,e,n){return{name:Ou(t,e),fields:n.proto.mapValue.fields}}function Nu(t,e,n){var r=Tu(t,e.name),i=_u(e.updateTime),s=new ho({mapValue:{fields:e.fields}});return new mo(r,i,s,{hasCommittedMutations:!!n})}function ku(t,e){var n;if(e instanceof Ca)n={update:Au(t,e.key,e.value)};else if(e instanceof La)n={delete:Ou(t,e.key)};else if(e instanceof ja)n={update:Au(t,e.key,e.data),updateMask:$u(e.zt)};else{if(!(e instanceof Fa))return os();n={verify:Ou(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof la)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof ha)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof da)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof ya)return{fieldPath:e.field.ot(),increment:n.Qt};throw os()}(0,t)})),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:wu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:os()}(t,e.Gt)),n}function Pu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?wa.updateTime(_u(t.updateTime)):void 0!==t.exists?wa.exists(t.exists):wa.jt()}(e.currentDocument):wa.jt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(as("REQUEST_TIME"===e.setToServerValue),n=new la):"appendMissingElements"in e?n=new ha(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new da(e.removeAllFromArray.values||[]):"increment"in e?n=new ya(t,e.increment):os();var r=Ls._t(e.fieldPath);return new va(r,n)}(t,e)}):[];if(e.update){var i=Tu(t,e.update.name),s=new ho({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new qs((t.fieldPaths||[]).map(function(t){return Ls._t(t)}))}(e.updateMask);return new ja(i,s,o,n,r)}return new Ca(i,s,n,r)}if(e.delete){var a=Tu(t,e.delete);return new La(a,n)}if(e.verify){var u=Tu(t,e.verify);return new Fa(u,n)}return os()}function Du(t,e){return{documents:[Iu(t,e.path)]}}function Ru(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Iu(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Iu(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(co(t.value))return{unaryFilter:{field:Hu(t.field),op:"IS_NAN"}};if(uo(t.value))return{unaryFilter:{field:Hu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(co(t.value))return{unaryFilter:{field:Hu(t.field),op:"IS_NOT_NAN"}};if(uo(t.value))return{unaryFilter:{field:Hu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(t.field),op:qu(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Hu(t.field),direction:Vu(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||Ws(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Mu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Mu(e.endAt)),n}function Lu(t){var e=xu(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){as(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Fu(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Ro(zu(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ws(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Uu(n.startAt));var l=null;return n.endAt&&(l=Uu(n.endAt)),Vo(e,i,a,o,u,"F",c,l)}function Fu(t){return t?void 0!==t.unaryFilter?[Gu(t)]:void 0!==t.fieldFilter?[Bu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Fu(t)}).reduce(function(t,e){return t.concat(e)}):os():[]}function Mu(t){return{before:t.before,values:t.position}}function Uu(t){return new Po(t.values||[],!!t.before)}function Vu(t){return yu[t]}function qu(t){return mu[t]}function Hu(t){return{fieldPath:t.ot()}}function zu(t){return Ls._t(t.fieldPath)}function Bu(t){return Oo.create(zu(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return os()}}(t.fieldFilter.op),t.fieldFilter.value)}function Gu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=zu(t.unaryFilter.field);return Oo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=zu(t.unaryFilter.field);return Oo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zu(t.unaryFilter.field);return Oo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zu(t.unaryFilter.field);return Oo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return os()}}function $u(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function Ku(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ju=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Wu=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&os(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),Qu=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Ju,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Xu(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=ic(e.target.error);n.qn.reject(new Xu(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Xu(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(ns("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ec(e)},t}(),Zu=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Qt.g)())&&rs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ns("SimpleDb","Removing database:",t),nc(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Qt.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Xi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Xi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ns("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Xu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ms(ys.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Xu(t,n))},i.onupgradeneeded=function(t){ns("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ns("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Xi.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Xi.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Xi.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=Qu.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Wu.reject(t)}).Mn(),u={},o.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return ns("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Yu=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return nc(this.ts.delete())},t}(),Xu=function(t){function e(e,n){var r=this;return(r=t.call(this,ys.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Xi.c)(e,t),e}(ms);function tc(t){return"IndexedDbTransactionError"===t.name}var ec=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ns("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ns("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),nc(n)},t.prototype.add=function(t){return ns("SimpleDb","ADD",this.store.name,t,t),nc(this.store.add(t))},t.prototype.get=function(t){var e=this;return nc(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ns("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ns("SimpleDb","DELETE",this.store.name,t),nc(this.store.delete(t))},t.prototype.count=function(){return ns("SimpleDb","COUNT",this.store.name),nc(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){ns("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Wu(function(n,r){e.onerror=function(t){var e=ic(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new Wu(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Yu(i),o=e(i.primaryKey,i.value,s);if(o instanceof Wu){var a=o.catch(function(t){return s.done(),Wu.reject(t)});n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}}).next(function(){return Wu.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function nc(t){return new Wu(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ic(t.target.error);n(e)}})}var rc=!1;function ic(t){var e=Zu.Kn(Object(Qt.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ms("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rc||(rc=!0,setTimeout(function(){throw r},0)),r}}return t}var sc=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Ju,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new ms(ys.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function oc(t,e){if(rs("AsyncQueue",e+": "+t),tc(t))return new ms(ys.UNAVAILABLE,e+": "+t);throw t}var ac="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uc=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function cc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=hc(e)),e=lc(t.get(n),e);return hc(e)}function lc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function hc(t){return t+"\x01\x01"}function fc(t){var e=t.length;if(as(e>=2),2===e)return as("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ds.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&os(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:os()}s=o+2}return new Ds(r)}var dc=function(t,e){this.seconds=t,this.nanoseconds=e},pc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};pc.store="owner",pc.key="owner";var yc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};yc.store="mutationQueues",yc.keyPath="userId";var mc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};mc.store="mutations",mc.keyPath="batchId",mc.userMutationsIndex="userMutationsIndex",mc.userMutationsKeyPath=["userId","batchId"];var gc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,cc(e)]},t.key=function(t,e,n){return[t,cc(e),n]},t}();gc.store="documentMutations",gc.PLACEHOLDER=new gc;var vc=function(t,e){this.path=t,this.readTime=e},bc=function(t,e){this.path=t,this.version=e},wc=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};wc.store="remoteDocuments",wc.readTimeIndex="readTimeIndex",wc.readTimeIndexPath="readTime",wc.collectionReadTimeIndex="collectionReadTimeIndex",wc.collectionReadTimeIndexPath=["parentPath","readTime"];var _c=function(t){this.byteSize=t};_c.store="remoteDocumentGlobal",_c.key="remoteDocumentGlobalKey";var Ec=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Ec.store="targets",Ec.keyPath="targetId",Ec.queryTargetsIndexName="queryTargetsIndex",Ec.queryTargetsKeyPath=["canonicalId","targetId"];var Sc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Sc.store="targetDocuments",Sc.keyPath=["targetId","path"],Sc.documentTargetsIndex="documentTargetsIndex",Sc.documentTargetsKeyPath=["path","targetId"];var Oc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Oc.key="targetGlobalKey",Oc.store="targetGlobal";var Tc=function(t,e){this.collectionId=t,this.parent=e};Tc.store="collectionParents",Tc.keyPath=["collectionId","parent"];var Ic=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ic.store="clientMetadata",Ic.keyPath="clientId";var xc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};xc.store="bundles",xc.keyPath="bundleId";var Cc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Cc.store="namedQueries",Cc.keyPath="name";var jc=Object(Xi.g)(Object(Xi.g)(Object(Xi.g)(Object(Xi.g)([yc.store,mc.store,gc.store,wc.store,Ec.store,pc.store,Oc.store,Sc.store],[Ic.store]),[_c.store]),[Tc.store]),[xc.store,Cc.store]),Ac=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Xi.c)(e,t),e}(uc);function Nc(t,e){var n=us(t);return Zu.Hn(n.bs,e)}var kc=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Sa(s,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=Oa(o,e,0,this.Ss));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=Oa(o,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},tu())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&fs(this.mutations,t.mutations,function(t,e){return Ia(t,e)})&&fs(this.baseMutations,t.baseMutations,function(t,e){return Ia(t,e)})},t}(),Pc=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){as(e.mutations.length===r.length);for(var i=Ya(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Dc=function(t){this.ks=t};function Rc(t,e){if(e.document)return Nu(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Fs.Tt(e.noDocument.path),r=Vc(e.noDocument.readTime);return new go(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Fs.Tt(e.unknownDocument.path);return r=Vc(e.unknownDocument.version),new vo(i,r)}return os()}function Lc(t,e,n){var r=Fc(n),i=e.key.path.Z().rt();if(e instanceof mo){var s=function(t,e){return{name:Ou(t,e.key),fields:e.vt().mapValue.fields,updateTime:vu(t,e.version.G())}}(t.ks,e),o=e.hasCommittedMutations;return new wc(null,null,s,o,r,i)}if(e instanceof go){var a=e.key.path.rt(),u=Uc(e.version);return o=e.hasCommittedMutations,new wc(null,new vc(a,u),null,o,r,i)}if(e instanceof vo){var c=e.key.path.rt(),l=Uc(e.version);return new wc(new bc(c,l),null,null,!0,r,i)}return os()}function Fc(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Mc(t){var e=new Ns(t[0],t[1]);return ks.j(e)}function Uc(t){var e=t.G();return new dc(e.seconds,e.nanoseconds)}function Vc(t){var e=new Ns(t.seconds,t.nanoseconds);return ks.j(e)}function qc(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Pu(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map(function(e){return Pu(t.ks,e)}),o=Ns.fromMillis(e.localWriteTimeMs);return new kc(e.batchId,o,n,s)}function Hc(t){var e,n,r=Vc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Vc(t.lastLimboFreeSnapshotVersion):ks.min();return void 0!==t.query.documents?(as(1===(n=t.query).documents.length),e=Jo(qo(xu(n.documents[0])))):e=function(t){return Jo(Lu(t))}(t.query),new na(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ps.fromBase64String(t.resumeToken))}function zc(t,e){var n,r=Uc(e.Mt),i=Uc(e.lastLimboFreeSnapshotVersion);n=So(e.target)?Du(t.ks,e.target):Ru(t.ks,e.target);var s=e.resumeToken.toBase64();return new Ec(e.targetId,_o(e.target),r,s,e.sequenceNumber,i,n)}function Bc(t){var e=Lu({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Wo(e,e.limit,"L"):e}var Gc=function(){function t(){}return t.prototype.Ms=function(t,e){return $c(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Vc(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return $c(t).put({bundleId:(n=e).id,createTime:Uc(_u(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Kc(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Bc(e.bundledQuery),readTime:Vc(e.readTime)};var e})},t.prototype.Bs=function(t,e){return Kc(t).put(function(t){return{name:t.name,readTime:Uc(_u(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function $c(t){return Nc(t,xc.store)}function Kc(t){return Nc(t,Cc.store)}var Jc=function(){function t(){this.qs=new Wc}return t.prototype.Us=function(t,e){return this.qs.add(e),Wu.resolve()},t.prototype.Qs=function(t,e){return Wu.resolve(this.qs.getEntries(e))},t}(),Wc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Ba(Ds.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ba(Ds.J)).rt()},t}(),Qc=function(){function t(){this.Ks=new Wc}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var s={collectionId:r,parent:cc(i)};return Zc(t).put(s)}return Wu.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ds(e),""],!1,!0);return Zc(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(fc(s.parent))}return n})},t}();function Zc(t){return Nc(t,Tc.store)}var Yc={js:!1,Ws:0,Gs:0,zs:0},Xc=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function tl(t){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(e){if(t.code!==ys.FAILED_PRECONDITION||t.message!==ac)throw t;return ns("LocalStore","Unexpectedly lost primary lease"),[2]})})}Xc.Zs=10,Xc.ti=1e3,Xc.ei=new Xc(41943040,Xc.Zs,Xc.ti),Xc.ni=new Xc(-1,0,0);var el=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ii(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Us(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.nt=function(){return Vs(this.ri)},t}(),nl=function(){function t(){this.oi=new el(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:ks.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Wu.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function rl(t,e,n){var r=t.store(mc.store),i=t.store(gc.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){as(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=gc.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Wu.$n(s).next(function(){return c})}function il(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw os();e=t.noDocument}return JSON.stringify(e).length}var sl=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return as(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return al(t).ls({index:mc.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,s=ul(t),o=al(t);return o.add({}).next(function(a){as("number"==typeof a);for(var u=new kc(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ku(t.ks,e)}),i=n.mutations.map(function(e){return ku(t.ks,e)});return new mc(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Ba(function(t,e){return hs(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],y=gc.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(c)),l.push(s.put(y,gc.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[a]=u.keys()}),Wu.$n(l).next(function(){return u})})},t.prototype.yi=function(t,e){var n=this;return al(t).get(e).next(function(t){return t?(as(t.userId===n.userId),qc(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Wu.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return al(t).ls({index:mc.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(as(e.batchId>=r),s=qc(n.Kt,e)),i.done()}).next(function(){return s})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return al(t).ls({index:mc.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return al(t).os(mc.userMutationsIndex,n).next(function(t){return t.map(function(t){return qc(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=gc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return ul(t).ls({range:i},function(r,i,o){var a=r[0],u=r[2],c=fc(r[1]);if(a===n.userId&&e.path.isEqual(c))return al(t).get(u).next(function(t){if(!t)throw os();as(t.userId===n.userId),s.push(qc(n.Kt,t))});o.done()}).next(function(){return s})},t.prototype.Si=function(t,e){var n=this,r=new Ba(hs),i=[];return e.forEach(function(e){var s=gc.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=ul(t).ls({range:o},function(t,i,s){var o=t[0],a=t[2],u=fc(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Wu.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,s=gc.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ba(hs);return ul(t).ls({range:o},function(t,e,s){var o=t[0],u=t[2],c=fc(t[1]);o===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(al(t).get(e).next(function(t){if(null===t)throw os();as(t.userId===n.userId),r.push(qc(n.Kt,t))}))}),Wu.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return rl(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),Wu.forEach(r,function(e){return n.Ii.Oi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return Wu.resolve();var r=IDBKeyRange.lowerBound(gc.prefixForUser(e.userId)),i=[];return ul(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var s=fc(t[1]);i.push(s)}else r.done()}).next(function(){as(0===i.length)})})},t.prototype.ki=function(t,e){return ol(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return cl(t).get(this.userId).next(function(t){return t||new yc(e.userId,-1,"")})},t}();function ol(t,e,n){var r=gc.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return ul(t).ls({range:s,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function al(t){return Nc(t,mc.store)}function ul(t){return Nc(t,gc.store)}function cl(t){return Nc(t,yc.store)}var ll=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),hl=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new ll(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return ks.j(new Ns(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return fl(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return as(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return fl(t).ls(function(o,a){var u=Hc(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Yi(t,u)))}).next(function(){return Wu.$n(s)}).next(function(){return i})},t.prototype.mn=function(t,e){return fl(t).ls(function(t,n){var r=Hc(n);e(r)})},t.prototype.Ui=function(t){return dl(t).get(Oc.key).next(function(t){return as(null!==t),t})},t.prototype.Qi=function(t,e){return dl(t).put(Oc.key,e)},t.prototype.zi=function(t,e){return fl(t).put(zc(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=_o(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fl(t).ls({range:r,index:Ec.queryTargetsIndexName},function(t,n,r){var s=Hc(n);Eo(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],s=pl(t);return e.forEach(function(e){var o=cc(e.path);i.push(s.put(new Sc(n,o))),i.push(r.Ii.sr(t,n,e))}),Wu.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=pl(t);return Wu.forEach(e,function(e){var s=cc(e.path);return Wu.$n([i.delete([n,s]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=pl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=pl(t),i=tu();return r.ls({range:n,hs:!0},function(t,e,n){var r=fc(t[1]),s=new Fs(r);i=i.add(s)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=cc(e.path),r=IDBKeyRange.bound([n],[ds(n)],!1,!0),i=0;return pl(t).ls({index:Sc.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return fl(t).get(e).next(function(t){return t?Hc(t):null})},t}();function fl(t){return Nc(t,Ec.store)}function dl(t){return Nc(t,Oc.store)}function pl(t){return Nc(t,Sc.store)}function yl(t,e){var n=t[1],r=e[1],i=hs(t[0],e[0]);return 0===i?hs(n,r):i}var ml=function(){function t(t){this.ar=t,this.buffer=new Ba(yl),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();yl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),gl=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;ns("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(Xi.b)(e,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return tc(e=n.sent())?(ns("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,tl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),vl=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return Wu.resolve(As.U);var r=new ml(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(ns("LruGarbageCollector","Garbage collection skipped; disabled"),Wu.resolve(Yc)):this.br(t).next(function(r){return r<n.params.Hs?(ns("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Yc):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(ns("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,s=Date.now(),c.yr(t,r)}).next(function(r){return n=r,o=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Vr(t,n)}).next(function(t){return u=Date.now(),es()<=Wt.a.DEBUG&&ns("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Wu.resolve({js:!0,Ws:r,Gs:i,zs:t})})},t}(),bl=function(){function t(t,e){this.db=t,this._r=function(t,e){return new vl(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return wl(t,n)},t.prototype.rr=function(t,e,n){return wl(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return wl(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return cl(t)._s(function(r){return ol(t,r,e).next(function(t){return t&&(n=!0),Wu.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],s=0;return this.Cr(t,function(o,a){if(a<=e){var u=n.Nr(t,o).next(function(e){if(!e)return s++,r.fi(t,o).next(function(){return r._i(o),pl(t).delete([0,cc(o.path)])})});i.push(u)}}).next(function(){return Wu.$n(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return wl(t,e)},t.prototype.Cr=function(t,e){var n,r=pl(t),i=As.U;return r.ls({index:Sc.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==As.U&&e(new Fs(fc(n)),i),i=o,n=s):i=As.U}).next(function(){i!==As.U&&e(new Fs(fc(n)),i)})},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function wl(t,e){return pl(t).put(function(t,e){return new Sc(0,cc(t.path),e)}(e,t.vs))}var _l=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Ol(t).put(Tl(e),n)},t.prototype._i=function(t,e){var n=Ol(t),r=Tl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return Ol(t).get(Tl(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return Ol(t).get(Tl(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:il(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ja();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=Ja(),i=new qa(Fs.J);return this.qr(t,e,function(t,e){var s=n.$r(e);s?(r=r.Ht(t,s),i=i.Ht(t,il(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return Wu.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return Ol(t).ls({range:r},function(t,e,r){for(var o=Fs.Tt(t);s&&Fs.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=Qa(),s=e.path.length+1,o={};if(n.isEqual(ks.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Fc(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=wc.collectionReadTimeIndex}return Ol(t).ls(o,function(t,n,o){if(t.length===s){var a=Rc(r.Kt,n);e.path.st(a.key.path)?a instanceof mo&&Xo(e,a)&&(i=i.Ht(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new El(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Sl(t).get(_c.key).next(function(t){return as(!!t),t})},t.prototype.Lr=function(t,e){return Sl(t).put(_c.key,e)},t.prototype.$r=function(t){if(t){var e=Rc(this.Kt,t);return e instanceof go&&e.version.isEqual(ks.min())?null:e}return null},t}(),El=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new el(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Xi.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Ba(function(t,e){return hs(t.ot(),e.ot())});return this.oi.forEach(function(s,o){var a=e.zr.get(s);if(o.li){var u=Lc(e.Gr.Kt,o.li,e.ai(s));i=i.add(s.path.Z());var c=il(u);r+=c-a,n.push(e.Gr.ui(t,s,u))}else if(r-=a,e.Wr){var l=Lc(e.Gr.Kt,new go(s,ks.min()),e.ai(s));n.push(e.Gr.ui(t,s,l))}else n.push(e.Gr._i(t,s))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),Wu.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(nl);function Sl(t){return Nc(t,_c.store)}function Ol(t){return Nc(t,wc.store)}function Tl(t){return t.path.rt()}var Il=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;as(n<r&&n>=0&&r<=11);var s=new Qu("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(pc.store)}(t),function(t){t.createObjectStore(yc.store,{keyPath:yc.keyPath}),t.createObjectStore(mc.store,{keyPath:mc.keyPath,autoIncrement:!0}).createIndex(mc.userMutationsIndex,mc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(gc.store)}(t),xl(t),function(t){t.createObjectStore(wc.store)}(t));var o=Wu.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Sc.store),t.deleteObjectStore(Ec.store),t.deleteObjectStore(Oc.store)}(t),xl(t)),o=o.next(function(){return function(t){var e=t.store(Oc.store),n=new Oc(0,0,ks.min().G(),0);return e.put(Oc.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(mc.store).os().next(function(n){t.deleteObjectStore(mc.store),t.createObjectStore(mc.store,{keyPath:mc.keyPath,autoIncrement:!0}).createIndex(mc.userMutationsIndex,mc.userMutationsKeyPath,{unique:!0});var r=e.store(mc.store),i=n.map(function(t){return r.put(t)});return Wu.$n(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Ic.store,{keyPath:Ic.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Hr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(_c.store)}(t),i.Jr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Yr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Xr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(wc.store);e.createIndex(wc.readTimeIndex,wc.readTimeIndexPath,{unique:!1}),e.createIndex(wc.collectionReadTimeIndex,wc.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Zr(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(xc.store,{keyPath:xc.keyPath})}(t),function(t){t.createObjectStore(Cc.store,{keyPath:Cc.keyPath})}(t)})),o},t.prototype.Jr=function(t){var e=0;return t.store(wc.store).ls(function(t,n){e+=il(n)}).next(function(){var n=new _c(e);return t.store(_c.store).put(_c.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(yc.store),r=t.store(mc.store);return n.os().next(function(n){return Wu.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(mc.userMutationsIndex,i).next(function(r){return Wu.forEach(r,function(r){as(r.userId===n.userId);var i=qc(e.Kt,r);return rl(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(Sc.store),n=t.store(wc.store);return t.store(Oc.store).get(Oc.key).next(function(t){var r=[];return n.ls(function(n,i){var s=new Ds(n),o=function(t){return[0,cc(t)]}(s);r.push(e.get(o).next(function(n){return n?Wu.resolve():function(n){return e.put(new Sc(0,cc(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Wu.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(Tc.store,{keyPath:Tc.keyPath});var n=e.store(Tc.store),r=new Wc,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:cc(i)})}};return e.store(wc.store).ls({hs:!0},function(t,e){var n=new Ds(t);return i(n.Z())}).next(function(){return e.store(gc.store).ls({hs:!0},function(t,e){var n=fc(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(Ec.store);return n.ls(function(t,r){var i=Hc(r),s=zc(e.Kt,i);return n.put(s)})},t}();function xl(t){t.createObjectStore(Sc.store,{keyPath:Sc.keyPath}).createIndex(Sc.documentTargetsIndex,Sc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ec.store,{keyPath:Ec.keyPath}).createIndex(Ec.queryTargetsIndexName,Ec.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Oc.store)}var Cl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jl=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=s,this.window=o,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new ms(ys.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new bl(this,i),this.lo=n+"main",this.Kt=new Dc(u),this._o=new Zu(this.lo,11,new Il(this.Kt)),this.fo=new hl(this.Ii,this.Kt),this.Ti=new Qc,this.wo=function(t,e){return new _l(t,e)}(this.Kt,this.Ti),this.Eo=new Gc,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&rs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ms(ys.FAILED_PRECONDITION,Cl);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.ji(e)})}).then(function(e){t.io=new As(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Xi.b)(e,void 0,void 0,function(){return Object(Xi.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(Xi.b)(e,void 0,void 0,function(){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(Xi.b)(e,void 0,void 0,function(){return Object(Xi.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Nl(e).put(new Ic(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(tc(e))return ns("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ns("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return Al(t).get(pc.key).next(function(t){return Wu.resolve(e.Co(t))})},t.prototype.xo=function(t){return Nl(t).delete(this.clientId)},t.prototype.No=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Nc(t,Ic.store);return e.os().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Wu.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Wu.resolve(!0):Al(t).get(pc.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new ms(ys.FAILED_PRECONDITION,Cl);return!1}}return!(!e.networkEnabled||!e.inForeground)||Nl(t).os().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ns("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t=this;return Object(Xi.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[pc.store,Ic.store],function(e){var n=new Ac(e,As.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Nl(e).os().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return sl.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ns("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",jc,function(s){return r=new Ac(s,i.io?i.io.next():As.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw rs("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new ms(ys.FAILED_PRECONDITION,ac);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return Al(t).get(pc.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ms(ys.FAILED_PRECONDITION,Cl)})},t.prototype.Do=function(t){var e=new pc(this.clientId,this.allowTabSynchronization,Date.now());return Al(t).put(pc.key,e)},t.jn=function(){return Zu.jn()},t.prototype.So=function(t){var e=this,n=Al(t);return n.get(pc.key).next(function(t){return e.Co(t)?(ns("IndexedDbPersistence","Releasing primary lease."),n.delete(pc.key)):Wu.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rs("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return ns("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rs("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){rs("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Al(t){return Nc(t,pc.store)}function Nl(t){return Nc(t,Ic.store)}function kl(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Pl=function(t,e){this.progress=t,this.zo=e},Dl=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=Ja();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),s=Ka();return i.forEach(function(t,e){e||(e=new go(t,ks.min())),s=s.Ht(t,e)}),s})},t.prototype.jr=function(t,e,n){return function(t){return Fs.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):$o(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Fs(e)).next(function(t){var e=Qa();return t instanceof mo&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=Qa();return this.Ti.Qs(t,i).next(function(o){return Wu.forEach(o,function(o){var a=function(t,e){return new Uo(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ht(t,e)})})}).next(function(){return s})})},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.wo.jr(t,e,n).next(function(n){return r=n,s.Ho.Ci(t,e)}).next(function(e){return s.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=Oa(u,r.get(c),0,s.Ss);r=l instanceof mo?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Xo(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=tu(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof ja&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof mo&&(c=c.Ht(t,e))}),c})},t}(),Rl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=tu(),i=tu(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ll=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(ks.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(s){var o=i.lc(e,s);return(Ho(e)||zo(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(es()<=Wt.a.DEBUG&&ns("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yo(e)),i.uc.jr(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new Ba(ta(t));return e.forEach(function(e,r){r instanceof mo&&Xo(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return es()<=Wt.a.DEBUG&&ns("QueryEngine","Using full collection scan to execute query:",Yo(e)),this.uc.jr(t,e,ks.min())},t}(),Fl=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new qa(hs),this.wc=new el(function(t){return _o(t)},Eo),this.Ec=ks.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new Dl(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function Ml(t,e,n,r){return new Fl(t,e,n,r)}function Ul(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Xi.d)(this,function(o){switch(o.label){case 0:return n=us(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ho.bi(t).next(function(o){return s=o,r=n.persistence.Ko(e),i=new Dl(n.Tc,r,n.persistence.jo()),r.bi(t)}).next(function(e){for(var n=[],r=[],o=tu(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var y=0,m=p.mutations;y<m.length;y++)o=o.add(m[y].key)}return i.Zo(t,o).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}})})}function Vl(t,e){var n=us(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Wu.resolve();return s.forEach(function(t){o=o.next(function(){return r.fi(e,t)}).next(function(e){var s=e,o=n.Fs.get(t);as(null!==o),(!s||s.version.u(o)<0)&&(s=i.Ds(t,s,n))&&r.ui(s,n.Os)})}),o.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function ql(t){var e=us(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function Hl(t,e){var n=us(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Tc.Or({Wr:!0});i=n.dc;var o=[];e.Fe.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.fo.ir(t,e.Ke,s).next(function(){return n.fo.nr(t,e.Ue,s)}));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(s,c),function(t,e,n){return as(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&o.push(n.fo.Ji(t,c))}}});var a=Ka();if(e.Me.forEach(function(r,i){e.Le.has(r)&&o.push(n.persistence.Ii.kr(t,r))}),o.push(zl(t,s,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(ks.min())){var u=n.fo.Ki(t).next(function(e){return n.fo.Wi(t,t.vs,r)});o.push(u)}return Wu.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function zl(t,e,n,r,i){var s=tu();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Ka();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof go&&o.version.isEqual(ks.min())?(e._i(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.ui(o,u),s=s.Ht(n,o)):ns("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Bl(t,e){var n=us(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function Gl(t,e){var n=us(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?Wu.resolve(r=i):n.fo.qi(t).next(function(i){return r=new na(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function $l(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Xi.d)(this,function(a){switch(a.label){case 0:r=us(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!tc(o=a.sent()))throw o;return ns("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function Kl(t,e,n){var r=us(t),i=ks.min(),s=tu();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=us(t),i=r.wc.get(n);return void 0!==i?Wu.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Jo(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){s=t})}).next(function(){return r.fc.jr(t,e,n?i:ks.min(),n?s:tu())}).next(function(t){return{documents:t,Pc:s}})})}function Jl(t,e){var n=us(t),r=us(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function Wl(t){var e=us(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=us(t),i=Ka(),s=Fc(n),o=Ol(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:wc.readTimeIndex,range:a},function(t,e){var n=Rc(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime}).next(function(){return{zo:i,readTime:Mc(s)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function Ql(t){return Object(Xi.b)(this,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){return[2,(e=us(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ol(t),n=ks.min();return e.ls({index:wc.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Mc(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function Zl(t,e,n,r){return Object(Xi.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(Xi.d)(this,function(p){switch(p.label){case 0:for(i=us(t),s=tu(),o=Ka(),a=Ya(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,Gl(i,function(t){return Jo(qo(Ds.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return zl(t,f,o,ks.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,s,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function Yl(t,e,n){return void 0===n&&(n=tu()),Object(Xi.b)(this,void 0,void 0,function(){var r,i;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return[4,Gl(t,Jo(Bc(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=us(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=_u(e.readTime);if(r.Mt.u(s)>=0)return i.Eo.Bs(t,e);var o=r.$t(ps.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.fo.Ji(t,o).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var Xl=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Wu.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:_u(n.createTime)}),Wu.resolve()},t.prototype.$s=function(t,e){return Wu.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Bc(t.bundledQuery),readTime:_u(t.readTime)}}(e)),Wu.resolve()},t}(),th=function(){function t(){this.Sc=new Ba(eh.Dc),this.Cc=new Ba(eh.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new eh(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Oc(new eh(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new Fs(new Ds([])),r=new eh(n,t),i=new eh(n,t+1),s=[];return this.Cc.Ae([r,i],function(t){e.Oc(t),s.push(t.key)}),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Oc(e)})},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Fs(new Ds([])),n=new eh(e,t),r=new eh(e,t+1),i=tu();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new eh(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),eh=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Fs.J(t.key,e.key)||hs(t.$c,e.$c)},t.xc=function(t,e){return hs(t.$c,e.$c)||Fs.J(t.key,e.key)},t}(),nh=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Ba(eh.Dc)}return t.prototype.Ri=function(t){return Wu.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new kc(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new eh(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return Wu.resolve(s)},t.prototype.yi=function(t,e){return Wu.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Wu.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Wu.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Wu.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new eh(e,0),i=new eh(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);s.push(e)}),Wu.resolve(s)},t.prototype.Si=function(t,e){var n=this,r=new Ba(hs);return e.forEach(function(t){var e=new eh(t,0),i=new eh(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),Wu.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Fs.Et(i)||(i=i.child(""));var s=new eh(new Fs(i),0),o=new Ba(hs);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)},s),Wu.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;as(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Wu.forEach(e.mutations,function(i){var s=new eh(i.key,e.batchId);return r=r.delete(s),n.Ii.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new eh(e,0),r=this.qc.Pe(n);return Wu.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return Wu.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),rh=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new qa(Fs.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:o,readTime:n}),this.size+=o-s,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Wu.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ja();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),Wu.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Qa(),i=new Fs(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a.li,c=a.readTime;if(!e.path.st(o.key.path))break;c.u(n)<=0||u instanceof mo&&Xo(e,u)&&(r=r.Ht(u.key,u))}return Wu.resolve(r)},t.prototype.Gc=function(t,e){return Wu.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new ih(this)},t.prototype.Mr=function(t){return Wu.resolve(this.size)},t}(),ih=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Xi.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),Wu.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(nl),sh=function(){function t(t){this.persistence=t,this.zc=new el(function(t){return _o(t)},Eo),this.lastRemoteSnapshotVersion=ks.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new th,this.targetCount=0,this.Yc=ll.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),Wu.resolve()},t.prototype.Ki=function(t){return Wu.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Wu.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Wu.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Wu.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new ll(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Wu.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Wu.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Wu.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Xi(t,a.targetId)),i++)}),Wu.$n(s).next(function(){return i})},t.prototype.tr=function(t){return Wu.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Wu.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Wu.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),Wu.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Wu.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Wu.resolve(n)},t.prototype.ki=function(t,e){return Wu.resolve(this.Jc.ki(e))},t}(),oh=function(){function t(t,e){var n=this;this.Xc={},this.io=new As(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new sh(this),this.Ti=new Jc,this.wo=function(t,e){return new rh(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new Dc(e),this.Eo=new Xl(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new nh(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;ns("MemoryPersistence","Starting transaction:",t);var i=new ah(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return Wu.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),ah=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Xi.c)(e,t),e}(uc),uh=function(){function t(t){this.persistence=t,this.sa=new th,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw os()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Wu.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Wu.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Wu.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Wu.forEach(this.oa,function(r){var i=Fs.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Wu.Bn([function(){return Wu.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function ch(t,e){return"firestore_clients_"+t+"_"+e}function lh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function hh(t,e){return"firestore_targets_"+t+"_"+e}var fh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new ms(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(rs("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new ms(r.error.code,r.error.message)),i?new t(e,r.state,s):(rs("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ph=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=nu(),o=0;i&&o<r.activeTargetIds.length;++o)i=Zs(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(rs("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),yh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rs("SharedClientState","Failed to parse online state: "+e),null)},t}(),mh=function(){function t(){this.activeTargetIds=nu()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),gh=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new qa(hs),this.Tr=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=ch(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new mh),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Xi.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(ch(this.persistenceKey,r)))&&(s=ph.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(hh(this.persistenceKey,t));if(n){var r=dh.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(hh(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ns("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ns("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ns("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ns("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void rs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(Xi.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Xi.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=As.U;if(null!=t)try{var n=JSON.parse(t);as("number"==typeof n),e=n}catch(t){rs("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==As.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new fh(this.currentUser,t,e,n),i=lh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=lh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=hh(this.persistenceKey,t),i=new dh(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return ph.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return fh.aa(new Os(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return dh.aa(r,e)},t.prototype.ba=function(t){return yh.aa(t)},t.prototype.Xa=function(t){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(ns("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.fa.iu(o,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=nu();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),vh=function(){function t(){this.ru=new mh,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new mh,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),bh=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),wh=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){ns("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){ns("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_h={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Eh=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Sh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Xi.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,s){var o=new Yi;o.listenOnce(Wi.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Ji.NO_ERROR:var e=o.getResponseJson();ns("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ji.TIMEOUT:ns("Connection",'RPC "'+t+'" timed out'),s(new ms(ys.DEADLINE_EXCEEDED,"Request time out"));break;case Ji.HTTP_ERROR:var n=o.getStatus();if(ns("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ys).indexOf(e)>=0?e:ys.UNKNOWN}(r.status);s(new ms(a,r.message))}else s(new ms(ys.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ms(ys.UNAVAILABLE,"Connection failed."));break;default:os()}}finally{ns("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new zi,i=$n(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(Qt.l)()||Object(Qt.n)()||Object(Qt.j)()||Object(Qt.k)()||Object(Qt.o)()||Object(Qt.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ns("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Eh({du:function(t){c?ns("Connection","Not sending because WebChannel is closed:",t):(u||(ns("Connection","Opening WebChannel transport."),a.open(),u=!0),ns("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Zi.EventType.OPEN,function(){c||ns("Connection","WebChannel transport opened.")}),h(a,Zi.EventType.CLOSE,function(){c||(c=!0,ns("Connection","WebChannel transport closed"),l.Pu())}),h(a,Zi.EventType.ERROR,function(t){c||(c=!0,is("Connection","WebChannel transport errored:",t),l.Pu(new ms(ys.UNAVAILABLE,"The operation could not be completed")))}),h(a,Zi.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];as(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ns("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Da[t];if(void 0!==e)return Va(e)}(i),o=r.message;void 0===s&&(s=ys.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new ms(s,o)),a.close()}else ns("Connection","WebChannel received:",n),l.yu(n)}}),h(i,Qi.STAT_EVENT,function(t){10===t.stat?ns("Connection","Detected buffering proxy"):11===t.stat&&ns("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);ns("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then(function(t){return ns("RestConnection","Received: ",t),t},function(e){throw is("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+_h[t]},t}());function Oh(){return"undefined"!=typeof window?window:null}function Th(){return"undefined"!=typeof document?document:null}function Ih(t){return new gu(t,!0)}var xh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&ns("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Ch=function(){function t(t,e,n,r,i,s){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=s,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new xh(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===ys.RESOURCE_EXHAUSTED?(rs(e.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===ys.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then(function(e){t.Wu===n&&t.rh(e)},function(n){e(function(){var e=new ms(ys.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(Xi.b)(t,void 0,void 0,function(){return Object(Xi.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return ns("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.Wu===t?n():(ns("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),jh=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(Xi.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:os()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(as(void 0===e||"string"==typeof e),ps.fromBase64String(e||"")):(as(void 0===e||e instanceof Uint8Array),ps.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ys.UNKNOWN:Va(t.code);return new ms(e,t.message||"")}(a);n=new lu(r,i,s,o||null)}else if("documentChange"in e){i=Tu(t,(r=e.documentChange).document.name),s=_u(r.document.updateTime);var a=new ho({mapValue:{fields:r.document.fields}}),u=(o=new mo(i,s,a,{}),r.targetIds||[]);n=new uu(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Tu(t,(r=e.documentDelete).document),s=r.readTime?_u(r.readTime):ks.min(),a=new go(i,s),n=new uu([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Tu(t,(r=e.documentRemove).document),n=new uu([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return os();var c=e.filter;i=new Ma(r=c.count||0),n=new cu(s=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return ks.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ks.min():e.readTime?_u(e.readTime):ks.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Cu(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=So(r)?{documents:Du(t,r)}:{query:Ru(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=bu(t,e.resumeToken):e.Mt.u(ks.min())>0&&(n.readTime=vu(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return os()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Cu(this.Kt),e.removeTarget=t,this.eh(e)},e}(Ch),Ah=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(Xi.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(as(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(as(void 0!==e),t.map(function(t){return function(t,e){var n=_u(t.updateTime?t.updateTime:e);n.isEqual(ks.min())&&(n=_u(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ba(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=_u(t.commitTime);return this.listener.wh(n,e)}return as(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Cu(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ku(e.Kt,t)})};this.eh(n)},e}(Ch),Nh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Xi.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new ms(ys.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===ys.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===ys.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),kh=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(rs(e),this.Ph=!1):ns("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),Ph=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(Xi.b)(s,void 0,void 0,function(){return Object(Xi.d)(this,function(t){switch(t.label){case 0:return Hh(this)?(ns("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Xi.b)(this,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return(e=us(t)).Oh.add(4),[4,Rh(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,Dh(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new kh(n,r)};function Dh(t){return Object(Xi.b)(this,void 0,void 0,function(){var e,n;return Object(Xi.d)(this,function(r){switch(r.label){case 0:if(!Hh(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Rh(t){return Object(Xi.b)(this,void 0,void 0,function(){var e,n;return Object(Xi.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Lh(t,e){var n=us(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),qh(n)?Vh(n):rf(n).Ju()&&Mh(n,e))}function Fh(t,e){var n=us(t),r=rf(n);n.Nh.delete(e),r.Ju()&&Uh(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():Hh(n)&&n.Mh.set("Unknown"))}function Mh(t,e){t.Lh.cn(e.targetId),rf(t).hh(e)}function Uh(t,e){t.Lh.cn(e),rf(t).lh(e)}function Vh(t){t.Lh=new fu({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),rf(t).start(),t.Mh.yh()}function qh(t){return Hh(t)&&!rf(t).Hu()&&t.Nh.size>0}function Hh(t){return 0===us(t).Oh.size}function zh(t){t.Lh=void 0}function Bh(t){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(e){return t.Nh.forEach(function(e,n){Mh(t,e)}),[2]})})}function Gh(t,e){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(n){return zh(t),qh(t)?(t.Mh.ph(e),Vh(t)):t.Mh.set("Unknown"),[2]})})}function $h(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i,s;return Object(Xi.d)(this,function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof lu&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Xi.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),ns("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Kh(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof uu?t.Lh.wn(e):e instanceof cu?t.Lh.yn(e):t.Lh.In(e),n.isEqual(ks.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,ql(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(ps.h,n.Mt)),Uh(t,e);var r=new na(n.target,e,1,n.sequenceNumber);Mh(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return ns("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Kh(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Kh(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r=this;return Object(Xi.d)(this,function(i){switch(i.label){case 0:if(!tc(e))throw e;return t.Oh.add(1),[4,Rh(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return ql(t.Sh)}),t.fs.bo(function(){return Object(Xi.b)(r,void 0,void 0,function(){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return ns("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,Dh(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Jh(t,e){return e().catch(function(n){return Kh(t,n,e)})}function Wh(t){return Object(Xi.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Xi.d)(this,function(o){switch(o.label){case 0:e=us(t),n=sf(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Hh(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Bl(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=sf(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Kh(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Qh(e)&&Zh(e),[2]}})})}function Qh(t){return Hh(t)&&!sf(t).Hu()&&t.xh.length>0}function Zh(t){sf(t).start()}function Yh(t){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(e){return sf(t).Th(),[2]})})}function Xh(t){return Object(Xi.b)(this,void 0,void 0,function(){var e,n,r;return Object(Xi.d)(this,function(i){for(e=sf(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function tf(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return r=t.xh.shift(),i=Pc.from(r,e,n),[4,Jh(t,function(){return t.Ch.qh(i)})];case 1:return s.sent(),[4,Wh(t)];case 2:return s.sent(),[2]}})})}function ef(t,e){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(n){switch(n.label){case 0:return e&&sf(t).fh?[4,function(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return Ua(r=e.code)&&r!==ys.ABORTED?(n=t.xh.shift(),sf(t).Xu(),[4,Jh(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Wh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qh(t)&&Zh(t),[2]}})})}function nf(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n;return Object(Xi.d)(this,function(r){switch(r.label){case 0:return n=us(t),e?(n.Oh.delete(2),[4,Dh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,Rh(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function rf(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=us(t);return r.mh(),new jh(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Bh.bind(null,t),Iu:Gh.bind(null,t),uh:$h.bind(null,t)}),t.Fh.push(function(n){return Object(Xi.b)(e,void 0,void 0,function(){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),qh(t)?Vh(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),zh(t),e.label=3;case 3:return[2]}})})})),t.Qh}function sf(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=us(t);return r.mh(),new Ah(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Yh.bind(null,t),Iu:ef.bind(null,t),Eh:Xh.bind(null,t),wh:tf.bind(null,t)}),t.Fh.push(function(n){return Object(Xi.b)(e,void 0,void 0,function(){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Wh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(ns("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var of=function(){this.jh=void 0,this.listeners=[]},af=function(){this.queries=new el(function(t){return Zo(t)},Qo),this.onlineState="Unknown",this.Wh=new Set};function uf(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Xi.d)(this,function(c){switch(c.label){case 0:if(n=us(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new of),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.jh=c.sent(),[3,4];case 3:return a=c.sent(),u=oc(a,"Initialization of query '"+Yo(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.jh&&e.Hh(s.jh)&&ff(n),[2]}})})}function cf(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Xi.d)(this,function(a){return n=us(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function lf(t,e){for(var n=us(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(o)&&(r=!0);a.jh=o}}r&&ff(n)}function hf(t,e,n){var r=us(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function ff(t){t.Wh.forEach(function(t){t.next()})}var df=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new su(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=su.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),pf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),yf=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Tu(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Nu(this.Kt,t.document,!1):new go(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return _u(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new yf(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||tu()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return[4,Zl(this.Sh,new yf(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Yl(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Pl(Object.assign({},this.progress),t))]}})})}}();var mf=function(t){this.key=t},gf=function(t){this.key=t},vf=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=tu(),this.Ce=tu(),this.ll=ta(t),this._l=new ru(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new iu,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=Ho(this.query)&&i.size===this.query.limit?i.last():null,c=zo(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof mo?e:null;h&&(h=Xo(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Ho(this.query)||zo(this.query))for(;o.size>this.query.limit;){var l=Ho(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return os()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new su(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new iu,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=tu(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new gf(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new mf(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=tu();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return su.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),bf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},wf=function(t){this.key=t,this.yl=!1},_f=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new el(function(t){return Zo(t)},Qo),this.Dl=new Map,this.Cl=[],this.xl=new qa(Fs.J),this.Nl=new Map,this.Ol=new th,this.Fl={},this.kl=new Map,this.Ml=ll.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Ef(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Xi.d)(this,function(a){switch(a.label){case 0:return n=Zf(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Gl(n.Sh,Jo(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,Sf(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&Lh(n.gl,s),a.label=4;case 4:return[2,r]}})})}function Sf(t,e,n,r){return Object(Xi.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Xi.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Xi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Xi.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Kl(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Fe.get(e.targetId),o=e.view.Ei(i,t.$l,s),[2,(Lf(t,e.targetId,o.ml),o.snapshot)]}})})}(t,e,n,r)},[4,Kl(t.Sh,e,!0)];case 1:return i=l.sent(),s=new vf(e,i.Pc),o=s.dl(i.documents),a=au.Be(n,r&&"Offline"!==t.onlineState),u=s.Ei(o,t.$l,a),Lf(t,n,u.ml),c=new bf(e,n,s),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function Of(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return n=us(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!Qo(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,$l(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),Fh(n.gl,r.targetId),Df(n,r.targetId)}).catch(tl)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Df(n,r.targetId),[4,$l(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Tf(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Xi.d)(this,function(a){switch(a.label){case 0:r=Yf(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=us(t),i=Ns.now(),s=e.reduce(function(t,e){return t.add(e.key)},tu());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ta(c,n.get(c.key));null!=l&&o.push(new ja(c.key,l,po(l.proto.mapValue),wa.exists(!0)))}return r.Ho.Pi(t,i,o,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new qa(hs)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,Uf(r,i.oi)];case 3:return a.sent(),[4,Wh(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=oc(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function If(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r;return Object(Xi.d)(this,function(i){switch(i.label){case 0:n=us(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Hl(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.Nl.get(e);r&&(as(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?as(r.yl):t.Ke.size>0&&(as(r.yl),r.yl=!1))}),[4,Uf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,tl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function xf(t,e,n){var r=us(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=us(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)}),r&&ff(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Cf(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Xi.d)(this,function(c){switch(c.label){case 0:return(r=us(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new qa(Fs.J)).Ht(s,new go(s,ks.min())),a=tu().add(s),u=new ou(ks.min(),new Map,new Ba(hs),o,a),[4,If(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),Mf(r),[3,4];case 2:return[4,$l(r.Sh,e,!1).then(function(){return Df(r,e,n)}).catch(tl)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function jf(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Xi.d)(this,function(s){switch(s.label){case 0:n=us(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Vl(n.Sh,e)];case 2:return i=s.sent(),Pf(n,r,null),kf(n,r),n.pl.Oa(r,"acknowledged"),[4,Uf(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,tl(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Af(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i;return Object(Xi.d)(this,function(s){switch(s.label){case 0:r=us(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=us(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return as(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=s.sent(),Pf(r,e,n),kf(r,e),r.pl.Oa(e,"rejected",n),[4,Uf(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,tl(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Nf(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Xi.d)(this,function(a){switch(a.label){case 0:Hh((n=us(t)).gl)||ns("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=us(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=oc(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function kf(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Pf(t,e,n){var r=us(t),i=r.Fl[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function Df(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach(function(e){t.Ol.ki(e)||Rf(t,e)})}function Rf(t,e){var n=t.xl.get(e);null!==n&&(Fh(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Mf(t))}function Lf(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof mf?(t.Ol.sr(s.key,e),Ff(t,s)):s instanceof gf?(ns("SyncEngine","Document no longer in limbo: "+s.key),t.Ol.rr(s.key,e),t.Ol.ki(s.key)||Rf(t,s.key)):os()}}function Ff(t,e){var n=e.key;t.xl.get(n)||(ns("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Mf(t))}function Mf(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new wf(e)),t.xl=t.xl.Ht(e,n),Lh(t.gl,new na(Jo(qo(e.path)),n,2,As.U))}}function Uf(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Xi.d)(this,function(a){switch(a.label){case 0:return r=us(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){o.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Rl.cc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Xi.d)(this,function(l){switch(l.label){case 0:n=us(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Wu.forEach(e,function(e){return Wu.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return Wu.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!tc(r=l.sent()))throw r;return ns("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}})})}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Vf(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return(n=us(t)).currentUser.isEqual(e)?[3,3]:(ns("SyncEngine","User change. New user:",e.R()),[4,Ul(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new ms(ys.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Uf(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function qf(t,e){var n=us(t),r=n.Nl.get(e);if(r&&r.yl)return tu().add(r.key);var i=tu(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function Hf(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return[4,Kl((n=us(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&Lf(n,e.targetId,i.ml),i)]}})})}function zf(t){return Object(Xi.b)(this,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){return[2,Wl((e=us(t)).Sh).then(function(t){return Uf(e,t)})]})})}function Bf(t,e,n,r){return Object(Xi.b)(this,void 0,void 0,function(){var i,s;return Object(Xi.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=us(t),r=us(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):Wu.resolve(null)})})}((i=us(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Wh(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Pf(i,e,r||null),kf(i,e),function(t,e){us(us(t).Ho).Ni(e)}(i.Sh,e)):os(),o.label=4;case 4:return[4,Uf(i,s)];case 5:return o.sent(),[3,7];case 6:ns("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Gf(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Xi.d)(this,function(c){switch(c.label){case 0:return Zf(n=us(t)),Yf(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,$f(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,nf(n.gl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Lh(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return Df(n,e),$l(n.Sh,e,!0)}),Fh(n.gl,e)}),[4,u]);case 4:return c.sent(),[4,$f(n,a)];case 5:return c.sent(),function(t){var e=us(t);e.Nl.forEach(function(t,n){Fh(e.gl,n)}),e.Ol.Mc(),e.Nl=new Map,e.xl=new qa(Fs.J)}(n),n.Ll=!1,[4,nf(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function $f(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Xi.d)(this,function(y){switch(y.label){case 0:n=us(t),r=[],i=[],s=0,o=e,y.label=1;case 1:return s<o.length?(u=void 0,(c=n.Dl.get(a=o[s]))&&0!==c.length?[4,Gl(n.Sh,Jo(c[0]))]:[3,7]):[3,13];case 2:u=y.sent(),l=0,h=c,y.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Hf(n,f)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Jl(n.Sh,a)];case 8:return p=y.sent(),[4,Gl(n.Sh,p)];case 9:return u=y.sent(),[4,Sf(n,Kf(p),a,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function Kf(t){return Vo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Jf(t){var e=us(t);return us(us(e.Sh).persistence).Qo()}function Wf(t,e,n,r){return Object(Xi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Xi.d)(this,function(a){switch(a.label){case 0:return(i=us(t)).Ll?(ns("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wl(i.Sh)];case 3:return s=a.sent(),o=ou.$e(e,"current"===n),[4,Uf(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,$l(i.Sh,e,!0)];case 6:return a.sent(),Df(i,e,r),[3,8];case 7:os(),a.label=8;case 8:return[2]}})})}function Qf(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Xi.d)(this,function(f){switch(f.label){case 0:if(!(r=Zf(t)).Ll)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(ns("SyncEngine","Adding an already active target "+o),[3,5]):[4,Jl(r.Sh,o)]:[3,6];case 2:return a=f.sent(),[4,Gl(r.Sh,a)];case 3:return u=f.sent(),[4,Sf(r,Kf(a),u.targetId,!1)];case 4:f.sent(),Lh(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,$l(r.Sh,t,!1).then(function(){Fh(r.gl,t),Df(r,t)}).catch(tl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Zf(t){var e=us(t);return e.gl.Ch.Bh=If.bind(null,e),e.gl.Ch.Sn=qf.bind(null,e),e.gl.Ch.$h=Cf.bind(null,e),e.vl.uh=lf.bind(null,e.Vl),e.vl.ql=hf.bind(null,e.Vl),e}function Yf(t){var e=us(t);return e.gl.Ch.qh=jf.bind(null,e),e.gl.Ch.Uh=Af.bind(null,e),e}var Xf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return this.Kt=Ih(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Ml(this.persistence,new Ll,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new oh(uh.ra,this.Kt)},t.prototype.Wl=function(t){return new vh},t.prototype.terminate=function(){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),td=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Xi.c)(e,t),e.prototype.initialize=function(e){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ql(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Yf(this.Xl.fa)];case 4:return n.sent(),[4,Wh(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Ml(this.persistence,new Ll,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new gl(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=kl(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Xc.Xs(this.cacheSizeBytes):Xc.ei;return new jl(this.synchronizeTabs,e,t.clientId,n,t.fs,Oh(),Th(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new vh},e}(Xf),ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Xi.c)(e,t),e.prototype.initialize=function(e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r=this;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof gh?(this.pl.fa={nu:Bf.bind(null,n),su:Wf.bind(null,n),iu:Qf.bind(null,n),Qo:Jf.bind(null,n),eu:zf.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(Xi.b)(r,void 0,void 0,function(){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return[4,Gf(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Oh();if(!gh.jn(e))throw new ms(ys.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kl(t.gu.T,t.gu.persistenceKey);return new gh(e,t.fs,n,t.clientId,t.Yl)},e}(td),nd=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n=this;return Object(Xi.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return xf(n.fa,t,1)},this.gl.Ch.s_=Vf.bind(null,this.fa),[4,nf(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new af},t.prototype.Zl=function(t){var e=Ih(t.gu.T),n=new Sh(t.gu);return function(t,e,n){return new Nh(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return xf(o.fa,t,0)},s=wh.jn()?new wh:new bh,new Ph(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new _f(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Xi.b)(this,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return e=us(t),ns("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,Rh(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),rd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),id=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Ju,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new pf(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t,e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(Xi.b)(this,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t,e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ms(ys.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Ls(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),sd=function(t){this._methodName=t};function od(t,e,n){if(!n)throw new ms(ys.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ad(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ms(ys.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ud(t,e,n,r){if(!0===e&&!0===r)throw new ms(ys.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function cd(t){if(!Fs.Et(t))throw new ms(ys.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ld(t){if(Fs.Et(t))throw new ms(ys.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function hd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":os()}function fd(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new ms(ys.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hd(t);throw new ms(ys.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function dd(t,e){if(e<=0)throw new ms(ys.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var pd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ms(ys.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ms(ys.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ud("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),yd=new Map,md=function(){function t(t,e){this.w_="(lite)",this.E_=new pd({}),this.T_=!1,t instanceof Ss?(this.I_=t,this.m_=new Is):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ms(ys.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(t.options.projectId)}(t),this.m_=new xs(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new ms(ys.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new ms(ys.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new pd(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Is;switch(t.type){case"gapi":var e=t.client;return as(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new js(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ms(ys.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=yd.get(this))&&(ns("ComponentProvider","Removing Datastore"),yd.delete(this),t.terminate()),Promise.resolve();var t},t}(),gd=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new bd(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),vd=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),bd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,qo(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Xi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new gd(this.firestore,null,new Fs(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(vd);function wd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof vs&&(t=t._),od("collection","path",e),t instanceof md)return ld(n=Ds.ct.apply(Ds,Object(Xi.g)([e],r))),new bd(t,null,n);if(!(t instanceof gd||t instanceof bd))throw new ms(ys.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ld(n=Ds.ct.apply(Ds,Object(Xi.g)([t.path],r)).child(Ds.ct(e))),new bd(t.firestore,null,n)}function _d(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof vs&&(t=t._),1===arguments.length&&(e=ls.t()),od("doc","path",e),t instanceof md)return cd(n=Ds.ct.apply(Ds,Object(Xi.g)([e],r))),new gd(t,null,new Fs(n));if(!(t instanceof gd||t instanceof bd))throw new ms(ys.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cd(n=t.D_.child(Ds.ct.apply(Ds,Object(Xi.g)([e],r)))),new gd(t.firestore,t instanceof bd?t.v_:null,new Fs(n))}function Ed(t,e){return t instanceof vs&&(t=t._),e instanceof vs&&(e=e._),(t instanceof gd||t instanceof bd)&&(e instanceof gd||e instanceof bd)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Sd(t,e){return t instanceof vs&&(t=t._),e instanceof vs&&(e=e._),t instanceof vd&&e instanceof vd&&t.firestore===e.firestore&&Qo(t.C_,e.C_)&&t.v_===e.v_}var Od=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ms(ys.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ms(ys.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return hs(this.x_,t.x_)||hs(this.N_,t.N_)},t}(),Td=/^__.*__$/,Id=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new ja(t,this.data,this.zt,e,this.fieldTransforms):new Ca(t,this.data,e,this.fieldTransforms)},t}(),xd=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new ja(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Cd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw os()}}var jd=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Wd(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Cd(this.k_)&&Td.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Ad=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Ih(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new jd({k_:t,methodName:e,W_:n,path:Ls.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Nd(t){var e=t.p_(),n=Ih(t.I_);return new Ad(t.I_,!!e.ignoreUndefinedProperties,n)}function kd(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);Gd("Data must be an object, but it was:",o,r);var a,u,c=zd(r,o);if(s.merge)a=new qs(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=$d(e,f[h],n);if(!o.contains(d))throw new ms(ys.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Qd(l,d)||l.push(d)}a=new qs(l),u=o.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=o.fieldTransforms;return new Id(new ho(c),a,u)}var Pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(sd);function Dd(t,e,n){return new jd({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var Rd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.prototype.z_=function(t){return new va(t.path,new la)},e.prototype.isEqual=function(t){return t instanceof e},e}(sd),Ld=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Xi.c)(e,t),e.prototype.z_=function(t){var e=Dd(this,t,!0),n=this.H_.map(function(t){return Hd(t,e)}),r=new ha(n);return new va(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(sd),Fd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Xi.c)(e,t),e.prototype.z_=function(t){var e=Dd(this,t,!0),n=this.H_.map(function(t){return Hd(t,e)}),r=new da(n);return new va(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(sd),Md=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Xi.c)(e,t),e.prototype.z_=function(t){var e=new ya(t.Kt,sa(t.Kt,this.J_));return new va(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(sd);function Ud(t,e,n,r){var i=t.G_(1,e,n);Gd("Data must be an object, but it was:",i,r);var s=[],o=new fo;Us(r,function(t,r){var a=Jd(e,t,n);r instanceof vs&&(r=r._);var u=i.U_(a);if(r instanceof Pd)s.push(a);else{var c=Hd(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new qs(s);return new xd(o.yt(),a,i.fieldTransforms)}function Vd(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[$d(e,r,n)],u=[i];if(s.length%2!=0)throw new ms(ys.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push($d(e,s[c])),u.push(s[c+1]);for(var l=[],h=new fo,f=a.length-1;f>=0;--f)if(!Qd(l,a[f])){var d=a[f],p=u[f];p instanceof vs&&(p=p._);var y=o.U_(d);if(p instanceof Pd)l.push(d);else{var m=Hd(p,y);null!=m&&(l.push(d),h.set(d,m))}}var g=new qs(l);return new xd(h.yt(),g,o.fieldTransforms)}function qd(t,e,n,r){return void 0===r&&(r=!1),Hd(n,t.G_(r?4:3,e))}function Hd(t,e){if(t instanceof vs&&(t=t._),Bd(t))return Gd("Unsupported field value:",e,t),zd(t,e);if(t instanceof sd)return function(t,e){if(!Cd(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Hd(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof vs&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sa(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ns.fromDate(t);return{timestampValue:vu(e.Kt,n)}}if(t instanceof Ns)return n=new Ns(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:vu(e.Kt,n)};if(t instanceof Od)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gs)return{bytesValue:bu(e.Kt,t.l)};if(t instanceof gd){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Eu(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+hd(t))}(t,e)}function zd(t,e){var n={};return Vs(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Us(t,function(t,r){var i=Hd(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Bd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ns||t instanceof Od||t instanceof gs||t instanceof gd||t instanceof sd)}function Gd(t,e,n){if(!Bd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=hd(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function $d(t,e,n){if(e instanceof vs&&(e=e._),e instanceof id)return e.d_;if("string"==typeof e)return Jd(t,e);throw Wd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Kd=new RegExp("[~\\*/\\[\\]]");function Jd(t,e,n){if(e.search(Kd)>=0)throw Wd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(id.bind.apply(id,Object(Xi.g)([void 0],e.split("."))))).d_}catch(r){throw Wd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Wd(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new ms(ys.INVALID_ARGUMENT,(a+=". ")+t+u)}function Qd(t,e){return t.some(function(t){return t.isEqual(e)})}var Zd=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Xi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Xi.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new ms(ys.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Xi.d)(this,function(u){switch(u.label){case 0:return n=us(t),r=Cu(n.Kt)+"/documents",i={documents:e.map(function(t){return Ou(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){as(!!e.found);var n=Tu(t,e.found.name),r=_u(e.found.updateTime),i=new ho({mapValue:{fields:e.found.fields}});return new mo(n,r,i,{})}(t,e):"missing"in e?function(t,e){as(!!e.missing),as(!!e.readTime);var n=Tu(t,e.missing),r=_u(e.readTime);return new go(n,r)}(t,e):os()}(n.Kt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());as(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof go||t instanceof mo?n.sf(t):os()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new La(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Xi.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Fs.ft(n);e.mutations.push(new Fa(r,e.Gt(r)))}),[4,function(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return n=us(t),r=Cu(n.Kt)+"/documents",i={writes:e.map(function(t){return ku(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof mo)e=t.version;else{if(!(t instanceof go))throw os();e=ks.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ms(ys.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?wa.updateTime(e):wa.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ks.min()))throw new ms(ys.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wa.updateTime(e)}return wa.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Yd=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new xh(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(Xi.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Xi.d)(this,function(r){return t=new Zd(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Ws(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ua(e)}return!1},t}(),Xd=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Os.UNAUTHENTICATED,this.clientId=ls.t(),this._f=function(){},this.N=new Ju,this.credentials.S(function(t){ns("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new ms(ys.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Ju;return this.fs.Tf(function(){return Object(Xi.b)(t,void 0,void 0,function(){var t,n;return Object(Xi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=oc(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function tp(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return t.fs.Af(),ns("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(Xi.b)(i,void 0,void 0,function(){return Object(Xi.d)(this,function(t){switch(t.label){case 0:return[4,Ul(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function ep(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,np(t)];case 1:return n=i.sent(),ns("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(Xi.b)(this,void 0,void 0,function(){var n,r;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return(n=us(t)).fs.Af(),ns("RemoteStore","RemoteStore received new credentials"),r=Hh(n),n.Oh.add(3),[4,Rh(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,Dh(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function np(t){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(ns("FirestoreClient","Using default OfflineComponentProvider"),[4,tp(t,new Xf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function rp(t){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(ns("FirestoreClient","Using default OnlineComponentProvider"),[4,ep(t,new nd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function ip(t){return np(t).then(function(t){return t.persistence})}function sp(t){return np(t).then(function(t){return t.Sh})}function op(t){return rp(t).then(function(t){return t.gl})}function ap(t){return rp(t).then(function(t){return t.fa})}function up(t){return Object(Xi.b)(this,void 0,void 0,function(){var e,n;return Object(Xi.d)(this,function(r){switch(r.label){case 0:return[4,rp(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Ef.bind(null,e.fa),n.Jh=Of.bind(null,e.fa),n)]}})})}function cp(t,e,n){var r=this;void 0===n&&(n={});var i=new Ju;return t.fs.ys(function(){return Object(Xi.b)(r,void 0,void 0,function(){var r;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new rd({next:function(s){e.ys(function(){return cf(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new ms(ys.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ms(ys.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new df(qo(n.path),s,{includeMetadataChanges:!0,sl:!0});return uf(t,o)},[4,up(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}function lp(t,e,n){var r=this;void 0===n&&(n={});var i=new Ju;return t.fs.ys(function(){return Object(Xi.b)(r,void 0,void 0,function(){var r;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new rd({next:function(n){e.ys(function(){return cf(t,o)}),n.fromCache&&"server"===r.source?i.reject(new ms(ys.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new df(n,s,{includeMetadataChanges:!0,sl:!0});return uf(t,o)},[4,up(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}var hp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new xh(this,"async_queue_retry"),this.vf=function(){var e=Th();e&&ns("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Th();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Th();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Xi.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!tc(t=n.sent()))throw t;return ns("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,rs("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=sc.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&os()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Xi.b)(this,void 0,void 0,function(){var t;return Object(Xi.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),fp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new hp,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Xi.c)(e,t),e.prototype.b_=function(){return this.Lf||pp(this),this.Lf.terminate()},e}(md);function dp(t){return t.Lf||pp(t),t.Lf.df(),t.Lf}function pp(t){var e=t.p_(),n=function(t,e,n){return new Es(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Xd(t.m_,t.Mf,n)}function yp(t,e,n){var r=this,i=new Ju;return t.fs.enqueue(function(){return Object(Xi.b)(r,void 0,void 0,function(){var r;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,tp(t,n)];case 1:return s.sent(),[4,ep(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ys.FAILED_PRECONDITION||t.code===ys.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function mp(t){if(t.R_||t.P_)throw new ms(ys.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gp=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bs(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Gs(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw os()}},t.prototype.Wf=function(t,e){var n=this,r={};return Us(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Od(Bs(t.latitude),Bs(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Ks(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Js(t));default:return null}},t.prototype.Bf=function(t){var e=zs(t);return new Ns(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Ds.ct(t);as(Ku(n));var r=new Ss(n.get(1),n.get(3)),i=new Fs(n.X(5));return r.isEqual(e)||rs("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),vp=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new gd(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new bp(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(wp("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(vp);function wp(t,e){return"string"==typeof e?Jd(t,e):e instanceof vs?e._.d_:e.d_}function _p(t){if(zo(t)&&0===t.Nt.length)throw new ms(ys.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ep=function(){};function Sp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var Op=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Xi.c)(e,t),e.prototype.Yf=function(t){var e=Nd(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new ms(ys.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Np(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Ap(r,t,l[c]));a={arrayValue:{values:u}}}else a=Ap(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Np(o,s),a=qd(n,"where",o,"in"===s||"not-in"===s);var h=Oo.create(i,s,a);return function(t,e){if(e.xt()){var n=Go(t);if(null!==n&&!n.isEqual(e.field))throw new ms(ys.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Bo(t);null!==r&&kp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ms(ys.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new vd(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Ep),Tp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Xi.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ms(ys.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ms(ys.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ro(e,n);return function(t,e){if(null===Bo(t)){var n=Go(t);null!==n&&kp(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new vd(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Uo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Ep),Ip=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Xi.c)(e,t),e.prototype.Yf=function(t){return new vd(t.firestore,t.v_,Wo(t.C_,this.nd,this.sd))},e}(Ep),xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Xi.c)(e,t),e.prototype.Yf=function(t){var e=jp(t,this.type,this.rd,this.od);return new vd(t.firestore,t.v_,function(t,e){return new Uo(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Ep),Cp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Xi.c)(e,t),e.prototype.Yf=function(t){var e=jp(t,this.type,this.rd,this.od);return new vd(t.firestore,t.v_,function(t,e){return new Uo(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Ep);function jp(t,e,n,r){if(n[0]instanceof vs&&(n[0]=n[0]._),n[0]instanceof vp)return function(t,e,n,r,i){if(!r)throw new ms(ys.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Ko(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(so(e,r.key));else{var c=r.field(u.field);if($s(c))throw new ms(ys.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new ms(ys.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Po(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Nd(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new ms(ys.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ht()){if("string"!=typeof c)throw new ms(ys.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!$o(t)&&-1!==c.indexOf("/"))throw new ms(ys.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ds.ct(c));if(!Fs.Et(l))throw new ms(ys.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Fs(l);a.push(so(e,h))}else{var f=qd(n,r,c);a.push(f)}}return new Po(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function Ap(t,e,n){if(n instanceof vs&&(n=n._),"string"==typeof n){if(""===n)throw new ms(ys.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$o(e)&&-1!==n.indexOf("/"))throw new ms(ys.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ds.ct(n));if(!Fs.Et(r))throw new ms(ys.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return so(t,new Fs(r))}if(n instanceof gd)return so(t,n.S_);throw new ms(ys.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hd(n)+".")}function Np(t,e){if(!Array.isArray(t)||0===t.length)throw new ms(ys.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ms(ys.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function kp(t,e,n){if(!n.isEqual(e))throw new ms(ys.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Pp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function Dp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Rp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Xi.c)(e,t),e.prototype.Uf=function(t){return new gs(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new gd(this.firestore,null,e)},e}(gp),Lp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Fp=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(Xi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Mp(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(wp("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(vp),Mp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Fp),Up=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new Lp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new Mp(n.zf,n.Hf,r.key,r,new Lp(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new ms(ys.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new Mp(t.zf,t.Hf,e.doc.key,e.doc,new Lp(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Mp(t.zf,t.Hf,e.doc.key,e.doc,new Lp(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Vp(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function Vp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return os()}}function qp(t,e){return t instanceof Fp&&e instanceof Fp?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Up&&e instanceof Up&&t.zf===e.zf&&Sd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Hp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Xi.c)(e,t),e.prototype.Uf=function(t){return new gs(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new gd(this.firestore,null,e)},e}(gp);function zp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=fd(t,gd);var s=fd(t.firestore,fp),o=Nd(s);return e instanceof vs&&(e=e._),Gp(s,[("string"==typeof e||e instanceof id?Vd(o,"updateDoc",t.S_,e,n,r):Ud(o,"updateDoc",t.S_,e)).O_(t.S_,wa.exists(!0))])}function Bp(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof vs&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Pp(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Pp(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof gd)c=fd(t.firestore,fp),l=qo(t.S_.path),u={next:function(e){i[a]&&i[a]($p(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=fd(t,vd);c=fd(d.firestore,fp),l=d.C_;var p=new Hp(c);u={next:function(t){i[a]&&i[a](new Up(c,p,d,t))},error:i[a+1],complete:i[a+2]},_p(t.C_)}return function(t,e,n,r){var i=this,s=new rd(r),o=new df(e,s,n);return t.fs.ys(function(){return Object(Xi.b)(i,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return e=uf,[4,up(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.fs.ys(function(){return Object(Xi.b)(i,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return e=cf,[4,up(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(dp(c),l,h,u)}function Gp(t,e){return function(t,e){var n=this,r=new Ju;return t.fs.ys(function(){return Object(Xi.b)(n,void 0,void 0,function(){var n;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return n=Tf,[4,ap(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(dp(t),e)}function $p(t,e,n){var r=n.docs.get(e.S_),i=new Hp(t);return new Fp(t,i,e.S_,r,new Lp(n.hasPendingWrites,n.fromCache),e.v_)}var Kp=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Nd(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Jp(t,this.zf),i=Dp(r.v_,e,n),s=kd(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.O_(r.S_,wa.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=Jp(t,this.zf);return e instanceof vs&&(e=e._),s="string"==typeof e||e instanceof id?Vd(this.wd,"WriteBatch.update",o.S_,e,n,r):Ud(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.O_(o.S_,wa.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Jp(t,this.zf);return this.fd=this.fd.concat(new La(e.S_,wa.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new ms(ys.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Jp(t,e){if(t instanceof vs&&(t=t._),t.firestore!==e)throw new ms(ys.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Wp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Xi.c)(e,t),e.prototype.get=function(e){var n=this,r=Jp(e,this.zf),i=new Hp(this.zf);return t.prototype.get.call(this,e).then(function(t){return new Fp(n.zf,i,r.S_,t.Jf,new Lp(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Nd(t)}return t.prototype.get=function(t){var e=this,n=Jp(t,this.zf),r=new Rp(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return os();var i=t[0];if(i instanceof go)return new vp(e.zf,r,n.S_,null,n.v_);if(i instanceof mo)return new vp(e.zf,r,i.key,i,n.v_);throw os()})},t.prototype.set=function(t,e,n){var r=Jp(t,this.zf),i=Dp(r.v_,e,n),s=kd(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Jp(t,this.zf);return e instanceof vs&&(e=e._),s="string"==typeof e||e instanceof id?Vd(this.wd,"Transaction.update",o.S_,e,n,r):Ud(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=Jp(t,this.zf);return this.Td.delete(e.S_),this},t}()),Qp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){mp(t=fd(t,fp));var n=dp(t),r=t.p_(),i=new nd;return yp(n,i,new td(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){mp(t=fd(t,fp));var e=dp(t),n=t.p_(),r=new nd;return yp(e,r,new ed(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new ms(ys.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ju;return t.Mf.Tf(function(){return Object(Xi.b)(e,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Xi.b)(this,void 0,void 0,function(){return Object(Xi.d)(this,function(e){switch(e.label){case 0:return Zu.jn()?[4,Zu.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(kl(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),Zp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Ss||(i.md=e),i}return Object(Xi.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=fd(t,md)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&is("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Xi.b)(e,void 0,void 0,function(){var e,n;return Object(Xi.d)(this,function(r){switch(r.label){case 0:return[4,ip(t)];case 1:return e=r.sent(),[4,op(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=us(t);return e.Oh.delete(0),Dh(e)}(n))]}})})})}(dp(fd(this._,fp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Xi.b)(e,void 0,void 0,function(){var e,n;return Object(Xi.d)(this,function(r){switch(r.label){case 0:return[4,ip(t)];case 1:return e=r.sent(),[4,op(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Xi.b)(this,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return(e=us(t)).Oh.add(0),[4,Rh(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(dp(fd(this._,fp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ud("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ju;return t.fs.ys(function(){return Object(Xi.b)(e,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(r){switch(r.label){case 0:return e=Nf,[4,ap(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(dp(fd(this._,fp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new rd(e);return t.fs.ys(function(){return Object(Xi.b)(n,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){us(t).Wh.add(e),e.next()},[4,up(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(Xi.b)(n,void 0,void 0,function(){var e;return Object(Xi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){us(t).Wh.delete(e)},[4,up(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(dp(t=fd(t,fp)),Pp(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new ms(ys.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ly(this,wd(this._,t))}catch(t){throw ny(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ey(this,_d(this._,t))}catch(t){throw ny(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ay(this,function(t,e){if(t=fd(t,md),od("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ms(ys.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new vd(t,null,function(t){return new Uo(Ds.at(),t)}(e))}(this._,t))}catch(t){throw ny(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ju;return t.fs.ys(function(){return Object(Xi.b)(n,void 0,void 0,function(){var n;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return rp(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new Yd(t.fs,n,e,r).run(),[2]}})})}),r.promise}(dp(t),function(n){return e(new Wp(t,n))})}(this._,function(n){return t(new Xp(e,n))})},e.prototype.batch=function(){var t=this;return dp(this._),new ty(new Kp(this._,function(e){return Gp(t._,e)}))},e.prototype.loadBundle=function(t){throw new ms(ys.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ms(ys.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(vs),Yp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Xi.c)(e,t),e.prototype.Uf=function(t){return new _s(new gs(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return ey.Ad(e,this.firestore,null)},e}(gp),Xp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new Yp(e),r}return Object(Xi.c)(e,t),e.prototype.get=function(t){var e=this,n=hy(t);return this._.get(n).then(function(t){return new sy(e.zf,new Fp(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=hy(t);return n?(ad("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=hy(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Xi.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=hy(t);return this._.delete(e),this},e}(vs),ty=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.prototype.set=function(t,e,n){var r=hy(t);return n?(ad("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=hy(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Xi.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=hy(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(vs),ey=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Yp(e),r}return Object(Xi.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new ms(ys.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new gd(n._,r,new Fs(t)))},e.Ad=function(t,n,r){return new e(n,new gd(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ly(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ly(this.firestore,wd(this._,t))}catch(t){throw ny(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof vs&&(t=t._),t instanceof gd&&Ed(this._,t)},e.prototype.set=function(t,e){e=ad("DocumentReference.set",e);try{return function(t,e,n){t=fd(t,gd);var r=fd(t.firestore,fp),i=Dp(t.v_,e,n);return Gp(r,[kd(Nd(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,wa.jt())])}(this._,t,e)}catch(t){throw ny(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?zp(this._,t):zp.apply(void 0,Object(Xi.g)([this._,t,e],n))}catch(t){throw ny(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Gp(fd((t=this._).firestore,fp),[new La(t.S_,wa.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ry(e),i=iy(e,function(e){return new sy(t.firestore,new Fp(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return Bp(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=fd(t,gd);var e=fd(t.firestore,fp),n=dp(e),r=new Hp(e);return function(t,e){var n=this,r=new Ju;return t.fs.ys(function(){return Object(Xi.b)(n,void 0,void 0,function(){var n;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i;return Object(Xi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=us(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof mo?n.resolve(i):i instanceof go?n.resolve(null):n.reject(new ms(ys.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=oc(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,sp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Fp(e,r,t.S_,n,new Lp(n instanceof mo&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=fd(t,gd);var e=fd(t.firestore,fp);return cp(dp(e),t.S_,{source:"server"}).then(function(n){return $p(e,t,n)})}(this._):function(t){t=fd(t,gd);var e=fd(t.firestore,fp);return cp(dp(e),t.S_).then(function(n){return $p(e,t,n)})}(this._)).then(function(t){return new sy(e.firestore,new Fp(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(vs);function ny(t,e,n){return t.message=t.message.replace(e,n),t}function ry(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Pp(r))return r}return{}}function iy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Pp(t[0])?t[0]:Pp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Xi.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ey(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return qp(this._,t._)},e}(vs),oy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(sy),ay=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Yp(e),r}return Object(Xi.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Sp(this._,function(t,e,n){var r=e,i=wp("where",t);return new Op(i,r,n)}(t,n,r)))}catch(t){throw ny(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Sp(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=wp("orderBy",t);return new Tp(r,n)}(t,n)))}catch(t){throw ny(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Sp(this._,function(t){return dd("limit",t),new Ip("limit",t,"F")}(t)))}catch(t){throw ny(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Sp(this._,function(t){return dd("limitToLast",t),new Ip("limitToLast",t,"L")}(t)))}catch(t){throw ny(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Sp(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xp("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw ny(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Sp(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xp("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw ny(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Sp(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cp("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw ny(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Sp(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cp("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw ny(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Sd(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=fd(t,vd);var e=fd(t.firestore,fp),n=dp(e),r=new Hp(e);return function(t,e){var n=this,r=new Ju;return t.fs.ys(function(){return Object(Xi.b)(n,void 0,void 0,function(){var n;return Object(Xi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Xi.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Xi.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Kl(t,e,!0)];case 1:return a=u.sent(),r=new vf(e,a.Pc),i=r.dl(a.documents),s=r.Ei(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=oc(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,sp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Up(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=fd(t,vd);var e=fd(t.firestore,fp),n=dp(e),r=new Hp(e);return lp(n,t.C_,{source:"server"}).then(function(n){return new Up(e,r,t,n)})}(this._):function(t){t=fd(t,vd);var e=fd(t.firestore,fp),n=dp(e),r=new Hp(e);return _p(t.C_),lp(n,t.C_).then(function(n){return new Up(e,r,t,n)})}(this._)).then(function(t){return new cy(e.firestore,new Up(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ry(e),i=iy(e,function(e){return new cy(t.firestore,new Up(t.firestore._,t.Hf,t._,e.ud))});return Bp(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(vs),uy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Xi.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new oy(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(vs),cy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Xi.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new ay(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new oy(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new uy(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new oy(n.zf,r))})},e.prototype.isEqual=function(t){return qp(this._,t._)},e}(vs),ly=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Xi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new ey(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ey(this.firestore,void 0===t?_d(this._):_d(this._,t))}catch(t){throw ny(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=fd(t.firestore,fp),r=_d(t),i=Dp(t.v_,e);return Gp(n,[kd(Nd(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,wa.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new ey(e.firestore,t)})},e.prototype.isEqual=function(t){return Ed(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(ay);function hy(t){return t instanceof vs&&(t=t._),fd(t,gd)}var fy=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(id.bind.apply(id,Object(Xi.g)([void 0],e))))||this}return Object(Xi.c)(e,t),e.documentId=function(){return new e(Ls.lt().ot())},e.prototype.isEqual=function(t){return t instanceof vs&&(t=t._),t instanceof id&&this._.d_.isEqual(t.d_)},e}(vs),dy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xi.c)(e,t),e.serverTimestamp=function(){var t=new Rd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Pd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ld("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fd("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Md("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(vs);!function(){function t(){this.Pd={},this.yd=new Ju,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var py,yy=n("/6Yf"),my={Firestore:Zp,GeoPoint:Od,Timestamp:Ns,Blob:_s,Transaction:Xp,WriteBatch:ty,DocumentReference:ey,DocumentSnapshot:sy,Query:ay,QueryDocumentSnapshot:oy,QuerySnapshot:cy,CollectionReference:ly,FieldPath:fy,FieldValue:dy,setLogLevel:function(t){ts.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new yy.a("firestore",function(t){return function(t,e){return new Zp(t,new fp(t,e),new Qp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},my)))})(py=Jt.a),py.registerVersion("@firebase/firestore","2.1.2");var gy=n("XNiG"),vy=n("VRyK"),by=n("l7GE"),wy=n("51Dv"),_y=n("ZUHj");function Ey(t,e){return"function"==typeof e?n=>n.pipe(Ey((n,r)=>Object(kt.a)(t(n,r)).pipe(Object(d.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Sy(t))}class Sy{constructor(t){this.project=t}call(t,e){return e.subscribe(new Oy(t,this.project))}}class Oy extends by.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new wy.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(_y.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var Ty=n("qgXg"),Iy=n("quSY"),xy=n("9ppp"),Cy=n("Ylt2");class jy extends gy.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Ay(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new xy.a;if(this.isStopped||this.hasError?s=Iy.a.EMPTY:(this.observers.push(t),s=new Cy.a(this,t)),r&&t.add(t=new $t.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Ty.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Ay{constructor(t,e){this.time=t,this.value=e}}function Ny(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){o++,i&&!a||(a=!1,i=new jy(t,e,r),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const ky=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Py=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Dy=n("EY2u");function Ry(t){return e=>0===t?Object(Dy.b)():e.lift(new Ly(t))}class Ly{constructor(t){if(this.total=t,this.total<0)throw new Py}call(t,e){return e.subscribe(new Fy(t,this.total))}}class Fy extends c.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function My(t=null){return e=>e.lift(new Uy(t))}class Uy{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Vy(t,this.defaultValue))}}class Vy extends c.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function qy(t=By){return e=>e.lift(new Hy(t))}class Hy{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new zy(t,this.errorFactory))}}class zy extends c.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(py){t=py}this.destination.error(t)}}}function By(){return new ky}var Gy=n("SpAZ");function $y(t,e){const n=arguments.length>=2;return r=>r.pipe(t?l((e,n)=>t(e,n,r)):Gy.a,Ry(1),n?My(e):qy(()=>new ky))}function Ky(t,e){return e?Ey(()=>t,e):Ey(()=>t)}var Jy=n("tf+s");const Wy=new r.q("angularfire2.auth.use-emulator"),Qy=new r.q("angularfire2.auth.settings"),Zy=new r.q("angularfire2.auth.tenant-id"),Yy=new r.q("angularfire2.auth.langugage-code"),Xy=new r.q("angularfire2.auth.use-device-language"),tm=new r.q("angularfire.auth.persistence");let em=(()=>{class t{constructor(t,e,r,i,a,u,c,h,f,p){const y=new At.d(i),m=Object(At.h)(y),g=new gy.a,v=Object(s.a)(void 0).pipe(Object($t.b)(y.outsideAngular),Ey(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(d.a)(()=>Object(At.g)(t,i,e)),Object(d.a)(t=>i.runOutsideAngular(()=>{const e=a,n=u;return Object(At.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),c&&(r.tenantId=c),r.languageCode=h,f&&r.useDeviceLanguage(),n&&(r.settings=n),p&&r.setPersistence(p),r},[e,c,h,f,n,p])})),Ny({bufferSize:1,refCount:!1}));if(J(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(s.a)(null);else{v.pipe($y()).subscribe();const t=v.pipe(Ey(t=>t.getRedirectResult().then(t=>t,()=>null)),m,Ny({bufferSize:1,refCount:!1})),e=t=>new o.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=v.pipe(Ey(t=>e(t.onAuthStateChanged.bind(t)))),r=v.pipe(Ey(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ky(n),Object(Jy.a)(y.outsideAngular),Object($t.b)(y.insideAngular)),this.user=t.pipe(Ky(r),Object(Jy.a)(y.outsideAngular),Object($t.b)(y.insideAngular)),this.idToken=this.user.pipe(Ey(t=>t?Object(kt.a)(t.getIdToken()):Object(s.a)(null))),this.idTokenResult=this.user.pipe(Ey(t=>t?Object(kt.a)(t.getIdTokenResult()):Object(s.a)(null))),this.credential=Object(vy.a)(t,g,this.authState.pipe(l(t=>!t))).pipe(Object(d.a)(t=>(null==t?void 0:t.user)?t:null),Object(Jy.a)(y.outsideAngular),Object($t.b)(y.insideAngular))}return Object(At.i)(this,v,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>g.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(At.c),r.Jb(At.b,8),r.Jb(r.B),r.Jb(r.z),r.Jb(Wy,8),r.Jb(Qy,8),r.Jb(Zy,8),r.Jb(Yy,8),r.Jb(Xy,8),r.Jb(tm,8))},t.\u0275prov=Object(r.Ab)({factory:function(){return new t(Object(r.Jb)(At.c),Object(r.Jb)(At.b,8),Object(r.Jb)(r.B),Object(r.Jb)(r.z),Object(r.Jb)(Wy,8),Object(r.Jb)(Qy,8),Object(r.Jb)(Zy,8),Object(r.Jb)(Yy,8),Object(r.Jb)(Xy,8),Object(r.Jb)(tm,8))},token:t,providedIn:"any"}),t})();function nm(t,e){return function(t,e=Nt.a){return new o.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function rm(t,e){return nm(t,e).pipe(Object(d.a)(t=>({payload:t,type:"query"})))}function im(t,e){return rm(t,e).pipe(Ft(void 0),Mt(),Object(d.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function sm(t,e,n){return im(t,n).pipe(qt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return om(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return om(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return om(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Bt(void 0,void 0)),Object(d.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function om(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function am(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(At.e)(em,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class um{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=im(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(d.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ft(void 0),Mt(),l(([t,e])=>e.length>0||!t),Object(d.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=am(t);return sm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return rm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(kt.a)(this.query.get(t)).pipe(Object($t.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new cm(this.ref.doc(t),this.afs)}}class cm{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ym(n,e);return new um(r,i,this.afs)}snapshotChanges(){return nm(this.ref,this.afs.schedulers.outsideAngular).pipe(Ft(void 0),Mt(),Object(d.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(d.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(kt.a)(this.ref.get(t)).pipe(Object($t.b)(this.afs.schedulers.insideAngular))}}class lm{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?im(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),l(t=>t.length>0),this.afs.keepUnstableUntilFirst):im(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=am(t);return sm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return rm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(kt.a)(this.query.get(t)).pipe(Object($t.b)(this.afs.schedulers.insideAngular))}}const hm=new r.q("angularfire2.enableFirestorePersistence"),fm=new r.q("angularfire2.firestore.persistenceSettings"),dm=new r.q("angularfire2.firestore.settings"),pm=new r.q("angularfire2.firestore.use-emulator");function ym(t,e=(t=>t)){return{query:e(t),ref:t}}let mm=(()=>{class t{constructor(t,e,n,r,i,o,a,u,c){this.schedulers=new At.d(o),this.keepUnstableUntilFirst=Object(At.h)(this.schedulers);const l=Object(At.g)(t,o,e);!Kt.a.auth&&c&&Object(At.j)();const h=u;[this.firestore,this.persistenceEnabled$]=Object(At.f)(l.name+".firestore","AngularFirestore",l,()=>{const t=o.runOutsideAngular(()=>l.firestore());if(r&&t.settings(r),h&&t.useEmulator(...h),n&&!J(i)){const e=()=>{try{return Object(kt.a)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(py){return"undefined"!=typeof console&&console.warn(py),Object(s.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(s.a)(!1)]},[r,h,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ym(n,e),s=this.schedulers.ngZone.run(()=>r);return new um(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new lm(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new cm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(At.c),r.Jb(At.b,8),r.Jb(hm,8),r.Jb(dm,8),r.Jb(r.B),r.Jb(r.z),r.Jb(fm,8),r.Jb(pm,8),r.Jb(Wy,8))},t.\u0275prov=Object(r.Ab)({factory:function(){return new t(Object(r.Jb)(At.c),Object(r.Jb)(At.b,8),Object(r.Jb)(hm,8),Object(r.Jb)(dm,8),Object(r.Jb)(r.B),Object(r.Jb)(r.z),Object(r.Jb)(fm,8),Object(r.Jb)(pm,8),Object(r.Jb)(Wy,8))},token:t,providedIn:"any"}),t})(),gm=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:hm,useValue:!0},{provide:fm,useValue:e}]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[mm]}),t})();class vm extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new vm,p||(p=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=wm||(wm=document.querySelector("base"),wm)?wm.getAttribute("href"):null;return null==e?null:(n=e,bm||(bm=document.createElement("a")),bm.setAttribute("href",n),"/"===bm.pathname.charAt(0)?bm.pathname:"/"+bm.pathname);var n}resetBaseElement(){wm=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return M(document.cookie,t)}}let bm,wm=null;const _m=new r.q("TRANSITION_ID"),Em=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=y();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[_m,m,r.r],multi:!0}];class Sm{static init(){Object(r.V)(new Sm)}addToWindow(t){r.mb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.mb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.mb.getAllAngularRootElements=()=>t.getAllRootElements(),r.mb.frameworkStabilizers||(r.mb.frameworkStabilizers=[]),r.mb.frameworkStabilizers.push(t=>{const e=r.mb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?y().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Om=new r.q("EventManagerPlugins");let Tm=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Om),r.Jb(r.z))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class Im{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=y().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let xm=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),Cm=(()=>{class t extends xm{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>y().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const jm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Am=/%COMP%/g;function Nm(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Nm(t,i,n):(i=i.replace(Am,t),n.push(i))}return n}function km(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pm=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Dm(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Rm(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new Lm(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Nm(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Tm),r.Jb(Cm),r.Jb(r.c))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class Dm{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(jm[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=jm[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=jm[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,km(n)):this.eventManager.addEventListener(t,e,km(n))}}class Rm extends Dm{constructor(t,e,n,r){super(t),this.component=n;const i=Nm(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Am,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Am,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Lm extends Dm{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Nm(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Fm=(()=>{class t extends Im{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Mm=["alt","control","meta","shift"],Um={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vm={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qm={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Hm=(()=>{class t extends Im{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>y().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Mm.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Vm.hasOwnProperty(e)&&(e=Vm[e]))}return Um[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Mm.forEach(r=>{r!=n&&(0,qm[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const zm=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){vm.makeCurrent(),Sm.init()},multi:!0},{provide:m,useFactory:function(){return Object(r.rb)(document),document},deps:[]}],Bm=Object(r.R)(r.U,"browser",zm),Gm=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Om,useClass:Fm,multi:!0,deps:[m,r.z,r.B]},{provide:Om,useClass:Hm,multi:!0,deps:[m]},[],{provide:Pm,useClass:Pm,deps:[Tm,Cm,r.c]},{provide:r.E,useExisting:Pm},{provide:xm,useExisting:Cm},{provide:Cm,useClass:Cm,deps:[m]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Tm,useClass:Tm,deps:[Om,r.z]},[]];let $m=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:_m,useExisting:r.c},Em]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(t,12))},providers:Gm,imports:[K,r.f]}),t})();"undefined"!=typeof window&&window;class Km{}const Jm="*";function Wm(t,e=null){return{type:2,steps:t,options:e}}function Qm(t){return{type:6,styles:t,offset:null}}function Zm(t){Promise.resolve(null).then(t)}class Ym{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Zm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Xm{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Zm(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function tg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function eg(t){switch(t.length){case 0:return new Ym;case 1:return t[0];default:return new Xm(t)}}function ng(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Jm:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function rg(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&ig(n,"start",t)));break;case"done":t.onDone(()=>r(n&&ig(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&ig(n,"destroy",t)))}}function ig(t,e,n){const r=n.totalTime,i=sg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function sg(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function og(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function ag(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let ug=(t,e)=>!1,cg=(t,e)=>!1,lg=(t,e,n)=>[];const hg=tg();(hg||"undefined"!=typeof Element)&&(ug=(t,e)=>t.contains(e),cg=(()=>{if(hg||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):cg}})(),lg=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let fg=null,dg=!1;function pg(t){fg||(fg=("undefined"!=typeof document?document.body:null)||{},dg=!!fg.style&&"WebkitAppearance"in fg.style);let e=!0;return fg.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in fg.style,!e&&dg)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in fg.style),e}const yg=cg,mg=ug,gg=lg;function vg(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let bg=(()=>{class t{validateStyleProperty(t){return pg(t)}matchesElement(t,e){return yg(t,e)}containsElement(t,e){return mg(t,e)}query(t,e,n){return gg(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Ym(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),wg=(()=>{class t{}return t.NOOP=new bg,t})();const _g="ng-enter",Eg="ng-leave",Sg="ng-trigger",Og=".ng-trigger",Tg="ng-animating",Ig=".ng-animating";function xg(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Cg(parseFloat(e[1]),e[2])}function Cg(t,e){switch(e){case"s":return 1e3*t;default:return t}}function jg(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Cg(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Cg(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Ag(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Ng(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Ag(t,n);return n}function kg(t,e,n){return n?e+":"+n+";":""}function Pg(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=kg(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=kg(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Dg(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Hg(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),tg()&&Pg(t))}function Rg(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Hg(e);t.style[n]=""}),tg()&&Pg(t))}function Lg(t){return Array.isArray(t)?1==t.length?t[0]:Wm(t):t}const Fg=new RegExp("{{\\s*(.+?)\\s*}}","g");function Mg(t){let e=[];if("string"==typeof t){let n;for(;n=Fg.exec(t);)e.push(n[1]);Fg.lastIndex=0}return e}function Ug(t,e,n){const r=t.toString(),i=r.replace(Fg,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Vg(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const qg=/-+([a-z0-9])/g;function Hg(t){return t.replace(qg,(...t)=>t[1].toUpperCase())}function zg(t,e){return 0===t||0===e}function Bg(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=$g(t,e)})}}return e}function Gg(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function $g(t,e){return window.getComputedStyle(t)[e]}const Kg="*";function Jg(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Zg(i,o)),"<"!=s[0]||i==Kg&&o==Kg||e.push(Zg(o,i))}(t,n,e)):n.push(t),n}const Wg=new Set(["true","1"]),Qg=new Set(["false","0"]);function Zg(t,e){const n=Wg.has(t)||Qg.has(t),r=Wg.has(e)||Qg.has(e);return(i,s)=>{let o=t==Kg||t==i,a=e==Kg||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Wg.has(t):Qg.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Wg.has(e):Qg.has(e)),o&&a}}const Yg=new RegExp("s*:selfs*,?","g");function Xg(t,e,n){return new tv(t).build(e,n)}class tv{constructor(t){this._driver=t}build(t,e){const n=new ev(e);return this._resetContextStyleTimingState(n),Gg(this,Lg(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(nv(t)){const e=t;Object.keys(e).forEach(t=>{Mg(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Vg(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Gg(this,Lg(t.animation),e);return{type:1,matchers:Jg(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:rv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Gg(this,t,e)),options:rv(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Gg(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:rv(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return iv(jg(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=iv(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||jg(r,e),iv(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Qm({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Qm(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Jm?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(nv(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Mg(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(nv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(nv(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Gg(this,Lg(t.animation),e),options:rv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:rv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:rv(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Yg,"")),[t=t.replace(/@\*/g,Og).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Ig),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,og(e.collectedStyles,e.currentQuerySelector,{});const o=Gg(this,Lg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:rv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:jg(t.timings,e.errors,!0);return{type:12,animation:Gg(this,Lg(t.animation),e),timings:n,options:null}}}class ev{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function nv(t){return!Array.isArray(t)&&"object"==typeof t}function rv(t){var e;return t?(t=Ag(t)).params&&(t.params=(e=t.params)?Ag(e):null):t={},t}function iv(t,e,n){return{duration:t,delay:e,easing:n}}function sv(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ov{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const av=new RegExp(":enter","g"),uv=new RegExp(":leave","g");function cv(t,e,n,r,i,s={},o={},a,u,c=[]){return(new lv).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class lv{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new ov;const l=new fv(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Gg(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[sv(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?xg(n.duration):null,s=null!=n.delay?xg(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Gg(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=hv);const t=xg(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Gg(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?xg(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Gg(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return jg(e.params?Ug(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?xg(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=hv);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Gg(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Gg(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const hv={};class fv{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new dv(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=xg(n.duration)),null!=n.delay&&(r.delay=xg(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ug(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new fv(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=hv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new pv(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(av,"."+this._enterClassName)).replace(uv,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class dv{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Jm,this._currentKeyframe[t]=Jm}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Jm})):Ng(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Ug(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Jm),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Ng(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Jm&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Vg(t.values()):[],s=e.size?Vg(e.values()):[];if(n){const t=r[0],e=Ag(t);t.offset=0,e.offset=1,r=[t,e]}return sv(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class pv extends dv{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Ng(t[0],!1);a.offset=0,i.push(a);const u=Ng(t[0],!1);u.offset=yv(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Ng(t[r],!1);o.offset=yv((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return sv(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function yv(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class mv{}class gv extends mv{normalizePropertyName(t,e){return Hg(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(vv[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const vv=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function bv(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const wv={};class _v{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||wv,f=this.buildStyles(n,o&&o.params||wv,l),d=a&&a.params||wv,p=this.buildStyles(r,d,l),y=new Set,m=new Map,g=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:cv(t,e,this.ast.animation,i,s,f,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return bv(e,this._triggerName,n,r,v,f,p,[],[],m,g,_,l);w.forEach(t=>{const n=t.element,r=og(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=og(g,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&y.add(n)});const E=Vg(y.values());return bv(e,this._triggerName,n,r,v,f,p,w,E,m,g,_)}}class Ev{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Ag(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Ug(s,r,e)),n[t]=s})}}),n}}class Sv{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Ev(t.style,t.options&&t.options.params||{})}),Ov(this.states,"true","1"),Ov(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new _v(t,e,this.states))}),this.fallbackTransition=new _v(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Ov(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Tv=new ov;class Iv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Xg(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=ng(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=cv(this._driver,e,i,_g,Eg,{},{},n,Tv,r),s.forEach(t=>{const e=og(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Jm)})});const a=eg(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=sg(e,"","","");return rg(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const xv="ng-animate-queued",Cv="ng-animate-disabled",jv=".ng-animate-disabled",Av=[],Nv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Pv{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Ag(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Dv="void",Rv=new Pv(Dv);class Lv{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,zv(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=og(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=og(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(zv(t,Sg),zv(t,"ng-trigger-"+e),a[e]=Rv),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Mv(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(zv(t,Sg),zv(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Pv(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Rv),u.value!==Dv&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Rg(t,n),Dg(t,r)})}return}const c=og(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(zv(t,xv),s.onStart(()=>{Bv(t,xv)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Og,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Dv,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&eg(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Rv,o=new Pv(Dv),a=new Mv(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Nv||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){zv(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=sg(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,rg(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Fv{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Lv(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Uv(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Uv(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),zv(t,Cv)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Bv(t,Cv))}removeNode(t,e,n,r){if(Uv(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Uv(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Og,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Ig,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return eg(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Nv,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,jv)&&this.markElementAsDisabled(t,!1),this.driver.query(t,jv,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)zv(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?eg(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new ov,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Hv(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=_g+p++;d.set(e,n),t.forEach(t=>zv(t,n))});const y=[],m=new Set,g=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(y.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):g.add(t))}const v=new Map,b=Hv(h,Array.from(m));b.forEach((t,e)=>{const n=Eg+p++;v.set(e,n),t.forEach(t=>zv(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Bv(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Bv(t,n))}),y.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>Rg(i,p.fromStyles)),e.onDestroy(()=>Dg(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Rg(i,p.fromStyles)),e.onDestroy(()=>Dg(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>og(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{og(E,e,[]).push(t),t.destroy()})});const O=y.filter(t=>Kv(t,a,u)),T=new Map;qv(T,this.driver,g,u,Jm).forEach(t=>{Kv(t,a,u)&&O.push(t)});const I=new Map;f.forEach((t,e)=>{qv(I,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=T.get(t),n=I.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const x=[],C=[],j={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Dg(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=j;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,I,T);if(s.setRealPlayer(n),t===j)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=eg(e)),r.push(s)}}else Rg(e,o.fromStyles),s.onDestroy(()=>Dg(e,o.toStyles)),C.push(s),c.has(e)&&r.push(s)}),C.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=eg(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<y.length;A++){const t=y[A],e=t.__ng_removed;if(Bv(t,Eg),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Ig,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Gv(this,t,r):this.processLeaveNode(t)}return y.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Dv;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=og(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Rg(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Ym(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return $v(t,e),e}((n.get(h)||Av).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),y=i.get(h),m=s.get(h),g=ng(0,this._normalizer,0,e.keyframes,y,m),v=this._buildPlayer(e,g,p);if(e.subTimeline&&r&&l.add(h),d){const e=new Mv(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{og(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>zv(t,Tg));const f=eg(h);return f.onDestroy(()=>{c.forEach(t=>Bv(t,Tg)),Dg(a,e.toStyles)}),l.forEach(t=>{og(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ym(t.duration,t.delay)}}class Mv{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ym,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>rg(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){og(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Uv(t){return t&&1===t.nodeType}function Vv(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function qv(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Vv(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=kv,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Vv(t,s[a++])),o}function Hv(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function zv(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Bv(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Gv(t,e,n){eg(n).onDone(()=>t.processLeaveNode(e))}function $v(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Xm?$v(r.players,e):e.push(r)}}function Kv(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Jv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Fv(t,e,n),this._timelineEngine=new Iv(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Xg(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Sv(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=ag(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=ag(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Wv(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Zv(e[0]),e.length>1&&(r=Zv(e[e.length-1]))):e&&(n=Zv(e)),n||r?new Qv(t,n,r):null}let Qv=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Dg(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dg(this._element,this._initialStyles),this._endStyles&&(Dg(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Rg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rg(this._element,this._endStyles),this._endStyles=null),Dg(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Zv(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Yv(i)&&(e=e||{},e[i]=t[i])}return e}function Yv(t){return"display"===t||"position"===t}const Xv="animation",tb="animationend";class eb{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=ab(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),ob(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),sb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){nb(this._element,this._name,"paused")}resume(){nb(this._element,this._name,"running")}setPosition(t){const e=rb(this._element,this._name);this._position=t*this._duration,ob(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),sb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=ab(t,"").split(","),r=ib(n,e);r>=0&&(n.splice(r,1),ob(t,"",n.join(",")))}(this._element,this._name))}}function nb(t,e,n){ob(t,"PlayState",n,rb(t,e))}function rb(t,e){const n=ab(t,"");return n.indexOf(",")>0?ib(n.split(","),e):ib([n],e)}function ib(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function sb(t,e,n){n?t.removeEventListener(tb,e):t.addEventListener(tb,e)}function ob(t,e,n,r){const i=Xv+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function ab(t,e){return t.style[Xv+e]}class ub{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new eb(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:$g(this.element,n))})}this.currentSnapshot=t}}class cb extends Ym{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=vg(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class lb{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return pg(t)}matchesElement(t,e){return yg(t,e)}containsElement(t,e){return mg(t,e)}query(t,e,n){return gg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>vg(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof ub),u={};zg(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Bg(t,e,u));if(0==n)return new cb(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Wv(t,e),d=new ub(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class hb{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:$g(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class fb{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(db().toString()),this._cssKeyframesDriver=new lb}validateStyleProperty(t){return pg(t)}matchesElement(t,e){return yg(t,e)}containsElement(t,e){return mg(t,e)}query(t,e,n){return gg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof hb);zg(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Wv(t,e=Bg(t,e=e.map(t=>Ng(t,!1)),u));return new hb(t,e,a,l)}}function db(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let pb=(()=>{class t extends Km{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Wm(t):t;return gb(this._renderer,null,e,"register",[n]),new yb(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(m))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class yb extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new mb(this._id,t,e||{},this._renderer)}}class mb{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return gb(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function gb(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const vb="@",bb="@.disabled";let wb=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new _b("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Eb(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(Jv),r.Jb(r.z))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();class _b{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==vb&&e==bb?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Eb extends _b{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==vb?"."==e.charAt(1)&&e==bb?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==vb){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=vb&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Sb=(()=>{class t extends Jv{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(m),r.Jb(wg),r.Jb(mv))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const Ob=[{provide:wg,useFactory:function(){return"function"==typeof db()?new fb:new lb}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Km,useClass:pb},{provide:mv,useFactory:function(){return new gv}},{provide:Jv,useClass:Sb},{provide:r.E,useFactory:function(t,e,n){return new wb(t,e,n)},deps:[Pm,Jv,r.z]}];let Tb=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:Ob,imports:[$m]}),t})();class Ib extends gy.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xy.a;return this._value}next(t){super.next(this._value=t)}}var xb=n("DH7j"),Cb=n("yCtX");const jb={};class Ab{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Nb(t,this.resultSelector))}}class Nb extends by.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(jb),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(_y.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===jb?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function kb(t){return new o.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(kt.a)(n):Object(Dy.b)()).subscribe(e)})}function Pb(t){return function(e){return 0===t?Object(Dy.b)():e.lift(new Db(t))}}class Db{constructor(t){if(this.total=t,this.total<0)throw new Py}call(t,e){return e.subscribe(new Rb(t,this.total))}}class Rb extends c.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Lb(t){return function(e){const n=new Fb(t),r=e.lift(n);return n.caught=r}}class Fb{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Mb(t,this.selector,this.caught))}}class Mb extends by.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new wy.a(this,void 0,void 0);this.add(r);const i=Object(_y.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}var Ub=n("vkgz");class Vb{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new qb(t,this.predicate,this.thisArg,this.source))}}class qb extends c.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}class Hb{constructor(t){this.callback=t}call(t,e){return e.subscribe(new zb(t,this.callback))}}class zb extends c.a{constructor(t,e){super(t),this.add(new Iy.a(e))}}class Bb{constructor(t,e){this.id=t,this.url=e}}class Gb extends Bb{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $b extends Bb{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kb extends Bb{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jb extends Bb{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wb extends Bb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qb extends Bb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zb extends Bb{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yb extends Bb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xb extends Bb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tw{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ew{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nw{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rw{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iw{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sw{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ow{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const aw="primary";class uw{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function cw(t){return new uw(t)}function lw(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function hw(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function fw(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!dw(t[i],e[i]))return!1;return!0}function dw(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function pw(t){return Array.prototype.concat.apply([],t)}function yw(t){return t.length>0?t[t.length-1]:null}function mw(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function gw(t){return Object(r.ob)(t)?t:Object(r.pb)(t)?Object(kt.a)(Promise.resolve(t)):Object(s.a)(t)}function vw(t,e,n){return n?function(t,e){return fw(t,e)}(t.queryParams,e.queryParams)&&bw(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dw(t[n],e[n]))}(t.queryParams,e.queryParams)&&ww(t.root,e.root)}function bw(t,e){if(!Tw(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!bw(t.children[n],e.children[n]))return!1}return!0}function ww(t,e){return _w(t,e,e.segments)}function _w(t,e,n){if(t.segments.length>n.length)return!!Tw(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Tw(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!ww(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Tw(t.segments,r)&&!!t.children.primary&&_w(t.children.primary,e,i)}}class Ew{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cw(this.queryParams)),this._queryParamMap}toString(){return jw.serialize(this)}}class Sw{constructor(t,e){this.segments=t,this.children=e,this.parent=null,mw(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Aw(this)}}class Ow{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=cw(this.parameters)),this._parameterMap}toString(){return Fw(this)}}function Tw(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Iw(t,e){let n=[];return mw(t.children,(t,r)=>{r===aw&&(n=n.concat(e(t,r)))}),mw(t.children,(t,r)=>{r!==aw&&(n=n.concat(e(t,r)))}),n}class xw{}class Cw{parse(t){const e=new Hw(t);return new Ew(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Nw(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Pw(e)}=${Pw(t)}`).join("&"):`${Pw(e)}=${Pw(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const jw=new Cw;function Aw(t){return t.segments.map(t=>Fw(t)).join("/")}function Nw(t,e){if(!t.hasChildren())return Aw(t);if(e){const e=t.children.primary?Nw(t.children.primary,!1):"",n=[];return mw(t.children,(t,e)=>{e!==aw&&n.push(`${e}:${Nw(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Iw(t,(e,n)=>n===aw?[Nw(t.children.primary,!1)]:[`${n}:${Nw(e,!1)}`]);return`${Aw(t)}/(${e.join("//")})`}}function kw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pw(t){return kw(t).replace(/%3B/gi,";")}function Dw(t){return kw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rw(t){return decodeURIComponent(t)}function Lw(t){return Rw(t.replace(/\+/g,"%20"))}function Fw(t){return`${Dw(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Dw(t)}=${Dw(e[t])}`).join("")}`;var e}const Mw=/^[^\/()?;=#]+/;function Uw(t){const e=t.match(Mw);return e?e[0]:""}const Vw=/^[^=?&#]+/,qw=/^[^?&#]+/;class Hw{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sw([],{}):new Sw([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Sw(t,e)),n}parseSegment(){const t=Uw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ow(Rw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Uw(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Uw(this.remaining);t&&(n=t,this.capture(n))}t[Rw(e)]=Rw(n)}parseQueryParam(t){const e=function(t){const e=t.match(Vw);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(qw);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Lw(e),i=Lw(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Uw(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=aw);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Sw([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class zw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Bw(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Bw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Gw(t,this._root).map(t=>t.value)}}function Bw(t,e){if(t===e.value)return e;for(const n of e.children){const e=Bw(t,n);if(e)return e}return null}function Gw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Gw(t,n);if(r.length)return r.unshift(e),r}return[]}class $w{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Kw(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Jw extends zw{constructor(t,e){super(t),this.snapshot=e,t_(this,t)}toString(){return this.snapshot.toString()}}function Ww(t,e){const n=function(t,e){const n=new Yw([],{},{},"",{},aw,e,null,t.root,-1,{});return new Xw("",new $w(n,[]))}(t,e),r=new Ib([new Ow("",{})]),i=new Ib({}),s=new Ib({}),o=new Ib({}),a=new Ib(""),u=new Qw(r,i,o,a,s,aw,e,n.root);return u.snapshot=n.root,new Jw(new $w(u,[]),n)}class Qw{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(d.a)(t=>cw(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(d.a)(t=>cw(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zw(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Yw{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cw(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cw(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xw extends zw{constructor(t,e){super(e),this.url=t,t_(this,e)}toString(){return e_(this._root)}}function t_(t,e){e.value._routerState=t,e.children.forEach(e=>t_(t,e))}function e_(t){const e=t.children.length>0?` { ${t.children.map(e_).join(", ")} } `:"";return`${t.value}${e}`}function n_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fw(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),fw(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fw(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),fw(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function r_(t,e){return fw(t.params,e.params)&&function(t,e){return Tw(t,e)&&t.every((t,n)=>fw(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||r_(t.parent,e.parent))}function i_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(r.value.snapshot,e.value))return i_(t,e,r);return i_(t,e)})}(t,e,n);return new $w(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return s_(e,t),t}{const n=new Qw(new Ib((r=e.value).url),new Ib(r.params),new Ib(r.queryParams),new Ib(r.fragment),new Ib(r.data),r.outlet,r.component,r),i=e.children.map(e=>i_(t,e));return new $w(n,i)}}var r}function s_(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)s_(t.children[n],e.children[n])}function o_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function a_(t,e,n,r,i){let s={};return r&&mw(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ew(n.root===t?e:u_(n.root,t,e),s,i)}function u_(t,e,n){const r={};return mw(t.children,(t,i)=>{r[i]=t===e?n:u_(t,e,n)}),new Sw(t.segments,r)}class c_{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&o_(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==yw(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class l_{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function h_(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function f_(t,e,n){if(t||(t=new Sw([],{})),0===t.segments.length&&t.hasChildren())return d_(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=h_(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!g_(o,a,e))return s;r+=2}else{if(!g_(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Sw(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Sw(t.segments.slice(r.pathIndex),t.children),d_(e,0,i)}return r.match&&0===i.length?new Sw(t.segments,{}):r.match&&!t.hasChildren()?p_(t,e,n):r.match?d_(t,0,i):p_(t,e,n)}function d_(t,e,n){if(0===n.length)return new Sw(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[aw]:t}}(n),i={};return mw(r,(n,r)=>{null!==n&&(i[r]=f_(t.children[r],e,n))}),mw(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Sw(t.segments,i)}}function p_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=y_(n[i].outlets);return new Sw(r,t)}if(0===i&&o_(n[0])){r.push(new Ow(t.segments[e].path,n[0])),i++;continue}const s=h_(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&o_(o)?(r.push(new Ow(s,m_(o))),i+=2):(r.push(new Ow(s,{})),i++)}return new Sw(r,{})}function y_(t){const e={};return mw(t,(t,n)=>{null!==t&&(e[n]=p_(new Sw([],{}),0,t))}),e}function m_(t){const e={};return mw(t,(t,n)=>e[n]=""+t),e}function g_(t,e,n){return t==n.path&&fw(e,n.parameters)}class v_{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),n_(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Kw(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),mw(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Kw(t),i=t.value.component?n.children:e;mw(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Kw(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new sw(t.value.snapshot))}),t.children.length&&this.forwardEvent(new rw(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(n_(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),b_(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function b_(t){n_(t.value),t.children.forEach(b_)}class w_{constructor(t,e){this.routes=t,this.module=e}}function __(t){return"function"==typeof t}function E_(t){return t instanceof Ew}class S_{constructor(t){this.segmentGroup=t||null}}class O_{constructor(t){this.urlTree=t}}function T_(t){return new o.a(e=>e.error(new S_(t)))}function I_(t){return new o.a(e=>e.error(new O_(t)))}function x_(t){return new o.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class C_{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,aw).pipe(Object(d.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lb(t=>{if(t instanceof O_)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof S_)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,aw).pipe(Object(d.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Lb(t=>{if(t instanceof S_)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Sw([],{[aw]:t}):t;return new Ew(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(d.a)(t=>new Sw([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(s.a)({});const n=[],r=[],i={};return mw(t,(t,s)=>{const o=e(s,t).pipe(Object(d.a)(t=>i[s]=t));s===aw?n.push(o):r.push(o)}),s.a.apply(null,n.concat(r)).pipe(Dt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?l((e,n)=>t(e,n,r)):Gy.a,Pb(1),n?My(e):qy(()=>new ky))}(),Object(d.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(s.a)(...n).pipe(Object(d.a)(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(Lb(t=>{if(t instanceof S_)return Object(s.a)(null);throw t}))),Dt(),$y(t=>!!t),Lb((t,n)=>{if(t instanceof ky||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(s.a)(new Sw([],{}));throw new S_(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return k_(r)!==s?T_(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):T_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?I_(i):this.lineralizeSegments(n,i).pipe(Object(a.a)(n=>{const i=new Sw(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:u,lastChild:c,positionalParamSegments:l}=j_(e,r,i);if(!o)return T_(e);const h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?I_(h):this.lineralizeSegments(r,h).pipe(Object(a.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(d.a)(t=>(n._loadedConfig=t,new Sw(r,{})))):Object(s.a)(new Sw(r,{}));const{matched:i,consumedSegments:o,lastChild:u}=j_(e,n,r);if(!i)return T_(e);const c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(a.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>N_(t,e,n)&&k_(n)!==aw)}(t,n,r)?{segmentGroup:A_(new Sw(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&k_(r)!==aw&&(n[k_(r)]=new Sw([],{}));return n}(r,new Sw(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>N_(t,e,n))}(t,n,r)?{segmentGroup:A_(new Sw(t.segments,function(t,e,n,r){const i={};for(const s of n)N_(t,e,s)&&!r[k_(s)]&&(i[k_(s)]=new Sw([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,c,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(d.a)(t=>new Sw(o,t))):0===r.length&&0===a.length?Object(s.a)(new Sw(o,{})):this.expandSegment(n,i,r,a,aw,!0).pipe(Object(d.a)(t=>new Sw(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(s.a)(new w_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(s.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(a.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(d.a)(t=>(e._loadedConfig=t,t))):function(t){return new o.a(e=>e.error(lw(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(s.a)(new w_([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(kt.a)(r).pipe(Object(d.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&__(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!__(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return gw(s)})).pipe(Dt(),Object(Ub.a)(t=>{if(!E_(t))return;const e=lw(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new Vb(i,void 0,t)))):Object(s.a)(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(s.a)(n);if(r.numberOfChildren>1||!r.children.primary)return x_(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ew(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return mw(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return mw(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Sw(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function j_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||hw)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function A_(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Sw(t.segments.concat(e.segments),e.children)}return t}function N_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function k_(t){return t.outlet||aw}class P_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class D_{constructor(t,e){this.component=t,this.route=e}}function R_(t,e,n){const r=t._root;return F_(r,e?e._root:null,n,[r.value])}function L_(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function F_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Kw(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Tw(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Tw(t.url,e.url)||!fw(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!r_(t,e)||!fw(t.queryParams,e.queryParams);case"paramsChange":default:return!r_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new P_(r)):(s.data=o.data,s._resolvedData=o._resolvedData),F_(t,e,s.component?a?a.children:null:n,r,i),u&&i.canDeactivateChecks.push(new D_(a&&a.outlet&&a.outlet.component||null,o))}else o&&M_(e,a,i),i.canActivateChecks.push(new P_(r)),F_(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),mw(s,(t,e)=>M_(t,n.getContext(e),i)),i}function M_(t,e,n){const r=Kw(t),i=t.value;mw(r,(t,r)=>{M_(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new D_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const U_=Symbol("INITIAL_VALUE");function V_(){return Ey(t=>function(...t){let e=null,n=null;return Object(Lt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(xb.a)(t[0])&&(t=t[0]),Object(Cb.a)(t,n).lift(new Ab(e))}(...t.map(t=>t.pipe(Ry(1),Ft(U_)))).pipe(qt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==U_)return t;if(r===U_&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||E_(r))return r}return t},t)},U_),l(t=>t!==U_),Object(d.a)(t=>E_(t)?t:!0===t),Ry(1)))}function q_(t,e){return null!==t&&e&&e(new iw(t)),Object(s.a)(!0)}function H_(t,e){return null!==t&&e&&e(new nw(t)),Object(s.a)(!0)}function z_(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(s.a)(!0);const i=r.map(r=>kb(()=>{const i=L_(r,e,n);let s;if(function(t){return t&&__(t.canActivate)}(i))s=gw(i.canActivate(e,t));else{if(!__(i))throw new Error("Invalid CanActivate guard");s=gw(i(e,t))}return s.pipe($y())}));return Object(s.a)(i).pipe(V_())}function B_(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>kb(()=>{const i=e.guards.map(i=>{const s=L_(i,e.node,n);let o;if(function(t){return t&&__(t.canActivateChild)}(s))o=gw(s.canActivateChild(r,t));else{if(!__(s))throw new Error("Invalid CanActivateChild guard");o=gw(s(r,t))}return o.pipe($y())});return Object(s.a)(i).pipe(V_())}));return Object(s.a)(i).pipe(V_())}class G_{}class $_{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=W_(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,aw),n=new Yw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},aw,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $w(n,e),i=new Xw(this.url,r);return this.inheritParamsAndData(i._root),Object(s.a)(i)}catch(py){return new o.a(e=>e.error(py))}}inheritParamsAndData(t){const e=t.value,n=Zw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Iw(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===aw?-1:e.value.outlet===aw?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(py){if(!(py instanceof G_))throw py}if(this.noLeftoversInUrl(e,n,r))return[];throw new G_}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new G_;if((t.outlet||aw)!==r)throw new G_;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?yw(n).parameters:{};i=new Yw(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Y_(t),r,t.component,t,K_(e),J_(e)+n.length,X_(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new G_;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||hw)(n,t,e);if(!r)throw new G_;const i={};mw(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Yw(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Y_(t),r,t.component,t,K_(e),J_(e)+s.length,X_(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=W_(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new $w(i,t)]}if(0===a.length&&0===c.length)return[new $w(i,[])];const l=this.processSegment(a,u,c,aw);return[new $w(i,l)]}}function K_(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function J_(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function W_(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Q_(t,e,n)&&Z_(n)!==aw)}(t,n,r)){const i=new Sw(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Z_(s)!==aw){const n=new Sw([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Z_(s)]=n}return i}(t,e,r,new Sw(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Q_(t,e,n))}(t,n,r)){const s=new Sw(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Q_(t,n,a)&&!i[Z_(a)]){const n=new Sw([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Z_(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Sw(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Q_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Z_(t){return t.outlet||aw}function Y_(t){return t.data||{}}function X_(t){return t.resolve||{}}function tE(t){return function(e){return e.pipe(Ey(e=>{const n=t(e);return n?Object(kt.a)(n).pipe(Object(d.a)(()=>e)):Object(kt.a)([e])}))}}class eE{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let nE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Fb(0,"router-outlet")},directives:function(){return[mE]},encapsulation:2}),t})();function rE(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];iE(r,sE(e,r))}}function iE(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==aw)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&rE(t.children,e)}function sE(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function oE(t){const e=t.children&&t.children.map(oE),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==aw&&(n.component=nE),n}const aE=new r.q("ROUTES");class uE{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(d.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new w_(pw(r.injector.get(aE)).map(oE),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(kt.a)(this.loader.load(t)):gw(t()).pipe(Object(a.a)(t=>t instanceof r.v?Object(s.a)(t):Object(kt.a)(this.compiler.compileModuleAsync(t))))}}class cE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new lE,this.attachRef=null}}class lE{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new cE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class hE{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fE(t){throw t}function dE(t,e,n){return e.parse("/")}function pE(t,e){return Object(s.a)(null)}let yE=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new gy.a,this.errorHandler=fE,this.malformedUriErrorHandler=dE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pE,afterPreactivation:pE},this.urlHandlingStrategy=new hE,this.routeReuseStrategy=new eE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.W);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Ew(new Sw([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uE(o,a,t=>this.triggerEvent(new tw(t)),t=>this.triggerEvent(new ew(t))),this.routerState=Ww(this.currentUrlTree,this.rootComponentType),this.transitions=new Ib({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(l(t=>0!==t.id),Object(d.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ey(t=>{let n=!1,r=!1;return Object(s.a)(t).pipe(Object(Ub.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ey(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(s.a)(t).pipe(Ey(t=>{const n=this.transitions.getValue();return e.next(new Gb(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Dy.a:[t]}),Ey(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,u=this.config,function(t){return t.pipe(Ey(t=>function(t,e,n,r,i){return new C_(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,u).pipe(Object(d.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Ub.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(a.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new $_(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(d.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ub.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Ub.a)(t=>{const n=new Wb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,u;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:a}=t,u=new Gb(n,this.serializeUrl(r),i,o);e.next(u);const c=Ww(r,this.rootComponentType).snapshot;return Object(s.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Dy.a}),tE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ub.a)(t=>{const e=new Qb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(d.a)(t=>Object.assign(Object.assign({},t),{guards:R_(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(a.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=n;return 0===c.length&&0===o.length?Object(s.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(kt.a)(t).pipe(Object(a.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);const a=o.map(s=>{const o=L_(s,e,i);let a;if(function(t){return t&&__(t.canDeactivate)}(o))a=gw(o.canDeactivate(t,e,n,r));else{if(!__(o))throw new Error("Invalid CanDeactivate guard");a=gw(o(t,e,n,r))}return a.pipe($y())});return Object(s.a)(a).pipe(V_())}(t.component,t.route,n,e,r)),$y(t=>!0!==t,!0))}(c,r,i,t).pipe(Object(a.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(kt.a)(e).pipe(u(e=>Object(kt.a)([H_(e.route.parent,r),q_(e.route,r),B_(t,e.path,n),z_(t,e.route,n)]).pipe(Dt(),$y(t=>!0!==t,!0))),$y(t=>!0!==t,!0))}(r,o,t,e):Object(s.a)(n)),Object(d.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ub.a)(t=>{if(E_(t.guardsResult)){const e=lw(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Ub.a)(t=>{const e=new Zb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),l(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Kb(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),tE(t=>{if(t.guards.canActivateChecks.length)return Object(s.a)(t).pipe(Object(Ub.a)(t=>{const e=new Yb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ey(t=>{let n=!1;return Object(s.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(a.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(s.a)(t);let o=0;return Object(kt.a)(n).pipe(u(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(s.a)({});const o={};return Object(kt.a)(i).pipe(Object(a.a)(i=>function(t,e,n,r){const i=L_(t,e,r);return gw(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ub.a)(t=>{o[i]=t}))),Pb(1),Object(a.a)(()=>Object.keys(o).length===i.length?Object(s.a)(o):Dy.a))}(t._resolve,t,e,r).pipe(Object(d.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Zw(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ub.a)(()=>o++),Pb(1),Object(a.a)(e=>o===n.length?Object(s.a)(t):Dy.a))}))}),Object(Ub.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Kb(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ub.a)(t=>{const e=new Xb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),tE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(d.a)(t=>{const e=function(t,e,n){const r=i_(t,e._root,n?n._root:void 0);return new Jw(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ub.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,c=this.routeReuseStrategy,h=t=>this.triggerEvent(t),Object(d.a)(t=>(new v_(c,t.targetRouterState,t.currentRouterState,h).activate(o),t))),Object(Ub.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Kb(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Hb(i))),Lb(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=E_(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Kb(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Jb(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Ro){t.reject(Ro)}}var i;return Dy.a}));var i,o,c,h}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){rE(t),this.config=t.map(oE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.T)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return a_(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new c_(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return mw(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new c_(n,e,r)}(n);if(s.toRoot())return a_(e.root,new Sw([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new l_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new l_(t,t===e.root,0)}const r=o_(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new l_(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?d_(o.segmentGroup,o.index,s.commands):f_(o.segmentGroup,o.index,s.commands);return a_(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.T)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=E_(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(py){e=this.malformedUriErrorHandler(py,this.urlSerializer,t)}return e}isActive(t,e){if(E_(t))return vw(this.currentUrlTree,t,e);const n=this.parseUrl(t);return vw(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new $b(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,u;i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.M),r.Jb(xw),r.Jb(lE),r.Jb(N),r.Jb(r.r),r.Jb(r.w),r.Jb(r.i),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),mE=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||aw,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new gE(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(lE),r.Eb(r.P),r.Eb(r.j),r.Kb("name"),r.Eb(r.h))},t.\u0275dir=r.zb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class gE{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Qw?this.route:t===lE?this.childContexts:this.parent.get(t,e)}}class vE{}class bE{preload(t,e){return Object(s.a)(null)}}let wE=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new uE(e,n,e=>t.triggerEvent(new tw(e)),e=>t.triggerEvent(new ew(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(l(t=>t instanceof $b),u(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(kt.a)(n).pipe(Object(Pt.a)(),Object(d.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(a.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(yE),r.Jb(r.w),r.Jb(r.i),r.Jb(r.r),r.Jb(vE))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})(),_E=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $b&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ow&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ow(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(yE),r.Jb(W),r.Jb(void 0))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();const EE=new r.q("ROUTER_CONFIGURATION"),SE=new r.q("ROUTER_FORROOT_GUARD"),OE=[N,{provide:xw,useClass:Cw},{provide:yE,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new yE(null,t,e,n,r,i,s,pw(o));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=y();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[xw,lE,N,r.r,r.w,r.i,aE,EE,[class{},new r.A],[class{},new r.A]]},lE,{provide:Qw,useFactory:function(t){return t.routerState.root},deps:[yE]},{provide:r.w,useClass:r.J},wE,bE,class{preload(t,e){return e().pipe(Lb(()=>Object(s.a)(null)))}},{provide:EE,useValue:{enableTracing:!1}}];function TE(){return new r.y("Router",yE)}let IE=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[OE,AE(e),{provide:SE,useFactory:jE,deps:[[yE,new r.A,new r.I]]},{provide:EE,useValue:n||{}},{provide:I,useFactory:CE,deps:[g,[new r.p(C),new r.A],EE]},{provide:_E,useFactory:xE,deps:[yE,W,EE]},{provide:vE,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bE},{provide:r.y,multi:!0,useFactory:TE},[NE,{provide:r.d,multi:!0,useFactory:kE,deps:[NE]},{provide:DE,useFactory:PE,deps:[NE]},{provide:r.b,multi:!0,useExisting:DE}]]}}static forChild(e){return{ngModule:t,providers:[AE(e)]}}}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)(r.Jb(SE,8),r.Jb(yE,8))}}),t})();function xE(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new _E(t,e,n)}function CE(t,e,n={}){return n.useHash?new A(t,e):new j(t,e)}function jE(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function AE(t){return[{provide:r.a,multi:!0,useValue:t},{provide:aE,multi:!0,useValue:t}]}let NE=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new gy.a}appInitializer(){return this.injector.get(b,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(yE),r=this.injector.get(EE);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(s.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(EE),n=this.injector.get(wE),i=this.injector.get(_E),s=this.injector.get(yE),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.r))},t.\u0275prov=r.Ab({token:t,factory:t.\u0275fac}),t})();function kE(t){return t.appInitializer.bind(t)}function PE(t){return t.bootstrapListener.bind(t)}const DE=new r.q("Router Initializer");let RE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-picture-page"]],decls:7,vars:0,consts:[[1,"design"],[1,"text-center"],["src","../../../assets/images/1.jpg","alt","...",1,"rounded-circle","mt-2","border","border-info",2,"max-height","220px"],[1,"fs-1","fw-bold","lh-base",2,"color","white"],[1,"fs-4","fw-bold"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"div",1),r.Fb(2,"img",2),r.Hb(3,"p",3),r.Vb(4,"Md. Foridul Islam"),r.Gb(),r.Hb(5,"p",4),r.Vb(6,"Software Engineer, Dhaka, Bangladesh."),r.Gb(),r.Gb(),r.Gb())},styles:[".design[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;min-height:60vh;background:linear-gradient(to right top,#65dfc9,#6cdbeb)}"]}),t})();function LE(t,e){if(1&t&&(r.Hb(0,"p"),r.Vb(1),r.Gb()),2&t){const t=e.$implicit;r.vb(1),r.Wb(" ",t.description," ")}}let FE=(()=>{class t{constructor(t){this.http=t,this.team$=this.http.get("/api/about")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(pt))},t.\u0275cmp=r.yb({type:t,selectors:[["app-about-me"]],decls:9,vars:3,consts:[[1,"container"],[1,"fs-2","text-center","fw-bold","mt-5"],[1,"text-center","styling"],[1,"bi","bi-star-fill"],[1,"row"],[1,"col-md-6","fs-6","mt-3","lh-base"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Hb(0,"div",0),r.Hb(1,"p",1),r.Vb(2,"About Me"),r.Gb(),r.Hb(3,"div",2),r.Fb(4,"i",3),r.Gb(),r.Hb(5,"div",4),r.Hb(6,"div",5),r.Ub(7,LE,2,1,"p",6),r.Ob(8,"async"),r.Gb(),r.Gb(),r.Gb()),2&t&&(r.vb(7),r.Qb("ngForOf",r.Pb(8,1,e.team$)))},directives:[V],pipes:[$],styles:[""]}),t})();const ME=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Fb(0,"app-picture-page"),r.Fb(1,"app-about-me"))},directives:[RE,FE],styles:[""]}),t})()}];let UE=(()=>{class t{}return t.\u0275mod=r.Cb({type:t}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},imports:[[IE.forRoot(ME)],IE]}),t})(),VE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-navbar"]],decls:28,vars:0,consts:[[1,"navbar","navbar-expand-lg","sticky-top","navbar-light","bg-info"],[1,"container","fw-bold"],["href","#",1,"navbar-brand","text-uppercase","fw-bold","fs-3",2,"color","white"],[1,"d-flex","justify-content-center"],[1,"navbar-nav"],[1,"nav-item"],["href","#",1,"nav-link",2,"color","white"],[1,"bi","bi-linkedin"],["href","https://github.com/foridulislam21","target","_blank",1,"nav-link",2,"color","white"],[1,"bi","bi-github"],["href","https://web.facebook.com/forid.islam20/","target","_blank",1,"nav-link",2,"color","white"],[1,"bi","bi-facebook"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end","text-uppercase","fs-4"]],template:function(t,e){1&t&&(r.Hb(0,"nav",0),r.Hb(1,"div",1),r.Hb(2,"a",2),r.Vb(3,"Md. Foridul Islam"),r.Gb(),r.Fb(4,"div",3),r.Hb(5,"ul",4),r.Hb(6,"li",5),r.Hb(7,"a",6),r.Fb(8,"i",7),r.Gb(),r.Gb(),r.Hb(9,"li",5),r.Hb(10,"a",8),r.Fb(11,"i",9),r.Gb(),r.Gb(),r.Hb(12,"li",5),r.Hb(13,"a",10),r.Fb(14,"i",11),r.Gb(),r.Gb(),r.Gb(),r.Hb(15,"button",12),r.Fb(16,"span",13),r.Gb(),r.Hb(17,"div",14),r.Hb(18,"ul",4),r.Hb(19,"li",5),r.Hb(20,"a",6),r.Vb(21,"About Me"),r.Gb(),r.Gb(),r.Hb(22,"li",5),r.Hb(23,"a",6),r.Vb(24,"Interests"),r.Gb(),r.Gb(),r.Hb(25,"li",5),r.Hb(26,"a",6),r.Vb(27,"Contact"),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb(),r.Gb())},styles:[""]}),t})(),qE=(()=>{class t{constructor(){this.title="my-portfolio-pages"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.yb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Fb(0,"app-navbar"),r.Fb(1,"router-outlet"))},directives:[VE,mE],styles:[""]}),t})(),HE=(()=>{class t{}return t.\u0275mod=r.Cb({type:t,bootstrap:[qE]}),t.\u0275inj=r.Bb({factory:function(e){return new(e||t)},providers:[],imports:[[$m,UE,Tb,jt,At.a.initializeApp(i),gm]]}),t})();Object(r.S)(),Bm().bootstrapModule(HE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);